<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Pilot Oral Exam Prep - Interactive Study</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px 20px 40px 20px;
        }
        
        /* Landing Screen */
        .landing-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
        }
        
        .welcome-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 60px 50px;
            border: 1px solid rgba(255,255,255,0.2);
            max-width: 600px;
            animation: fadeInUp 0.8s ease;
        }
        
        .welcome-badge {
            display: inline-block;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 20px;
        }
        
        .welcome-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 42px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .welcome-subtitle {
            font-size: 18px;
            color: #cbd5e1;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .welcome-description {
            font-size: 15px;
            color: #94a3b8;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .welcome-description strong {
            color: #cbd5e1;
            font-weight: 600;
        }
        
        .welcome-info {
            margin-bottom: 16px;
            margin-top: 32px;
            text-align: left;
        }
        
        .upgrade-hint {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #94a3b8;
            font-size: 13px;
        }
        
        .start-button {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 8px 30px rgba(59,130,246,0.4);
        }
        
        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(59,130,246,0.5);
        }
        
        .features-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-top: 40px;
            text-align: left;
        }
        
        .feature-item {
            background: rgba(255,255,255,0.05);
            padding: 16px;
            border-radius: 10px;
            font-size: 14px;
            color: #cbd5e1;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-item::before {
            content: 'âœ“';
            color: #10b981;
            font-weight: bold;
            font-size: 18px;
            background: rgba(16,185,129,0.2);
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        /* Onboarding Modal */
        .onboarding-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }
        
        .onboarding-overlay.hidden {
            display: none;
        }
        
        .onboarding-modal {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.4) 0%, rgba(30, 64, 175, 0.4) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 24px;
            padding: 48px;
            max-width: 600px;
            width: 90%;
            animation: fadeInUp 0.5s ease;
            text-align: center;
        }
        
        .onboarding-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }
        
        .onboarding-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 32px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 32px;
        }
        
        .onboarding-steps {
            text-align: left;
            margin-bottom: 32px;
        }
        
        .onboarding-step {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            align-items: flex-start;
        }
        
        .step-number {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .step-content h3 {
            font-size: 18px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 8px;
        }
        
        .step-content p {
            font-size: 14px;
            color: #cbd5e1;
            line-height: 1.6;
        }
        
        .step-content strong {
            color: #ffffff;
        }
        
        .onboarding-btn {
            width: 100%;
            padding: 18px 40px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 8px 30px rgba(59,130,246,0.4);
        }
        
        .onboarding-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(59,130,246,0.5);
        }
        
        .onboarding-skip {
            margin-top: 16px;
            color: #94a3b8;
            font-size: 13px;
        }
        
        /* Upgrade Modal */
        .upgrade-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            animation: fadeIn 0.3s ease;
        }
        
        .upgrade-overlay.hidden {
            display: none;
        }
        
        .upgrade-modal {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.4) 0%, rgba(30, 64, 175, 0.4) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 24px;
            padding: 48px;
            max-width: 500px;
            width: 90%;
            animation: fadeInUp 0.5s ease;
            text-align: center;
        }
        
        .upgrade-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }
        
        .upgrade-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 12px;
        }
        
        .upgrade-subtitle {
            color: #cbd5e1;
            font-size: 16px;
            margin-bottom: 24px;
        }
        
        .upgrade-features {
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            text-align: left;
        }
        
        .upgrade-feature {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            color: #cbd5e1;
            font-size: 14px;
        }
        
        .upgrade-feature:last-child {
            margin-bottom: 0;
        }
        
        .upgrade-feature-icon {
            color: #10b981;
            font-size: 20px;
        }
        
        .upgrade-buttons {
            display: flex;
            gap: 12px;
        }
        
        .upgrade-btn {
            flex: 1;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }
        
        .upgrade-btn.primary {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            box-shadow: 0 8px 30px rgba(245,158,11,0.4);
        }
        
        .upgrade-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(245,158,11,0.5);
        }
        
        .upgrade-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .upgrade-btn.secondary:hover {
            background: rgba(255,255,255,0.15);
        }
        
        /* Reset Confirmation Modal */
        .reset-confirmation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            animation: fadeIn 0.3s ease;
        }
        
        .reset-confirmation-overlay.hidden {
            display: none;
        }
        
        .reset-confirmation-modal {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.4) 0%, rgba(30, 64, 175, 0.4) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 24px;
            padding: 48px;
            max-width: 500px;
            width: 90%;
            animation: fadeInUp 0.5s ease;
            text-align: center;
        }
        
        .reset-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }
        
        .reset-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 12px;
        }
        
        .reset-subtitle {
            color: #cbd5e1;
            font-size: 16px;
            margin-bottom: 24px;
            line-height: 1.6;
        }
        
        .reset-warning {
            background: rgba(239,68,68,0.2);
            border: 2px solid rgba(239,68,68,0.4);
            border-radius: 12px;
            padding: 16px;
            color: #fca5a5;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 24px;
        }
        
        .reset-buttons {
            display: flex;
            gap: 12px;
        }
        
        .reset-btn {
            flex: 1;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }
        
        .reset-btn.primary {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            box-shadow: 0 8px 30px rgba(239,68,68,0.4);
        }
        
        .reset-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(239,68,68,0.5);
        }
        
        .reset-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .reset-btn.secondary:hover {
            background: rgba(255,255,255,0.15);
        }
        
        /* Mock Checkride Screens */
        .mock-briefing {
            display: none;
        }
        
        .mock-briefing.active {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
        }
        
        .briefing-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 48px;
            max-width: 700px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .briefing-icon {
            font-size: 72px;
            text-align: center;
            margin-bottom: 16px;
        }
        
        .briefing-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 32px;
            font-weight: 800;
            color: #1e3a8a;
            text-align: center;
            margin-bottom: 8px;
        }
        
        .briefing-subtitle {
            text-align: center;
            color: #64748b;
            font-size: 16px;
            margin-bottom: 32px;
        }
        
        .briefing-rules h3 {
            color: #1e293b;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
        }
        
        .rule-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
            color: #334155;
            font-size: 15px;
            line-height: 1.6;
        }
        
        .rule-icon {
            font-size: 20px;
            flex-shrink: 0;
        }
        
        .briefing-warning {
            background: #fef3c7;
            border: 2px solid #fde68a;
            border-radius: 12px;
            padding: 16px;
            color: #92400e;
            font-size: 14px;
            text-align: center;
            margin: 24px 0;
        }
        
        .briefing-info {
            background: #dbeafe;
            border: 2px solid #93c5fd;
            border-radius: 12px;
            padding: 16px;
            color: #1e40af;
            font-size: 14px;
            text-align: center;
            margin: 24px 0;
        }
        
        .briefing-buttons {
            display: flex;
            gap: 16px;
        }
        
        .briefing-btn {
            flex: 1;
            padding: 18px 32px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }
        
        .briefing-btn.primary {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            box-shadow: 0 8px 30px rgba(239,68,68,0.4);
        }
        
        .briefing-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(239,68,68,0.5);
        }
        
        .briefing-btn.secondary {
            background: rgba(59,130,246,0.1);
            color: #1e40af;
            border: 2px solid rgba(59,130,246,0.3);
        }
        
        .briefing-btn.secondary:hover {
            background: rgba(59,130,246,0.15);
        }
        
        /* Mock Exam Screen */
        .mock-exam-screen {
            display: none;
        }
        
        .mock-exam-screen.active {
            display: block;
        }
        
        .mock-back-btn {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
            position: relative;
            z-index: 10;
        }
        
        .mock-back-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .mock-timer {
            background: rgba(239,68,68,0.15);
            border: 2px solid rgba(239,68,68,0.3);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
        }
        
        .timer-label {
            display: block;
            font-size: 12px;
            font-weight: 700;
            color: #dc2626;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        
        .timer-display {
            font-family: 'Montserrat', sans-serif;
            font-size: 48px;
            font-weight: 800;
            color: #ef4444;
        }
        
        .mock-progress-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 10px;
            margin-bottom: 24px;
            overflow: hidden;
        }
        
        .mock-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .mock-question-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .mock-question-header {
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .mock-question-number {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 10px 24px;
            border-radius: 10px;
            font-weight: 800;
            font-size: 16px;
            display: inline-block;
        }
        
        .mock-question-text {
            color: #1e293b;
            font-size: 22px;
            line-height: 1.6;
            font-weight: 600;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .mock-thinking-space {
            background: #f8fafc;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
            border: 2px dashed #cbd5e1;
        }
        
        .mock-reveal-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 4px 20px rgba(59,130,246,0.4);
        }
        
        .mock-reveal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(59,130,246,0.5);
        }
        
        .mock-answer-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 2px solid #e2e8f0;
        }
        
        .mock-answer-section.hidden {
            display: none;
        }
        
        .mock-rating-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }
        
        .mock-rating-btn {
            padding: 24px 20px;
            border: 3px solid;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .mock-rating-btn .rating-btn-icon {
            font-size: 32px;
        }
        
        .mock-rating-btn.wrong {
            background: #fef2f2;
            border-color: #fecaca;
            color: #dc2626;
        }
        
        .mock-rating-btn.wrong:hover {
            background: #fee2e2;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220,38,38,0.2);
        }
        
        .mock-rating-btn.unsure {
            background: #fffbeb;
            border-color: #fde68a;
            color: #d97706;
        }
        
        .mock-rating-btn.unsure:hover {
            background: #fef3c7;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(217,119,6,0.2);
        }
        
        .mock-rating-btn.correct {
            background: #f0fdf4;
            border-color: #bbf7d0;
            color: #16a34a;
        }
        
        .mock-rating-btn.correct:hover {
            background: #dcfce7;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(22,163,74,0.2);
        }
        
        /* Mock Results */
        .mock-results {
            display: none;
        }
        
        .mock-results.active {
            display: block;
        }
        
        /* Performance Insights */
        .insights-screen {
            display: none;
        }
        
        .insights-screen.active {
            display: block;
        }
        
        /* App Screen (hidden initially) */
        .app-screen {
            display: none;
        }
        
        .app-screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .landing-screen.hidden {
            display: none;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 24px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px 32px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .logo {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 4px;
            line-height: 1.2;
        }
        
        .tagline {
            font-size: 11px;
            color: #cbd5e1;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }
        
        /* Stats Dashboard */
        .stats-dashboard {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            text-align: center;
        }
        
        .stat-box {
            background: rgba(255,255,255,0.08);
            padding: 16px 12px;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.15);
            transition: all 0.3s ease;
        }
        
        .stat-box:hover {
            background: rgba(255,255,255,0.12);
            transform: translateY(-2px);
        }
        
        .stat-number {
            font-size: 40px;
            font-weight: 800;
            display: block;
            margin-bottom: 6px;
            font-family: 'Montserrat', sans-serif;
        }
        
        .stat-number.green { 
            color: #10b981;
            text-shadow: 0 0 20px rgba(16,185,129,0.3);
        }
        .stat-number.yellow { 
            color: #f59e0b;
            text-shadow: 0 0 20px rgba(245,158,11,0.3);
        }
        .stat-number.red { 
            color: #ef4444;
            text-shadow: 0 0 20px rgba(239,68,68,0.3);
        }
        .stat-number.blue { 
            color: #60a5fa;
            text-shadow: 0 0 20px rgba(96,165,250,0.3);
        }
        
        .stat-label {
            font-size: 11px;
            color: #cbd5e1;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        /* Mode Selection */
        .mode-selection {
            display: flex;
            flex-direction: column;
            gap: 24px;
            margin-bottom: 40px;
        }
        
        /* Hero card - Mock Checkride */
        .hero-mode-card {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            border-radius: 20px;
            padding: 48px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid rgba(255,255,255,0.2);
            position: relative;
            box-shadow: 0 20px 60px rgba(59,130,246,0.4);
            overflow: hidden;
        }
        
        .hero-mode-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }
        
        .hero-mode-card:hover::before {
            left: 100%;
        }
        
        .hero-mode-card:hover {
            transform: translateY(-6px) scale(1.01);
            box-shadow: 0 25px 70px rgba(59,130,246,0.5);
            border-color: rgba(255,255,255,0.4);
        }
        
        .hero-mode-card .mode-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        .hero-mode-card .mode-title {
            font-size: 32px;
            font-weight: 900;
            color: #ffffff;
            margin-bottom: 12px;
            font-family: 'Montserrat', sans-serif;
        }
        
        .hero-mode-card .mode-desc {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            line-height: 1.7;
            max-width: 700px;
        }
        
        .hero-badge {
            position: absolute;
            top: 24px;
            right: 24px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            border: 2px solid rgba(255,255,255,0.3);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.9;
            }
        }
        
        /* EPIC Pass celebration animation - Runescape level up style */
        @keyframes epicCelebrate {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            30% {
                transform: scale(1.3) rotate(10deg);
            }
            50% {
                transform: scale(0.9) rotate(-5deg);
            }
            70% {
                transform: scale(1.1) rotate(3deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }
        
        @keyframes megaBounce {
            0%, 100% {
                transform: translateY(0) scale(1);
            }
            10% {
                transform: translateY(-30px) scale(1.1);
            }
            20% {
                transform: translateY(0) scale(1);
            }
            30% {
                transform: translateY(-25px) scale(1.08);
            }
            40% {
                transform: translateY(0) scale(1);
            }
            50% {
                transform: translateY(-20px) scale(1.05);
            }
            60% {
                transform: translateY(0) scale(1);
            }
            70% {
                transform: translateY(-10px) scale(1.02);
            }
            80% {
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes scoreExplode {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
                filter: blur(10px);
            }
            50% {
                transform: scale(1.4) rotate(10deg);
                filter: blur(0px);
            }
            70% {
                transform: scale(0.95) rotate(-5deg);
            }
            85% {
                transform: scale(1.05) rotate(2deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
                filter: blur(0px);
            }
        }
        
        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(16, 185, 129, 0.3),
                            0 0 40px rgba(16, 185, 129, 0.2),
                            0 0 60px rgba(16, 185, 129, 0.1);
            }
            50% {
                box-shadow: 0 0 30px rgba(16, 185, 129, 0.5),
                            0 0 60px rgba(16, 185, 129, 0.3),
                            0 0 90px rgba(16, 185, 129, 0.2);
            }
        }
        
        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }
        
        @keyframes confetti {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }
        
        /* Fail shake animation */
        @keyframes shake {
            0%, 100% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(-10px);
            }
            75% {
                transform: translateX(10px);
            }
        }
        
        @keyframes fadeInSlow {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .epic-celebrate {
            animation: epicCelebrate 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .mega-bounce {
            animation: megaBounce 2s ease-in-out;
        }
        
        .score-explode {
            animation: scoreExplode 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .glow-effect {
            animation: glow 2s ease-in-out infinite;
        }
        
        .celebrate-animation {
            animation: celebrate 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .bounce-animation {
            animation: bounce 0.5s ease-in-out 3;
        }
        
        .shake-animation {
            animation: shake 0.5s ease-in-out;
        }
        
        .fade-in-slow {
            animation: fadeInSlow 0.8s ease;
        }
        
        /* Standard modes grid */
        .modes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .mode-card {
            background: rgba(255,255,255,0.95);
            border-radius: 16px;
            padding: 32px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid transparent;
            position: relative;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .mode-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 16px;
            background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(147,197,253,0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
            pointer-events: none;
        }
        
        .mode-card:hover::after {
            opacity: 1;
        }
        
        .mode-card:hover {
            transform: translateY(-4px) scale(1.02);
            border-color: #3b82f6;
            box-shadow: 0 12px 40px rgba(59,130,246,0.3);
        }
        
        .mode-card.locked {
            background: rgba(255,255,255,0.5);
            cursor: not-allowed;
            opacity: 0.8;
        }
        
        .mode-card.locked:hover {
            transform: translateY(-2px);
            border-color: #f59e0b;
            box-shadow: 0 8px 30px rgba(245,158,11,0.2);
        }
        
        .premium-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .start-here-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 800;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            box-shadow: 0 4px 12px rgba(16,185,129,0.4);
            animation: gentlePulse 2.5s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes gentlePulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 4px 12px rgba(16,185,129,0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 6px 16px rgba(16,185,129,0.6);
            }
        }
        
        .mode-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        
        .mode-title {
            font-size: 20px;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 8px;
        }
        
        .mode-desc {
            font-size: 14px;
            color: #64748b;
            line-height: 1.6;
        }
        
        /* Question Card */
        .question-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-bottom: 24px;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .question-number {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 10px 24px;
            border-radius: 10px;
            font-weight: 800;
            font-size: 18px;
        }
        
        .nav-buttons {
            display: flex;
            gap: 12px;
        }
        
        .nav-btn {
            background: rgba(59,130,246,0.1);
            border: 1px solid rgba(59,130,246,0.3);
            color: #1e40af;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .nav-btn:hover:not(:disabled) {
            background: rgba(59,130,246,0.2);
        }
        
        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .question-text {
            color: #1e293b;
            font-size: 20px;
            line-height: 1.6;
            font-weight: 600;
            margin-bottom: 30px;
        }
        
        .show-answer-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }
        
        .show-answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(59,130,246,0.4);
        }
        
        /* Answer Section */
        .answer-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e2e8f0;
        }
        
        .answer-section.hidden {
            display: none;
        }
        
        .answer-label {
            display: inline-block;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 16px;
        }
        
        .answer-text {
            color: #334155;
            font-size: 16px;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .answer-text strong {
            color: #1e40af;
            font-weight: 700;
            background: rgba(59,130,246,0.08);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .reference-tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 1px solid #93c5fd;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            color: #1e40af;
            text-decoration: none;
            margin-bottom: 24px;
            display: inline-block;
        }
        
        /* Scenario-Based Question Styles */
        .scenario-narrative {
            font-size: 16px;
            line-height: 1.9;
            color: #1e293b;
            margin-bottom: 24px;
        }
        
        .scenario-narrative p {
            margin-bottom: 14px;
        }
        
        .scenario-narrative p:last-child {
            margin-bottom: 0;
        }
        
        .dpe-question {
            font-size: 17px;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 30px;
            padding: 18px 20px;
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border-left: 4px solid #3b82f6;
            border-radius: 10px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
        }
        
        .question-icon {
            font-size: 22px;
            flex-shrink: 0;
        }
        
        .correct-answer-box {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 28px;
        }
        
        .section-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #e2e8f0, transparent);
            margin: 32px 0;
        }
        
        .trap-section {
            background: #fffbeb;
            border: 1px solid #fde68a;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 28px;
        }
        
        .trap-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            color: #92400e;
            font-size: 13px;
            margin-bottom: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .trap-quote {
            color: #451a03;
            font-size: 15px;
            font-style: italic;
            margin-bottom: 14px;
            padding: 12px 16px;
            background: rgba(251, 191, 36, 0.1);
            border-radius: 6px;
            position: relative;
        }
        
        .trap-quote::before {
            content: '"';
            position: absolute;
            left: -4px;
            top: -8px;
            font-size: 40px;
            color: #fbbf24;
            font-family: Georgia, serif;
            line-height: 1;
        }
        
        .trap-quote::after {
            content: '"';
            position: absolute;
            right: 8px;
            bottom: -20px;
            font-size: 40px;
            color: #fbbf24;
            font-family: Georgia, serif;
            line-height: 1;
        }
        
        .trap-explanation {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px 14px;
            background: white;
            border-radius: 6px;
            border: 1px solid #fde68a;
        }
        
        .trap-arrow {
            color: #ef4444;
            font-size: 18px;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .trap-explanation-text {
            color: #dc2626;
            font-size: 14px;
            line-height: 1.7;
            font-weight: 600;
        }
        
        .trap-explanation-text strong {
            color: #991b1b;
            font-weight: 800;
        }
        
        .why-section {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            margin-bottom: 28px;
        }
        
        .why-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            color: #1e40af;
            font-size: 13px;
            margin-bottom: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .why-content {
            color: #334155;
            font-size: 15px;
            line-height: 1.8;
        }
        
        .why-content p {
            margin-bottom: 12px;
        }
        
        .why-content p:last-child {
            margin-bottom: 0;
        }
        
        .details-toggle {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 1px solid #93c5fd;
            color: #1e40af;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            padding: 12px 18px;
            margin-top: 16px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        
        .details-toggle:hover {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-color: #60a5fa;
        }
        
        .details-icon {
            font-size: 14px;
        }
        
        .details-arrow {
            font-size: 10px;
            transition: transform 0.2s;
            margin-left: auto;
        }
        
        .details-arrow.expanded {
            transform: rotate(180deg);
        }
        
        .regulatory-details {
            margin-top: 16px;
            padding: 18px;
            background: white;
            border-radius: 8px;
            border: 1px solid #cbd5e1;
        }
        
        .regulatory-details.hidden {
            display: none;
        }
        
        .regulatory-details p {
            color: #475569;
            font-size: 14px;
            line-height: 1.8;
            margin-bottom: 14px;
        }
        
        .regulatory-details p:last-child {
            margin-bottom: 0;
        }
        
        .quick-recall {
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            border: 2px solid #a78bfa;
            padding: 16px 18px;
            border-radius: 10px;
            margin-bottom: 24px;
        }
        
        .recall-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            color: #6b21a8;
            font-size: 12px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .recall-content {
            color: #581c87;
            font-size: 14px;
            font-weight: 600;
            line-height: 1.7;
        }
        
        /* Rating Buttons */
        .rating-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 24px;
        }
        
        .rating-btn {
            padding: 20px;
            border: 2px solid;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .rating-btn-icon {
            font-size: 28px;
        }
        
        .rating-btn.wrong {
            background: #fef2f2;
            border-color: #fecaca;
            color: #dc2626;
        }
        
        .rating-btn.wrong:hover {
            background: #fee2e2;
            transform: translateY(-2px);
        }
        
        .rating-btn.unsure {
            background: #fffbeb;
            border-color: #fde68a;
            color: #d97706;
        }
        
        .rating-btn.unsure:hover {
            background: #fef3c7;
            transform: translateY(-2px);
        }
        
        .rating-btn.correct {
            background: #f0fdf4;
            border-color: #bbf7d0;
            color: #16a34a;
        }
        
        .rating-btn.correct:hover {
            background: #dcfce7;
            transform: translateY(-2px);
        }
        
        /* Control Bar */
        .control-bar {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-bottom: 16px;
        }
        
        .control-btn {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
        }
        
        .control-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .control-btn.locked-btn {
            background: rgba(245,158,11,0.2);
            border: 1px solid rgba(245,158,11,0.4);
            color: #fbbf24;
        }
        
        .control-btn.locked-btn:hover {
            background: rgba(245,158,11,0.3);
            transform: translateY(-1px);
        }
        
        /* Main Page Reset Button */
        .main-reset-btn {
            background: rgba(239,68,68,0.1);
            color: #dc2626;
            border: 2px solid rgba(239,68,68,0.3);
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }
        
        .main-reset-btn:hover {
            background: rgba(239,68,68,0.15);
            border-color: rgba(239,68,68,0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239,68,68,0.2);
        }
        
        /* Hidden */
        .hidden {
            display: none !important;
        }
        
        /* Progress Bar */
        .progress-container {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            width: 100%;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            transition: width 0.5s ease;
            border-radius: 10px;
            width: 0%;
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Mobile */
        @media (max-width: 768px) {
            .welcome-card {
                padding: 40px 30px;
            }
            
            .welcome-title {
                font-size: 36px;
            }
            
            .features-list {
                grid-template-columns: 1fr;
            }
            
            .modes-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-mode-card {
                padding: 32px 24px;
            }
            
            .hero-mode-card .mode-title {
                font-size: 24px;
            }
            
            .hero-mode-card .mode-icon {
                font-size: 48px;
            }
            
            .hero-badge {
                top: 16px;
                right: 16px;
                font-size: 10px;
                padding: 6px 12px;
            }
            
            .start-here-badge {
                top: 12px;
                right: 12px;
                font-size: 10px;
                padding: 5px 12px;
            }
            
            .onboarding-modal {
                padding: 32px 24px;
                width: 95%;
            }
            
            .onboarding-title {
                font-size: 24px;
            }
            
            .onboarding-icon {
                font-size: 48px;
            }
            
            .upgrade-modal {
                padding: 32px 24px;
                width: 95%;
            }
            
            .upgrade-title {
                font-size: 24px;
            }
            
            .upgrade-buttons {
                flex-direction: column;
            }
            
            .reset-confirmation-modal {
                padding: 32px 24px;
                width: 95%;
            }
            
            .reset-title {
                font-size: 24px;
            }
            
            .reset-buttons {
                flex-direction: column;
            }
            
            .briefing-card {
                padding: 32px 24px;
            }
            
            .briefing-title {
                font-size: 24px;
            }
            
            .briefing-buttons {
                flex-direction: column;
            }
            
            .timer-display {
                font-size: 36px;
            }
            
            .mock-back-btn {
                padding: 10px 16px;
                font-size: 13px;
            }
            
            .mock-question-card {
                padding: 30px 20px;
            }
            
            .mock-question-text {
                font-size: 18px;
            }
            
            .mock-rating-buttons {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .stat-number {
                font-size: 36px;
            }
            
            .question-card {
                padding: 30px 24px;
            }
            
            .rating-buttons {
                grid-template-columns: 1fr;
            }
            
            .nav-buttons {
                flex-direction: column;
            }
            
            .question-header {
                flex-direction: column;
                gap: 16px;
                align-items: flex-start;
            }
            
            .control-bar {
                flex-direction: column;
            }
        }
    </style>

    <!-- Cloud Sync backend (Supabase Edge Functions) is implemented in the app script. -->
</head>
<body>
    <!-- Landing Screen -->
    <div class="landing-screen" id="landing-screen">
        <div class="welcome-card">
            <div class="welcome-badge">PREMIUM VERSION</div>
            <div class="welcome-title">PPL Oral Exam Prep</div>
            <div class="welcome-subtitle">Master Your Checkride with Real DPE Scenarios</div>
            <div class="welcome-description">
                Practice with <strong>250 realistic scenario-based questions</strong> that mirror actual checkride situations. Each question includes detailed model answers, FAA references, and intelligent progress tracking.
            </div>
            
            <button type="button" class="start-button" onclick="startApp()">
                Start Studying â†’
            </button>
            
            <div class="welcome-info">
                <p style="margin-bottom: 12px; font-weight: 600; color: #cbd5e1;">What's Included:</p>
            </div>
            
            <div class="features-list">
                <div class="feature-item">250 DPE-Style Questions</div>
                <div class="feature-item">Study & Random Modes</div>
                <div class="feature-item">Track Your Weak Areas</div>
                <div class="feature-item">Linked FAA References</div>
            </div>
        </div>
    </div>
    
    <!-- Upgrade Modal (hidden initially) -->
    <div class="upgrade-overlay hidden" id="upgrade-overlay">
        <div class="upgrade-modal">
            <div class="upgrade-icon">ðŸ”’</div>
            <h2 class="upgrade-title" id="upgrade-title">Premium Feature</h2>
            <p class="upgrade-subtitle" id="upgrade-subtitle">Upgrade to unlock this feature</p>
            
            <div class="upgrade-features">
                <div class="upgrade-feature">
                    <span class="upgrade-feature-icon">âœ“</span>
                    <span><strong>Mock Checkride Simulator</strong> - Timed practice exam</span>
                </div>
                <div class="upgrade-feature">
                    <span class="upgrade-feature-icon">âœ“</span>
                    <span>100 comprehensive checkride questions</span>
                </div>
                <div class="upgrade-feature">
                    <span class="upgrade-feature-icon">âœ“</span>
                    <span>Review wrong answers only mode</span>
                </div>
                <div class="upgrade-feature">
                    <span class="upgrade-feature-icon">âœ“</span>
                    <span>Performance insights & analytics</span>
                </div>
                <div class="upgrade-feature">
                    <span class="upgrade-feature-icon">âœ“</span>
                    <span>Export progress reports</span>
                </div>
                <div class="upgrade-feature">
                    <span class="upgrade-feature-icon">âœ“</span>
                    <span>Lifetime access + updates</span>
                </div>
            </div>
            
            <div class="upgrade-buttons">
                <button type="button" class="upgrade-btn secondary" onclick="closeUpgradeModal()">Maybe Later</button>
                <button type="button" class="upgrade-btn primary" onclick="upgradeNow()">Upgrade for $37</button>
            </div>
        </div>
    </div>
    
    <!-- Reset Confirmation Modal (hidden initially) -->
    <div class="reset-confirmation-overlay hidden" id="reset-confirmation-overlay">
        <div class="reset-confirmation-modal">
            <div class="reset-icon">âš ï¸</div>
            <h2 class="reset-title">Reset All Progress?</h2>
            <p class="reset-subtitle">This will permanently delete all your study progress, ratings, and statistics.</p>
            
            <div class="reset-warning">
                This action cannot be undone.
            </div>
            
            <div class="reset-buttons">
                <button type="button" class="reset-btn secondary" onclick="closeResetConfirmation()">Cancel</button>
                <button type="button" class="reset-btn primary" onclick="confirmReset()">Yes, Reset Everything</button>
            </div>
        </div>
    </div>
    
    <!-- Exit Mock Checkride Confirmation Modal -->
    <div class="reset-confirmation-overlay hidden" id="exit-mock-overlay">
        <div class="reset-confirmation-modal">
            <div class="reset-icon">âš ï¸</div>
            <h2 class="reset-title">Exit Mock Checkride?</h2>
            <p class="reset-subtitle">Your progress in this mock checkride will be lost.</p>
            
            <div class="reset-warning">
                The timer will stop and you'll return to the main menu.
            </div>
            
            <div class="reset-buttons">
                <button type="button" class="reset-btn secondary" onclick="closeExitConfirmation()">Stay in Exam</button>
                <button type="button" class="reset-btn primary" onclick="confirmExitMock()">Yes, Exit</button>
            </div>
        </div>
    </div>
    
    <!-- No Wrong Answers Modal -->
    <div class="reset-confirmation-overlay hidden" id="no-wrong-answers-overlay">
        <div class="reset-confirmation-modal">
            <div class="reset-icon">âœ…</div>
            <h2 class="reset-title">Great Job!</h2>
            <p class="reset-subtitle">You don't have any questions marked as "Need Practice".</p>
            
            <div class="reset-warning" style="background: rgba(16,185,129,0.2); border: 2px solid #10b981; color: #ffffff; font-weight: 700;">
                Try Study or Random mode to continue learning.
            </div>
            
            <div class="reset-buttons">
                <button type="button" class="reset-btn primary" onclick="closeNoWrongAnswersModal()">Got It</button>
            </div>
        </div>
    </div>
    
    <!-- Onboarding Modal (hidden initially) -->
    <div class="onboarding-overlay hidden" id="onboarding-overlay">
        <div class="onboarding-modal">
            <div class="onboarding-icon">âœˆï¸</div>
            <h2 class="onboarding-title">How It Works</h2>
            <div class="onboarding-steps">
                <div class="onboarding-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Choose Your Mode</h3>
                        <p><strong>Study Mode:</strong> Go through questions in order to learn<br>
                        <strong>Random Mode:</strong> Test yourself with shuffled questions</p>
                    </div>
                </div>
                <div class="onboarding-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Read & Reflect</h3>
                        <p>Think about your answer before revealing the model response</p>
                    </div>
                </div>
                <div class="onboarding-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Rate Honestly</h3>
                        <p><strong>Mastered:</strong> You knew it cold<br>
                        <strong>Review:</strong> Partially correct, needs more study<br>
                        <strong>Need Practice:</strong> Got it wrong, need to review</p>
                    </div>
                </div>
            </div>
            <button type="button" class="onboarding-btn" onclick="closeOnboarding()">Got It, Let's Start! â†’</button>
            <div class="onboarding-skip">
                <small>This tutorial won't show again</small>
            </div>
        </div>
    </div>
    
    <!-- App Screen (hidden initially) -->
    <div class="app-screen" id="app-screen">
        <div class="container">
            <!-- Header -->
            <div class="header">
                <div class="logo">Private Pilot Oral Exam Prep</div>
                <div class="tagline">Interactive Study Platform</div>
            </div>
            
            <!-- Stats Dashboard -->
            <div class="stats-dashboard" id="stats-dashboard">
                <div class="stats-grid">
                    <div class="stat-box">
                        <span class="stat-number green" id="stat-correct">0</span>
                        <span class="stat-label">âœ“ Mastered</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number yellow" id="stat-unsure">0</span>
                        <span class="stat-label">âš ï¸ Review</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number red" id="stat-wrong">0</span>
                        <span class="stat-label">âŒ Need Practice</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-number blue" id="stat-progress">0</span>
                        <span class="stat-label">Questions Done</span>
                    </div>
                </div>
            </div>
            
            <!-- Main Page Reset Button -->
            <div id="main-reset-container" style="text-align: center; margin-bottom: 30px;">
                <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                    <button type="button" class="main-reset-btn" onclick="resetProgressMainPage(event)">
                        ðŸ”„ Reset All Progress
                    </button>
                    <button type="button" class="main-reset-btn" onclick="connectCloudSync()">
                        â˜ï¸ Cloud Sync
                    </button>
                    <button type="button" class="main-reset-btn" onclick="configureCloudSync()">
                        âš™ï¸ Cloud Sync Setup
                    </button>
                    <button type="button" class="main-reset-btn" onclick="resetCloudSyncSettings()">
                        ðŸ§¹ Reset Cloud Sync
                    </button>
                </div>
            </div>
            
            <!-- Mode Selection -->
            <div class="mode-selection" id="mode-selection">
                <!-- Hero Card: Mock Checkride -->
                <div class="hero-mode-card" onclick="startMockCheckride()">
                    <div class="hero-badge">â­ Featured</div>
                    <div class="mode-icon">â±ï¸</div>
                    <div class="mode-title">Mock Checkride Simulator</div>
                    <div class="mode-desc">The ultimate test of your readiness. 30-minute timed exam with real DPE pressure. Answer questions from memory, reveal answers as you go, and get a pass/fail score. This is as close as it gets to the real thing.</div>
                </div>
                
                <!-- Standard Modes Grid -->
                <div class="modes-grid">
                    <div class="mode-card" onclick="startMode('study')">
                        <div class="start-here-badge">ðŸ‘‰ START HERE</div>
                        <div class="mode-icon">ðŸ“š</div>
                        <div class="mode-title">Study Mode</div>
                        <div class="mode-desc">Questions in order (Q1 â†’ Q250). Best for first-time learning and systematic review.</div>
                    </div>
                    
                    <div class="mode-card" onclick="startMode('random')">
                        <div class="mode-icon">ðŸŽ²</div>
                        <div class="mode-title">Random Mode</div>
                        <div class="mode-desc">Shuffled questions to test your recall. Perfect for breaking out of memorization patterns!</div>
                    </div>
                    
                    <div class="mode-card" onclick="startMode('review')">
                        <div class="mode-icon">ðŸŽ¯</div>
                        <div class="mode-title">Review Wrong Answers</div>
                        <div class="mode-desc">Focus only on questions you got wrong. Perfect for targeted practice on weak areas.</div>
                    </div>
                    
                    <div class="mode-card" onclick="showPerformanceInsights()">
                        <div class="mode-icon">ðŸ“Š</div>
                        <div class="mode-title">Performance Insights</div>
                        <div class="mode-desc">Detailed analytics on your study patterns and weak areas with personalized recommendations.</div>
                    </div>
                </div>
            </div>
            
            <!-- Control Bar (hidden initially) -->
            <div class="control-bar hidden" id="control-bar">
                <button type="button" class="control-btn" onclick="backToModes()">â† Back to Modes</button>
            </div>
            
            <!-- Progress Bar -->
            <div class="progress-container hidden" id="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
            
            <!-- Question Card (hidden initially) -->
            <div class="question-card hidden" id="question-card">
                <div class="question-header">
                    <span class="question-number" id="q-num">Q1</span>
                    <div class="nav-buttons">
                        <button type="button" class="nav-btn" id="prev-btn" onclick="prevQuestion()">â† Previous</button>
                        <button type="button" class="nav-btn" id="next-btn" onclick="nextQuestion()">Next â†’</button>
                    </div>
                </div>
                
                <div class="question-text" id="question-text"></div>
                
                <button type="button" class="show-answer-btn" id="show-answer-btn" onclick="showAnswer()">
                    Show Answer
                </button>
                
                <div class="answer-section hidden" id="answer-section">
                    <div class="answer-text" id="answer-text"></div>
                    <a href="#" class="reference-tag" id="reference-link" target="_blank" onclick="event.stopPropagation()">
                        ðŸ“– <span id="reference-text"></span>
                    </a>
                    
                    <div class="rating-buttons">
                        <button type="button" class="rating-btn wrong" onclick="rateQuestion('wrong')">
                            <span class="rating-btn-icon">âŒ</span>
                            <span>Need Practice</span>
                        </button>
                        <button type="button" class="rating-btn unsure" onclick="rateQuestion('unsure')">
                            <span class="rating-btn-icon">âš ï¸</span>
                            <span>Review Again</span>
                        </button>
                        <button type="button" class="rating-btn correct" onclick="rateQuestion('correct')">
                            <span class="rating-btn-icon">âœ“</span>
                            <span>Mastered It!</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Mock Checkride Briefing (hidden initially) -->
            <div class="mock-briefing hidden" id="mock-briefing">
                <div class="briefing-card">
                    <div class="briefing-icon">â±ï¸</div>
                    <h2 class="briefing-title">Mock Checkride - Ready?</h2>
                    <p class="briefing-subtitle">This simulates a real oral exam with a DPE</p>
                    
                    <div class="briefing-info">
                        â„¹ï¸ <strong>First Time?</strong> Study with Study Mode or Random Mode first. This is for TESTING your knowledge, not learning.
                    </div>
                    
                    <div class="briefing-rules">
                        <h3>How It Works:</h3>
                        <div class="rule-item">
                            <span class="rule-icon">1ï¸âƒ£</span>
                            <span>You'll get <strong>30 questions</strong> covering all major topics in checkride order</span>
                        </div>
                        <div class="rule-item">
                            <span class="rule-icon">2ï¸âƒ£</span>
                            <span><strong>30-minute timer</strong> starts when you begin</span>
                        </div>
                        <div class="rule-item">
                            <span class="rule-icon">3ï¸âƒ£</span>
                            <span>Read each question and <strong>think about YOUR answer</strong></span>
                        </div>
                        <div class="rule-item">
                            <span class="rule-icon">4ï¸âƒ£</span>
                            <span>Click "Reveal Answer" to see the correct answer</span>
                        </div>
                        <div class="rule-item">
                            <span class="rule-icon">5ï¸âƒ£</span>
                            <span><strong>Rate yourself honestly</strong> - compare what you thought vs. the correct answer</span>
                        </div>
                        <div class="rule-item">
                            <span class="rule-icon">6ï¸âƒ£</span>
                            <span>At the end, see your score and review all questions</span>
                        </div>
                    </div>
                    
                    <div class="briefing-warning">
                        âš ï¸ <strong>Be Honest!</strong> Rate based on what YOU actually knew, not what you learn after seeing the answer. This only helps if you're truthful with yourself.
                    </div>
                    
                    <div class="briefing-buttons">
                        <button type="button" class="briefing-btn secondary" onclick="cancelMockCheckride()">â† Back to Modes</button>
                        <button type="button" class="briefing-btn primary" onclick="beginMockCheckride()">Start Checkride â†’</button>
                    </div>
                </div>
            </div>
            
            <!-- Mock Checkride Exam Screen (hidden initially) -->
            <div class="mock-exam-screen hidden" id="mock-exam-screen">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; gap: 16px;">
                    <button type="button" class="mock-back-btn" onclick="exitMockCheckride()">
                        â† Exit Mock Checkride
                    </button>
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div class="mock-timer" id="mock-timer">
                            <span class="timer-label">TIME REMAINING:</span>
                            <span class="timer-display" id="timer-display">30:00</span>
                        </div>
                        <button type="button" onclick="endSessionNow()" style="padding: 12px 20px; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; border: none; border-radius: 10px; font-size: 14px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; box-shadow: 0 4px 15px rgba(239,68,68,0.3); white-space: nowrap;">
                            End Session
                        </button>
                    </div>
                </div>
                
                <div class="mock-progress-bar" id="mock-progress-bar">
                    <div class="mock-progress-fill" id="mock-progress-fill" style="width: 10%"></div>
                </div>
                
                <div class="mock-question-card">
                    <div class="mock-question-header">
                        <span class="mock-question-number" id="mock-q-num">Question 1 of 10</span>
                    </div>
                    
                    <div class="mock-question-text" id="mock-question-text"></div>
                    
                    <div class="mock-thinking-space" id="mock-thinking-space">
                        <p style="color: #64748b; font-size: 14px; text-align: center; margin-bottom: 8px;">
                            ðŸ’­ <strong>Think about YOUR answer first</strong>
                        </p>
                        <p style="color: #94a3b8; font-size: 12px; text-align: center; margin-bottom: 16px;">
                            What would you say to a DPE right now?
                        </p>
                        <button type="button" class="mock-reveal-btn" id="mock-reveal-btn" onclick="revealMockAnswer()">
                            Reveal Answer â†’
                        </button>
                    </div>
                    
                    <div class="mock-answer-section hidden" id="mock-answer-section">
                        <div class="answer-label">MODEL ANSWER</div>
                        <div class="answer-text" id="mock-answer-text"></div>
                        <a href="#" class="reference-tag" id="mock-reference-link" target="_blank" onclick="event.stopPropagation()">
                            ðŸ“– <span id="mock-reference-text"></span>
                        </a>
                        
                        <div style="text-align: center; margin: 24px 0 8px; color: #1e293b; font-size: 15px; font-weight: 700;">
                            How did you do?
                        </div>
                        <div style="text-align: center; margin: 0 0 16px; color: #64748b; font-size: 13px;">
                            Compare what you thought vs. the model answer above
                        </div>
                        
                        <div class="mock-rating-buttons">
                            <button type="button" class="mock-rating-btn wrong" onclick="mockRateQuestion('wrong')">
                                <span class="rating-btn-icon">âŒ</span>
                                <span>I Was Wrong</span>
                            </button>
                            <button type="button" class="mock-rating-btn unsure" onclick="mockRateQuestion('unsure')">
                                <span class="rating-btn-icon">âš ï¸</span>
                                <span>Partially Right</span>
                            </button>
                            <button type="button" class="mock-rating-btn correct" onclick="mockRateQuestion('correct')">
                                <span class="rating-btn-icon">âœ“</span>
                                <span>I Knew It!</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mock Checkride Results (hidden initially) -->
            <div class="mock-results hidden" id="mock-results">
                <!-- Results will be inserted here by JavaScript -->
            </div>
            
            <!-- Performance Insights Screen (hidden initially) -->
            <div class="insights-screen hidden" id="insights-screen">
                <!-- Insights will be inserted here by JavaScript -->
            </div>
        </div>
    </div>
    
    <script>
        // ============================================
        // APP CONFIG + CLOUD SYNC (Supabase Edge Functions)
        // ============================================
        // Configure via localStorage:
        //   localStorage.setItem('ppl-supabase-url', 'https://YOUR_PROJECT.supabase.co')
        // Backend endpoints expected:
        //   POST  /functions/v1/license_exchange   { licenseKey }
        //   GET   /functions/v1/progress_sync
        //   POST  /functions/v1/progress_sync     { progress: [...] }
        //   GET   /functions/v1/mock_results?limit=10
        //   POST  /functions/v1/mock_results      { score, total_questions, passed, time_spent_seconds, questions_attempted }

        const STORAGE = {
            supabaseUrl: 'ppl-supabase-url',
            supabaseAnonKey: 'ppl-supabase-anon-key',
            token: 'ppl-token',
            licenseHash: 'ppl-license-hash',
            tokenExpiresAt: 'ppl-token-expires-at',
            progressV2: 'ppl-progress-v2', // { [questionId]: 'correct'|'unsure'|'wrong' }
            attemptsV2: 'ppl-attempts-v2', // { [questionId]: number }
            updatedV2: 'ppl-updated-v2',   // { [questionId]: isoString }
            legacyProgress: 'ppl-progress'
        };

        const CLOUD = {
            get projectUrl() {
                return localStorage.getItem(STORAGE.supabaseUrl) || 'https://dserfffyhcferhlpggkw.supabase.co';
            },
            get anonKey() {
                // Supabase Edge Functions are behind an API gateway and typically require an API key.
                // This is safe to be public; database access is still protected by RLS + service-role-only functions.
                return localStorage.getItem(STORAGE.supabaseAnonKey) || 'sb_publishable_Gc5MaHCWVo-7Gq4CDcWM2A_Cat1O-8w';
            },
            get functionsBase() {
                return `${this.projectUrl.replace(/\/$/, '')}/functions/v1`;
            }
        };

        class CloudSyncClient {
            constructor() {
                this.token = localStorage.getItem(STORAGE.token) || null;
                this.licenseKeyHash = localStorage.getItem(STORAGE.licenseHash) || null;
                this.syncInterval = null;
                this.lastSyncTime = null;
            }

            isReady() {
                return Boolean(this.token);
            }

            setSession({ token, licenseKeyHash, expiresAt }) {
                this.token = token;
                this.licenseKeyHash = licenseKeyHash;
                localStorage.setItem(STORAGE.token, token);
                localStorage.setItem(STORAGE.licenseHash, licenseKeyHash);
                if (expiresAt) localStorage.setItem(STORAGE.tokenExpiresAt, expiresAt);
            }

            clearSession() {
                this.token = null;
                this.licenseKeyHash = null;
                localStorage.removeItem(STORAGE.token);
                localStorage.removeItem(STORAGE.licenseHash);
                localStorage.removeItem(STORAGE.tokenExpiresAt);
            }

            async request(path, { method = 'GET', body } = {}) {
                const headers = { 'Content-Type': 'application/json' };
                // Always send the project anon key so the API gateway allows the request.
                headers['apikey'] = CLOUD.anonKey;
                // Only send Authorization when we actually have our own JWT.
                // Sending a non-JWT here can cause Supabase to reject the request as "Invalid JWT".
                if (this.token) headers['Authorization'] = `Bearer ${this.token}`;

                const url = `${CLOUD.functionsBase}${path}`;
                const res = await fetch(url, {
                    method,
                    headers,
                    body: body ? JSON.stringify(body) : undefined
                });

                if (!res.ok) {
                    const text = await res.text().catch(() => '');
                    const err = new Error(`HTTP ${res.status} ${res.statusText}${text ? ` - ${text}` : ''}`);
                    err.status = res.status;
                    err.url = url;
                    err.method = method;
                    err.responseText = text;
                    try {
                        err.responseJson = text ? JSON.parse(text) : null;
                    } catch (_) {
                        err.responseJson = null;
                    }
                    throw err;
                }

                const contentType = res.headers.get('content-type') || '';
                if (contentType.includes('application/json')) return await res.json();
                return await res.text();
            }

            async exchangeLicenseKey(licenseKey) {
                const data = await this.request('/license_exchange', { method: 'POST', body: { licenseKey } });
                if (!data || !data.token || !data.licenseKeyHash) {
                    throw new Error('Invalid response from license_exchange');
                }
                this.setSession(data);
                return data;
            }

            async pullProgress() {
                const data = await this.request('/progress_sync', { method: 'GET' });
                if (Array.isArray(data)) return data;
                if (data && Array.isArray(data.progress)) return data.progress;
                return [];
            }

            async pushProgress(progressRows) {
                const data = await this.request('/progress_sync', { method: 'POST', body: { progress: progressRows } });
                this.lastSyncTime = Date.now();
                return data;
            }

            async saveMockResult(result) {
                return await this.request('/mock_results', { method: 'POST', body: result });
            }

            async getMockHistory(limit = 10) {
                const qs = `?limit=${encodeURIComponent(String(limit))}`;
                const data = await this.request(`/mock_results${qs}`, { method: 'GET' });
                if (Array.isArray(data)) return data;
                if (data && Array.isArray(data.results)) return data.results;
                return [];
            }

            startAutoSync(syncFn) {
                this.stopAutoSync();
                this.syncInterval = setInterval(() => {
                    syncFn().catch(() => {});
                }, 30000);
            }

            stopAutoSync() {
                if (this.syncInterval) {
                    clearInterval(this.syncInterval);
                    this.syncInterval = null;
                }
            }
        }

        let cloudSync = new CloudSyncClient();

        function resetCloudSyncSettings({ reload = true } = {}) {
            [
                STORAGE.supabaseUrl,
                STORAGE.supabaseAnonKey,
                STORAGE.token,
                STORAGE.licenseHash,
                STORAGE.tokenExpiresAt
            ].forEach((k) => localStorage.removeItem(k));
            if (cloudSync) cloudSync.clearSession();
            if (reload) location.reload();
        }

        function configureCloudSync() {
            const currentUrl = localStorage.getItem(STORAGE.supabaseUrl) || CLOUD.projectUrl;
            const currentKey = localStorage.getItem(STORAGE.supabaseAnonKey) || CLOUD.anonKey;

            const url = prompt(
                'Supabase project URL (example: https://YOUR_PROJECT_REF.supabase.co):',
                currentUrl
            );
            if (!url) return;

            const key = prompt(
                'Supabase publishable key (from Project Settings â†’ API Keys). It should start with sb_publishable_ â€¦',
                currentKey
            );
            if (!key) return;
            const trimmedKey = key.trim();
            if (trimmedKey.startsWith('sbp_')) {
                const ok = confirm(
                    'That key starts with sbp_, which is usually a Supabase CLI access token (wrong for the apikey header).\n\nYou typically want the project publishable key starting with sb_publishable_.\n\nContinue anyway?'
                );
                if (!ok) return;
            }

            localStorage.setItem(STORAGE.supabaseUrl, url.trim());
            localStorage.setItem(STORAGE.supabaseAnonKey, trimmedKey);
            alert('âœ… Cloud Sync settings saved. Reloadingâ€¦');
            location.reload();
        }

        async function sha256HexBrowser(input) {
            const data = new TextEncoder().encode(String(input));
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');
        }

        function formatCloudSyncError(e) {
            const status = e && e.status ? Number(e.status) : null;
            const responseJson = e && e.responseJson ? e.responseJson : null;
            const responseText = e && typeof e.responseText === 'string' ? e.responseText : '';

            let reason = '';
            if (responseJson && typeof responseJson === 'object') {
                reason = responseJson.error || responseJson.message || JSON.stringify(responseJson);
            } else if (responseText) {
                reason = responseText;
            } else if (e && e.message) {
                reason = e.message;
            } else {
                reason = String(e);
            }

            let hint = '';
            const lc = String(reason).toLowerCase();
            if (lc.includes('invalid license')) {
                hint =
                    'Your license key was rejected by the backend. Verify the license exists and is active in the SAME Supabase project DB you are calling.';
            } else if (lc.includes('invalid apikey') || lc.includes('missing apikey')) {
                hint =
                    'Your API key is missing/invalid. Use the project publishable key (sb_publishable_...) from Project Settings â†’ API Keys (NOT an sbp_ access token).';
            } else if (lc.includes('invalid jwt')) {
                hint =
                    'The Edge Function gateway is rejecting the request as a Supabase Auth JWT. Redeploy the functions with JWT verification OFF (verify_jwt=false).';
            } else if (lc.includes('failed to fetch') || lc.includes('cors')) {
                hint =
                    'Network/CORS issue. If you opened the app via file://, try running a local server: `python3 -m http.server 8000` and open `http://localhost:8000/index.html`.';
            }

            const keyPreview = (CLOUD.anonKey || '').slice(0, 18);
            const url = CLOUD.projectUrl || '';
            const base = `Supabase URL: ${url}\nAPI key: ${keyPreview ? `${keyPreview}â€¦` : '(missing)'}`;

            return { status, reason: String(reason), hint, base };
        }

        async function connectCloudSync() {
            if (location && location.protocol === 'file:') {
                const ok = confirm(
                    'You opened this app as a local file (file://).\n\nCloud Sync usually works, but if you hit CORS/network issues, run:\n\npython3 -m http.server 8000\n\nThen open:\nhttp://localhost:8000/index.html\n\nContinue anyway?'
                );
                if (!ok) return;
            }

            const key = prompt('Enter your license key to enable Cloud Sync (e.g. PPL-TEST-001). Do NOT paste the SHA-256 hash:');
            if (!key) return;
            const enteredKey = key.trim();
            
            try {
                await cloudSync.exchangeLicenseKey(enteredKey);
                const ok = await syncNow({ throwOnError: true });
                if (!ok) throw new Error('Initial sync failed');
                cloudSync.startAutoSync(() => syncNow());
                alert('âœ… Cloud Sync enabled and synced.');
            } catch (e) {
                console.error('[CloudSync] connect failed:', e);
                cloudSync.clearSession();
                const info = formatCloudSyncError(e);
                let extra = '';
                if (info.reason.toLowerCase().includes('invalid license')) {
                    try {
                        const hash = await sha256HexBrowser(enteredKey);
                        extra = `\nLicense hash (SHA-256): ${hash}\n`;
                    } catch (_) {
                        // ignore
                    }
                }
                alert(
                    `âŒ Cloud Sync failed.${info.status ? ` (HTTP ${info.status})` : ''}\n\n` +
                    `${info.reason}\n\n` +
                    `${info.base}\n` +
                    extra +
                    (info.hint ? `\nTip: ${info.hint}\n` : '\n') +
                    `\nIf you previously configured a different project/key, click â€œðŸ§¹ Reset Cloud Syncâ€ then try again.`
                );
            }
        }

// Question Bank (250 questions)

// PPL Checkride - Complete Question Library
// Generated: February 8, 2026
// Total Questions: 250 (All fields verified)

const ALL_QUESTIONS = [
  {
    "id": "Q1",
    "title": "The \"Gift\" Flight",
    "category": "Pilot Privileges/ADM",
    "topic": "Pro-Rata Expense Sharing",
    "airports": "KOSH (Oshkosh), Madison, WI",
    "aircraft": "Rented Cessna 172",
    "scenario": "You're planning a weekend trip to Oshkosh (OSH) for AirVenture in your rented Cessna 172. Your college roommate, who has no interest in aviation, mentions he'd love to visit Madison, Wisconsin (just 60 miles from Oshkosh) the same weekend to see family.\n\nHe offers to pay for \"the entire plane rental and fuel as a thank-you gift\" since \"you're already going anyway.\" Your friend insists this is perfectly legal because he's paying \"as a gift, not as payment for services.\" He even offers to Venmo you the money before the flight.\n\nYou wouldn't be flying to Madison at all if he weren't going - Oshkosh is your only destination.",
    "question": "Can you accept his offer?",
    "correctAnswer": "No. The maximum he can pay is his pro-rata share - 50% of the costs. I pay 50%, he pays 50%. Under 14 CFR 61.113, private pilots cannot accept compensation.",
    "trapReasoning": "It's a gift, not compensation - gifts aren't covered by 14 CFR 61.113",
    "whyThisMatters": "The FAA doesn't care what you call the payment. If payment induces the flight, it's compensation.\n\nPayment is \"inducement\" if you wouldn't make the flight without it. Your destination is Oshkosh, not Madison - so his payment is directly causing a flight that wouldn't otherwise happen.\n\nThe \"common purpose\" test from AC 61-142 requires that both the pilot and passenger have a bona fide purpose for going to the destination, independent of each other. Your friend is going to Madison to see family (legitimate purpose), but you have zero reason to go to Madison - your destination is Oshkosh. This fails the common purpose test.\n\nPro-rata share under 14 CFR 61.113(c) allows you to share only the direct operating expenses: fuel, oil, airport fees, and rental fees. He can pay half (his pro-rata share). You pay half. Anything beyond that is compensation.",
    "cramMode": "",
    "reference": "14 CFR 61.113(a) & (c), AC 61-142",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q2",
    "title": "Fuel-Only Split",
    "category": "Pilot Privileges/ADM",
    "topic": "Pro-Rata Expense Sharing",
    "airports": "KSAC (Sacramento) â†’ KTVL (Lake Tahoe)",
    "aircraft": "Owned Cessna 182",
    "scenario": "You're flying your personally-owned Cessna 182 from Sacramento (SAC) to Lake Tahoe (TVL) with two friends for a weekend ski trip. The three of you have been planning this for weeks, and you all have legitimate reasons to go - you're all skiing.\n\nYour friends offer to split the costs, and one of them suggests: \"Since you own the plane, how about we just split the fuel costs? You already pay for insurance and maintenance anyway, so we'll cover gas.\"\n\nYour friend argues that this is fair because you'd be paying insurance and maintenance whether they come or not. The fuel is the only \"incremental\" cost of adding passengers. Total fuel cost is $120, so they each offer $40, and you pay $40. The flight would have cost you about $180 total (fuel + hourly engine reserve + tie-down fees).",
    "question": "Can you accept this arrangement?",
    "correctAnswer": "No, we can't split only fuel. Pro-rata under 14 CFR 61.113(c) includes fuel, oil, airport fees, and rental fees. For owned aircraft, rental fees means hourly engine and maintenance reserves. Total cost is $180, divided by three people - $60 each.",
    "trapReasoning": "Fuel is the only incremental cost - insurance/maintenance are fixed costs I pay anyway",
    "whyThisMatters": "For owned aircraft, 'rental fees' means hourly operating costs - engine reserve, maintenance reserve, and direct airport fees.\n\nIf you split only fuel, passengers pay $80 total while you pay $100. That's not equal sharing - you're subsidizing their portion, which the FAA prohibits.\n\nFor owned aircraft, \"rental fees\" means the direct cost of operating the aircraft for that flight. This includes hourly engine reserve (saving for overhaul based on tach time), hourly maintenance reserve (oil changes, inspections prorated per hour), and direct airport costs (tie-down, transient parking).\n\nTotal flight cost = Fuel + Oil + Hourly engine reserve + Hourly mx reserve + Airport fees. Each person pays an equal share.\n\nThe FAA requires equal sharing to prevent private pilots from running quasi-commercial operations.",
    "cramMode": "",
    "reference": "14 CFR 61.113(c), AC 61-142",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q3",
    "title": "BasicMed to Canada",
    "category": "Pilot Privileges/ADM",
    "topic": "Medical Currency - BasicMed International Validity",
    "airports": "KBUF (Buffalo, NY) â†’ CYTZ (Toronto, Canada)",
    "aircraft": "Cessna 172",
    "scenario": "You're a 45-year-old private pilot with BasicMed privileges. Your third-class medical expired 3 years ago. You're planning a weekend trip from Buffalo, NY (KBUF) to Toronto, Canada (CYTZ) in a Cessna 172 with your spouse.\n\nThe aircraft weighs 2,450 lbs max gross, and you'll be flying VFR at 5,500 feet. You believe BasicMed is valid because you meet all the BasicMed requirements: aircraft under 6,000 lbs, fewer than 6 passengers, below 18,000 feet, and within U.S. regulations.\n\nA pilot friend mentions, \"BasicMed might not work for Canada,\" but you're not sure why.",
    "question": "Can you make this flight?",
    "correctAnswer": "Not with BasicMed alone. BasicMed is a U.S. privilege and foreign states may not recognize it. As of this bankâ€™s update date (February 8, 2026), you should plan on Canada requiring an ICAO-compliant medical (e.g., an FAA third-class medical) for operations in Canadian airspace, and verify current Canadian acceptance before flight.",
    "trapReasoning": "Canada and the U.S. have reciprocal agreements, so my U.S. BasicMed should be recognized",
    "whyThisMatters": "BasicMed is not ICAO-compliant. Canada requires ICAO medical certificates.\n\nOnce you enter Canadian airspace, Canadian rules govern your flight. Even if youâ€™re flying a U.S.-registered aircraft, you canâ€™t assume a U.S.-only privilege will be accepted internationally.\n\nBasicMed is a U.S. privilege. Even though you're a U.S. pilot in a U.S.-registered aircraft, once you enter Canadian airspace you must comply with that country's rules, including medical requirements they recognize.\n\nWhat you need for Canada: A valid FAA third-class medical (60 months if under 40, 24 months if 40+).\n\nCommon mistake: Pilots think \"I'm departing from the U.S., so U.S. rules apply.\" Wrong. Once you enter foreign airspace, that country's rules govern your operation.\n\nInternational note: acceptance can change. Donâ€™t memorize a â€œcountry listâ€ from memoryâ€”verify the specific countryâ€™s current policy before planning a cross-border flight.",
    "cramMode": "",
    "reference": "14 CFR 61.113(i), 61.23",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.23"
  },
  {
    "id": "Q4",
    "title": "BasicMed Altitude Limit",
    "category": "Pilot Privileges/ADM",
    "topic": "Medical Currency - BasicMed Altitude Restrictions",
    "airports": "KAPA (Denver) â†’ KASE (Aspen)",
    "aircraft": "Piper Saratoga (turbocharged)",
    "scenario": "You're a private pilot with BasicMed flying a Piper Saratoga (turbocharged, service ceiling 20,000 feet) from Denver (KAPA) to Aspen (KASE). Due to mountainous terrain and weather, you plan to fly at 17,500 feet MSL for terrain clearance and favorable winds.\n\nYour BasicMed exam was completed 2 months ago, and you're current on all requirements. Your passenger asks, \"Do we need oxygen at that altitude?\" You confirm yes - supplemental oxygen is required above 12,500 feet for extended periods.\n\nYour passenger then asks, \"Does your BasicMed work at this altitude, or do you need a regular medical for high-altitude flight?\"",
    "question": "Can you make this flight?",
    "correctAnswer": "Yes. BasicMed is valid up to but not including 18,000 feet, so 17,500 is legal. I must use supplemental oxygen continuously above 14,000 feet, and passengers need oxygen available above 15,000 per 14 CFR 91.211.",
    "trapReasoning": "High altitude requires a special medical - BasicMed is only for low-altitude recreational flying",
    "whyThisMatters": "BasicMed covers up to (but not including) 18,000 feet MSL. 17,500 is legal.\n\nBasicMed altitude limit is 18,000 feet MSL. At 17,500 feet, you're legal. Oxygen requirements are separate from medical requirements.\n\nBasicMed altitude limit is up to but not including 18,000 feet MSL. At 17,500 feet, you're within the BasicMed envelope.\n\nWhy 18,000 feet? That's where Class A airspace begins. Class A requires IFR flight, and BasicMed was designed for VFR operations in Class E/G airspace.\n\nOxygen requirements (14 CFR 91.211) are separate from medical requirements:\n- Above 12,500 MSL for >30 minutes: Supplemental oxygen required for crew\n- Above 14,000 MSL: Supplemental oxygen required continuously for crew\n- Above 15,000 MSL: Oxygen must be available for passengers\n\nThis flight at 17,500 feet: Pilot must use oxygen continuously (above 14,000), passengers must have oxygen available (above 15,000), and BasicMed is valid (below 18,000).",
    "cramMode": "",
    "reference": "14 CFR 61.113(i), 91.211, 91.135",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.211"
  },
  {
    "id": "Q5",
    "title": "Medical Duration by Age",
    "category": "Pilot Privileges/ADM",
    "topic": "Medical Currency - Duration Calculation",
    "airports": "KAPA (Centennial) local",
    "aircraft": "Cessna 172",
    "scenario": "You're a 38-year-old private pilot who obtained your third-class medical certificate on March 15, 2024. You're planning a flight on April 1, 2029 (just over 5 years later).\n\nYou believe your medical is still valid because you read online that third-class medicals are good for \"5 years if you're under 40.\" Your flight will be a local VFR flight carrying one passenger.\n\nA friend points out that you'll be 43 years old on the date of the flight, even though you were 38 when you got the medical. They say, \"Your age on the date of the exam determines duration, not your current age.\" You're now confused.",
    "question": "Is your medical still valid for this flight?",
    "correctAnswer": "No, it expired. Under 14 CFR 61.23, duration is based on age at issuance. I was 38, so it's valid for 60 calendar months - expires March 31, 2029. April 1 is too late.",
    "trapReasoning": "Since I'm 43 now, my medical is only good for 24 months from issue date",
    "whyThisMatters": "Duration is based on age at exam, not current age. You were 38 at exam = 60 months.\n\nMedical duration locks in based on your age when the exam was done. At 38, you got 60 months, period. Your current age doesn't matter.\n\nMedical certificate duration is based on your age on the date the medical was issued, not your current age.\n\nThe regulation (14 CFR 61.23(d)):\n- Under 40 on exam date: 60 calendar months\n- 40 or older on exam date: 24 calendar months\n\nThis scenario: Medical issued March 15, 2024 at age 38 = 60 calendar months = expires March 31, 2029 (last day of 60th month). Flight on April 1, 2029 is one day past expiration.\n\nCalendar months vs. exact dates: Medical certificates expire at the end of the last day of the month, not on the exact anniversary. Exam on June 10, 2024 (age 35) = expires June 30, 2029.\n\nBirthday timing matters: If your 40th birthday is before your exam â†’ 24 months. If after your exam â†’ 60 months.",
    "cramMode": "",
    "reference": "14 CFR 61.23(d), 61.3(c)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.23 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.3"
  },
  {
    "id": "Q6",
    "title": "Special Issuance Deadlines",
    "category": "Pilot Privileges/ADM",
    "topic": "Medical Currency - SI Compliance",
    "airports": "KMYF (Montgomery-Gibbs Exec) local",
    "aircraft": "Cessna 172",
    "scenario": "You're a private pilot who was diagnosed with Type 2 diabetes two years ago. You applied for a third-class medical and received a Special Issuance (SI) medical certificate with a condition: \"Valid for 12 months. Must provide updated HbA1c test results every 6 months to maintain authorization.\"\n\nYou received your SI on January 15, 2025. You submitted your 6-month HbA1c results on time in July 2025. Now it's January 25, 2026, and you want to fly but haven't submitted your next required follow-up yet.\n\nYou believe your medical is still valid because: (1) it was issued for 12 months (expires January 31, 2026), (2) you submitted the 6-month report on time, and (3) you have an appointment to get the 12-month HbA1c test next week.\n\nYour plan: fly today, then submit the results in 10 days.",
    "question": "Can you legally fly today?",
    "correctAnswer": "No. Special Issuance privileges are conditional. If the Authorization for Special Issuance requires periodic test results to continue authorization, you canâ€™t assume youâ€™re authorized to act as PIC if youâ€™re out of compliance with those conditions. The safe/legal approach is to stop flying and resolve it through your AME/FAA per the authorization letter.",
    "trapReasoning": "I was only one day late - there must be a grace period for SI deadlines",
    "whyThisMatters": "Special Issuance authorization is conditional and depends on the terms of your authorization letter. You canâ€™t invent a grace period or assume youâ€™re authorized when you havenâ€™t met the required conditions.\n\nSpecial Issuance is not â€œset it and forget it.â€ Your eligibility to act as PIC depends on complying with the conditions of the SI authorization. If youâ€™re unsure, the correct answer is to ground yourself until the status is confirmedâ€”not to fly and â€œcatch up later.â€\n\nThis scenarioâ€™s timeline:\n- SI issued: January 15, 2025  \n- Condition: updated HbA1c results every 6 months to maintain authorization  \n- 6-month report: submitted July 2025 âœ“  \n- Next report: due January 2026 (per the SI conditions) âœ—  \n\nSI authorizations often include ongoing conditions (â€œto maintain authorizationâ€¦â€). Those conditions are part of your eligibility. If youâ€™re not meeting them, you should assume youâ€™re not authorized until you comply and confirm your status per the authorization letter.",
    "cramMode": "",
    "reference": "14 CFR 61.23(c), 14 CFR 67.401, FAA AME Guide (Special Issuance)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.23 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-67/subpart-A/section-67.401 | https://www.faa.gov/ame_guide"
  },
  {
    "id": "Q7",
    "title": "Seats vs. People",
    "category": "Pilot Privileges/ADM",
    "topic": "Pro-Rata Expense Sharing",
    "airports": "KSMO (Santa Monica) â†’ KAVX (Catalina Island)",
    "aircraft": "Rented Cessna 172",
    "scenario": "You're planning a weekend trip to Catalina Island (AVX) from Santa Monica (SMO) in a rented Cessna 172. Two friends ask to join you. Both have their own reasons for going to Catalina - one wants to hike, the other wants to visit the casino.\n\nTotal flight costs (rental + fuel) are $300. You suggest splitting it three ways: $100 each (pilot + two passengers = three people).\n\nOne of your passengers says, \"Wait, shouldn't we split it four ways, not three? There are four seats in the plane, and you're using one of them. So it's $75 per seat, and you pay $75, we each pay $75.\" The other passenger agrees, saying this is more \"fair\" because you benefit from the plane too.",
    "question": "What's the correct way to split the costs?",
    "correctAnswer": "Three ways - $100 each. Pro-rata is based on people, not seats. Three people on board means we split costs three ways per 14 CFR 61.113(c).",
    "trapReasoning": "Split by seats - there are 4 seats, so $75 per seat is fair and proportional",
    "whyThisMatters": "Empty seats don't create expenses. Split by people on board, not available seats.\n\nIf you split by seats (4), you pay $75 while passengers pay $225 total - meaning passengers subsidize your flight. That's compensation.\n\nPro-rata expense sharing is based on the number of occupants, not the number of available seats. The reasoning:\n\n1. Empty seats don't create expenses. The plane costs $300 regardless of whether there are 2, 3, or 4 people aboard.\n2. Each person pays an equal share of the actual costs. If there are 3 people, each pays 1/3. If there are 4 people, each pays 1/4.\n3. The pilot is a participant, so the pilot pays a share too.\n\nExample math:\n- 3 people (1 pilot + 2 passengers): $300 Ã· 3 = $100 each\n- 4 people (1 pilot + 3 passengers): $300 Ã· 4 = $75 each\n\nThe \"seat-based\" argument fails because it would allow the pilot to pay less than their fair share. If you split by seats (4), you pay $75, and passengers pay $225 total - meaning passengers are subsidizing your flight. This approaches compensation (you're paying less because others are aboard).",
    "cramMode": "",
    "reference": "14 CFR 61.113(c), AC 61-142",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q8",
    "title": "\"I Was Going Anyway\"",
    "category": "Pilot Privileges/ADM",
    "topic": "Pro-Rata Expense Sharing",
    "airports": "KAPA (Denver) â†’ KCNY (Moab, Utah)",
    "aircraft": "Rented aircraft",
    "scenario": "You're a private pilot planning a solo cross-country flight from Denver (APA) to Moab, Utah (CNY) on Saturday to go hiking. You've already rented the plane and planned the route.\n\nOn Wednesday, a coworker mentions she needs to get to Moab the same weekend for a family event and was planning to drive (4+ hours). She asks if she can ride along and offers to \"pay for the whole flight since you're going anyway.\"\n\nYour coworker argues, \"You were making this flight regardless of whether I come. I'm not creating any extra cost - you'd pay $400 either way. So if I pay the whole $400, you're not getting compensated - you're getting reimbursed for a flight you were already making.\"",
    "question": "Can you accept her offer?",
    "correctAnswer": "No. Maximum she can pay is 50% - her pro-rata share. I pay $200, she pays $200. No 'I was going anyway' exception under 14 CFR 61.113(c).",
    "trapReasoning": "I was going anyway - she's just reimbursing me for a cost I already planned to incur",
    "whyThisMatters": "No 'I was going anyway' exception exists. Pro-rata rules apply regardless of who initiated the flight.\n\nIf 'I was going anyway' allowed full reimbursement, pilots could pre-announce trips and collect full payment - effectively running unlicensed charter operations.\n\nThe \"I was going anyway\" myth directly contradicts the regulation. The FAA completely rejects this logic.\n\nWhy the FAA doesn't allow this:\n\n1. Slippery slope to charter operations. If \"I was going anyway\" allowed full reimbursement, pilots could pre-announce trips and collect full payment from passengers, effectively running an unlicensed charter service.\n\n2. The regulation has no carve-outs. 14 CFR 61.113(c) simply states: \"A private pilot may not pay less than the pro rata share of the operating expenses of a flight with passengers.\" It doesn't say \"unless you were going anyway.\"\n\n3. Intent doesn't matter - structure matters. Even if your intent is pure (you genuinely planned the trip), the structure of accepting 100% payment from a passenger is compensation.",
    "cramMode": "",
    "reference": "14 CFR 61.113(c), AC 61-142",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q9",
    "title": "Goodwill Payments",
    "category": "Pilot Privileges/ADM",
    "topic": "Pro-Rata Expense Sharing",
    "airports": "Phoenix â†’ Sedona",
    "aircraft": "Private aircraft",
    "scenario": "You're a private pilot and real estate agent in Phoenix. A wealthy client mentions he's looking to buy a vacation property in Sedona and asks if you'd be willing to fly him up there to view some listings.\n\nHe offers to pay for the entire flight, plus $500 \"for your time and expertise as a pilot.\" You'd be acting as his real estate agent during the property viewings, which is your actual job.\n\nYour client argues this is legal because: (1) the real estate commission you earn from the sale is payment for real estate services, not pilot services, and (2) the $500 is \"goodwill\" for helping him out with transportation, not payment for being a pilot. He insists you're wearing your \"real estate agent hat,\" not your \"pilot hat.\"",
    "question": "Can you accept this arrangement?",
    "correctAnswer": "No. He can pay his pro-rata share only - 50% of flight costs. The $500 is compensation for pilot services and is prohibited under 14 CFR 61.113. Multiple business relationships don't create exceptions.",
    "trapReasoning": "I'm his real estate agent first - the $500 is goodwill for real estate services, not pilot services",
    "whyThisMatters": "Any payment tied to the flight is compensation for pilot services, regardless of other business relationships.\n\nMultiple roles don't create loopholes. The Mangiamele Letter (2009) addressed this exact scenario - attorney flying clients. Answer: No.\n\nThe Mangiamele Letter (2009) addressed nearly this exact scenario. An attorney wanted to fly clients to property viewings and argued the legal fees (not flight fees) were the real compensation. The FAA said no - any payment tied to the flight, regardless of business relationship, is compensation for pilot services.\n\nKey principles:\n\n1. Multiple roles don't create loopholes. Being a real estate agent doesn't exempt you from private pilot limitations.\n\n2. \"Goodwill\" payments tied to flights are compensation. If the $500 is \"for your time as a pilot,\" it's compensation. If it's \"for being a great real estate agent\" and happens after the sale closes, unrelated to the flight, it might be okay - but the timing and connection matter.\n\n3. The flight must be incidental to business, not the reason for business.",
    "cramMode": "",
    "reference": "14 CFR 61.113(a), Mangiamele Letter (2009), AC 61-142",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q10",
    "title": "Multi-Leg Recalculation",
    "category": "Pilot Privileges/ADM",
    "topic": "Pro-Rata Expense Sharing",
    "airports": "KMDW (Chicago) â†’ KBNA (Nashville) â†’ KTMB (Miami) â†’ KEYW (Key West)",
    "aircraft": "Private aircraft",
    "scenario": "You're planning a week-long trip from Chicago (KMDW) to Key West (KEYW) with two friends, stopping overnight in Nashville (KBNA) and Miami (KTMB). The three of you will fly down together, spend 5 days in Key West, then fly back together.\n\nTotal costs for the round trip: $2,400. You agree to split it three ways: $800 each.\n\nOn day 3 in Key West, one of your friends gets an emergency call - his mother is in the hospital. He books a commercial flight home immediately and won't be on the return trip.\n\nHe says, \"I already paid my $800, so we're square, right? You and the other friend can fly back, and since I paid my share upfront, we're good.\" You now have two people for the return flight instead of three.",
    "question": "Does he still owe $800, or do you need to recalculate?",
    "correctAnswer": "We need to recalculate. Pro-rata applies per-leg under 14 CFR 61.113(c). He only flew outbound, so he owes his share of outbound costs only. The return flight is split between two people. He gets a partial refund.",
    "trapReasoning": "We agreed to split upfront - a deal is a deal. He paid for his seat, emergency or not",
    "whyThisMatters": "Pro-rata applies per-flight, not per-trip. Can't charge someone for a flight they're not on.\n\nYou cannot accept money from someone who isn't on the aircraft. If he paid $800 but only flew outbound legs, you owe him a partial refund.\n\nPro-rata expense sharing applies per-flight, not per-trip. You cannot accept money from someone who isn't on the aircraft.\n\nHow to properly calculate this trip:\n\nAssume costs:\n- Outbound legs (KMDW â†’ KEYW via 3 stops): $1,000\n- Return (KEYW â†’ KMDW direct): $1,400\n- Total: $2,400\n\nCorrect split:\n\nOutbound (3 people): $1,000 Ã· 3 = $333.33 each\nReturn (2 people only): $1,400 Ã· 2 = $700 each\n\nWho pays what:\n- Pilot: $333.33 (outbound) + $700 (return) = $1,033.33\n- Friend who stayed: $333.33 (outbound) + $700 (return) = $1,033.33\n- Friend who left early: $333.33 (outbound only)\n\nFriend who left should get refund: Paid upfront $800, actually owes $333.33, refund due: $466.67.",
    "cramMode": "",
    "reference": "14 CFR 61.113(c), AC 61-142",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q11",
    "title": "Night Currency Expires Mid-Flight",
    "category": "Pilot Privileges/ADM",
    "topic": "Night Currency - Timing of Requirements",
    "airports": "KSDL (Scottsdale) â†’ KGCN (Grand Canyon)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning an evening flight from Scottsdale (KSDL) to Grand Canyon (KGCN) with your spouse as a passenger. The flight will take approximately 90 minutes. Today is March 15, and sunset is at 6:47 PM.\n\nYou plan to depart at 7:30 PM (43 minutes after sunset). Your last three night landings were on December 14, exactly 91 days ago. You completed three full-stop landings that night between 7:00 PM and 8:00 PM to get night current.\n\nYou figure you're legal to depart because you're departing within the 90-day window (today is day 91). Your spouse asks, \"Are we legal for this flight?\"",
    "question": "Can you make this flight with your spouse?",
    "correctAnswer": "No. Night starts one hour after sunset (7:47 PM). My currency expired at midnight last night (day 91). Even though we depart before \"night\" officially begins at 7:47 PM, we'll be in flight during the night period, and I'm not current to carry passengers after 7:47 PM.",
    "trapReasoning": "We depart at 7:30 PM, which is before night begins at 7:47 PM, so we're legal",
    "whyThisMatters": "Night currency must be valid for the entire duration of the flight, not just at departure. You'll be flying past 7:47 PM with a passenger while not night current.\n\nCurrency requirements must be met for the entire flight. If any portion of your flight occurs during the \"night\" period (1 hour after sunset to 1 hour before sunrise), you must be night current to carry passengers.\n\nNight is defined in 14 CFR 1.1 as the period beginning one hour after sunset and ending one hour before sunrise. For passenger currency purposes under 14 CFR 61.57(b), you need three takeoffs and landings to a full stop during this period within the preceding 90 days.\n\nTimeline breakdown:\n- Last night landings: December 14 (day 1 of 90-day window)\n- 90th day: March 14\n- Currency expires: End of day, March 14 (midnight)\n- Today: March 15 (day 91 - NOT current)\n- Sunset today: 6:47 PM\n- Night begins: 7:47 PM (one hour after sunset)\n- Planned departure: 7:30 PM\n\nEven though you depart at 7:30 PM (before \"night\" officially begins), your flight will extend past 7:47 PM. Once 7:47 PM hits, you're flying with a passenger during the night period while not night current - that's illegal.\n\nThe regulation requires currency for carrying passengers at night. It doesn't matter that you departed before night began - what matters is that you're carrying a passenger during a portion of the flight that occurs at night.\n\nCould you make this flight solo? Yes - night currency only applies to carrying passengers. Solo flight has no currency requirements beyond being a certificated pilot.",
    "cramMode": "Night currency must be valid for entire flight, not just departure. Night starts 1 hour after sunset. 90 days means through day 90, not day 91.",
    "reference": "14 CFR 61.57(b), 14 CFR 1.1",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.57"
  },
  {
    "id": "Q12",
    "title": "Night Definition Confusion",
    "category": "Pilot Privileges/ADM",
    "topic": "Night Currency - Definition of Night",
    "airports": "KBFI (Seattle) â†’ KORS (Orcas Island)",
    "aircraft": "Cessna 182",
    "scenario": "You're a private pilot planning a flight from Seattle (KBFI) to Orcas Island (KORS) with two passengers. It's late September, and sunset is at 6:52 PM. You plan to depart at 7:20 PM (28 minutes after sunset) and land at Orcas at 8:10 PM.\n\nYour last night currency flight was on June 25 (80 days ago), where you did three touch-and-goes between 7:30 PM and 8:00 PM - about 20 minutes after sunset.\n\nYou believe you're current because you logged those landings as \"night\" (they occurred after sunset), and it's been less than 90 days. Your passenger, who's also a pilot, says, \"I don't think touch-and-goes 20 minutes after sunset count for night currency.\"",
    "question": "Are you night current to carry these passengers?",
    "correctAnswer": "No. Night passenger currency requires three full-stop landings during the period **1 hour after sunset to 1 hour before sunrise**. My landings on June 25 were only ~20â€“50 minutes after sunset (and they were touch-and-goes), so they donâ€™t count. Iâ€™m not night current to carry passengers for this flight.",
    "trapReasoning": "Night starts at sunset, so landings after sunset count for night currency",
    "whyThisMatters": "For logging purposes, night starts at sunset. For night currency purposes, night starts one hour after sunset. Different definitions.\n\nThe FAA uses different definitions of \"night\" for different purposes. Logging time vs. passenger currency have different sunset-based thresholds.\n\nThe FAA uses multiple â€œnightâ€ definitions depending on what youâ€™re talking about:\n\n1. **Position lights (14 CFR 91.209):** Required from **sunset to sunrise**.\n\n2. **Logging night time (14 CFR 1.1):** Night is from the **end of evening civil twilight** to the **beginning of morning civil twilight** (published times vary by location/date).\n\n3. **Night passenger currency (14 CFR 61.57(b)):** Specifically defined as **1 hour after sunset to 1 hour before sunrise**, and it requires **full-stop** landings.\n\nYour June 25 landings:\n- Sunset: ~7:10 PM\n- Your landings: 7:30 PM - 8:00 PM (20-50 minutes after sunset)\n- Night currency period: Starts 8:10 PM (one hour after sunset)\n- Verdict: Your landings occurred BEFORE the night currency period began - they don't count.\n\nAdditionally, touch-and-goes don't count for night currency - only full-stop landings. You needed three full-stop landings between 8:10 PM and sunrise.\n\nWhy two definitions? Logging night time is about tracking experience. Night currency is about demonstrating recent proficiency in more challenging conditions (full darkness, not just dusk).\n\nWhat you need to do: Complete three full-stop landings between 7:52 PM (one hour after today's sunset) and sunrise within the last 90 days before carrying passengers at night.",
    "cramMode": "Three â€œnightâ€ definitions: lights = sunset; logging = end of civil twilight; passenger currency = 1 hour after sunset (full-stop landings only).",
    "reference": "14 CFR 61.57(b), 14 CFR 1.1",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.57"
  },
  {
    "id": "Q13",
    "title": "Solo vs. Passenger Night Currency",
    "category": "Pilot Privileges/ADM",
    "topic": "Night Currency - Solo Flight Exception",
    "airports": "KDPA (Chicago West) â†’ KARR (Aurora)",
    "aircraft": "Cessna 152",
    "scenario": "You're a private pilot who hasn't flown at night in 6 months. Your night currency expired months ago. You want to get night current again by flying solo from DuPage (KDPA) to Aurora (KARR) and doing three full-stop landings in the pattern at Aurora.\n\nIt's winter, and sunset is at 4:38 PM. You plan to depart at 6:00 PM (82 minutes after sunset) and do your three landings between 6:15 PM and 6:45 PM. All landings will be full-stop, and you'll be flying solo (no passengers).\n\nYour CFI mentions, \"Make sure you're night current before you fly at night.\" You respond, \"I thought I could fly solo to GET night current?\"",
    "question": "Can you make this solo flight to regain night currency?",
    "correctAnswer": "Yes. Night currency under 14 CFR 61.57(b) only applies to carrying passengers. Solo flight at night has no specific currency requirement beyond being a certificated pilot with a current medical.",
    "trapReasoning": "You need to be night current to fly at night, period - even solo",
    "whyThisMatters": "Night currency is a passenger-carrying restriction, not a flight restriction. Solo night flight is legal for certificated pilots.\n\nNight currency creates a Catch-22 if you can't fly solo - you'd need to be current to get current. The FAA allows solo night flight specifically so pilots can regain currency.\n\nThe regulation 14 CFR 61.57(b) states: \"No person may act as pilot in command of an aircraft carrying passengers during the period beginning 1 hour after sunset and ending 1 hour before sunrise, unless within the preceding 90 days that person has made at least three takeoffs and three landings to a full stop...\"\n\nKey word: \"carrying passengers.\"\n\nThis means:\n- Night currency is required to carry passengers at night\n- Night currency is NOT required to fly solo at night\n- You can fly solo at night to regain your night currency\n\nThe logic: Night currency proves you're proficient at night operations. You regain that proficiency by practicing solo. Once you demonstrate proficiency (three landings), you can carry passengers again.\n\nWithout this solo exception, you'd have a Catch-22: You need to be current to fly at night, but you need to fly at night to become current. The solo exception solves this.\n\nYour plan is completely legal:\n- You're a certificated private pilot\n- You have a current medical\n- You're flying solo (no passengers)\n- You plan to do three full-stop landings during the night period (after 5:38 PM, one hour after sunset)\n- Once you complete those three landings, you're night current for 90 days and can carry passengers\n\nNote: Some aircraft insurance policies require night currency even for solo flight. Check your insurance, especially if renting.",
    "cramMode": "Night currency only applies to carrying passengers. Solo flight at night is legal - that's how you regain currency.",
    "reference": "14 CFR 61.57(b)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.57"
  },
  {
    "id": "Q14",
    "title": "Required Equipment for Night VFR",
    "category": "Pilot Privileges/ADM",
    "topic": "Night Currency - Required Equipment",
    "airports": "KVNY (Van Nuys) â†’ KSBA (Santa Barbara)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a night VFR flight from Van Nuys (KVNY) to Santa Barbara (KSBA) with a passenger. You're night current (three landings last week). Sunset is at 5:42 PM, and you plan to depart at 7:00 PM.\n\nDuring preflight, you notice the landing light is inoperative. The position lights (nav lights) work fine, the anti-collision beacon works, and all instruments are operational. The plane has no equipment list (no MEL), so you check 91.205.\n\nYour passenger asks, \"Can we still go? The runway has lights, and we have nav lights and the beacon.\" You remember that 91.205 requires specific equipment for night flight, but you're not sure if the landing light is required.",
    "question": "Can you legally depart on this night VFR flight?",
    "correctAnswer": "No. For night VFR, 14 CFR 91.205(c) requires position lights, anti-collision light, and if operated for hire, a landing light. However, 91.205(b) requires an inoperative equipment placard for any inoperative instrument or equipment. Without an MEL, I can't fly with inop equipment.",
    "trapReasoning": "Landing lights are only required if operating for hire - I'm not for hire, so I can go",
    "whyThisMatters": "Even if landing light isn't required for your operation, 91.205(b) requires that ALL instruments and equipment installed must be operative unless covered by an MEL. Inoperative equipment grounds you.\n\nJust because equipment isn't required doesn't mean it can be broken. If it's installed, it must work OR be properly placarded/deactivated per MEL.\n\nThis question has two parts: (1) Is the equipment required? (2) Can you fly with it inoperative?\n\nPart 1 - Required equipment for night VFR per 14 CFR 91.205(c):\n- Position lights (navigation lights) - REQUIRED\n- Anti-collision light system - REQUIRED  \n- Landing light, if operated for hire - REQUIRED only for hire operations\n\nSince you're not operating for hire (private flight), the landing light is technically not required by 91.205(c).\n\nPart 2 - Inoperative equipment rules per 14 CFR 91.205(b):\nEven though the landing light isn't required for this flight, 91.205(b) states: \"No person may operate a civil aircraft with inoperative instruments or equipment installed UNLESS\" certain conditions are met (essentially, you need an MEL or the equipment must be removed/placarded).\n\nYour options:\n1. Get the landing light repaired\n2. Placard it INOP and deactivate it (pull circuit breaker/disconnect) if not required and not on the \"forbidden\" list in 91.213(d)\n3. Don't fly until fixed\n\nSince your plane has no MEL, and you haven't placarded/deactivated the landing light, you're not legal to depart with it inoperative - even though it's not technically required for this type of operation.\n\nThe broader principle: If it's installed, it must work OR be properly documented as inoperative per 91.213. You can't just ignore broken equipment because \"I don't need it anyway.\"",
    "cramMode": "Night VFR requires position lights and anti-collision light (landing light only for hire). But all installed equipment must be operative OR placarded inop per 91.213 if not required.",
    "reference": "14 CFR 91.205(b)(c), 14 CFR 91.213",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q15",
    "title": "Student Pilot Night Restrictions",
    "category": "Pilot Privileges/ADM",
    "topic": "Night Currency - Student Pilot Limitations",
    "airports": "KSDM (San Diego) â†’ KMYF (Montgomery Field)",
    "aircraft": "Cessna 172",
    "scenario": "You're a student pilot working toward your private certificate. You've completed your night training with your CFI - you have 5 hours of night flight time, including 10 night takeoffs and landings at a towered airport (KSDM). Your CFI endorsed your logbook for night flight.\n\nIt's been 3 weeks since your last night lesson. Tonight you want to fly solo at night from San Diego (KSDM) to Montgomery Field (KMYF) - about 15 miles away - to practice night landings and build time toward your 10 required night takeoffs/landings. Sunset was at 6:15 PM, and you plan to depart at 7:30 PM (75 minutes after sunset).\n\nYour CFI is not available tonight, but you have the required solo endorsement in your logbook from 2 months ago. You figure since you're endorsed for solo and endorsed for night, you're good to go.",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Student pilots cannot carry passengers at night, but more importantly, I need a specific endorsement from my CFI within the preceding 90 days for each solo cross-country flight. A general solo endorsement isn't sufficient. Night solo requires careful CFI oversight.",
    "trapReasoning": "I have a solo endorsement and night training - I can fly solo at night",
    "whyThisMatters": "Student pilots need specific endorsements for different types of solo flight. Night solo cross-country requires a recent, specific CFI endorsement per 14 CFR 61.87 and 61.93.\n\nStudent pilot privileges are heavily restricted. Each solo flight outside the pattern requires specific CFI authorization, especially at night when risks are higher.\n\nStudent pilot solo privileges are governed by 14 CFR 61.87 (solo in traffic pattern) and 61.93 (solo cross-country). Here's what you need:\n\nFor solo in the traffic pattern:\n- Pre-solo written test completed\n- Solo endorsement from CFI (valid until next flight review equivalent)\n- CFI believes you're proficient\n\nFor solo cross-country (leaving the traffic pattern):\n- Cross-country endorsement from CFI within preceding 90 days for the specific route or area\n- CFI has reviewed your planning and believes you're prepared for that specific flight\n\nFor night operations as a student:\n- While you can log night training with your CFI, solo night flight is generally allowed but requires extra caution\n- Each solo cross-country at night should have a specific endorsement from your CFI\n- Some CFIs won't endorse student night solo cross-countries due to the increased risk\n\nYour situation:\n- You have a general solo endorsement (2 months old)\n- You want to fly from KSDM to KMYF (cross-country - leaving your home airport)\n- You need a specific cross-country endorsement from your CFI within 90 days for this route\n- Your CFI is not available to provide that endorsement tonight\n\nEven if this were daytime, you'd need a fresh cross-country endorsement. At night, the need for specific CFI oversight is even more important.\n\nWhat should you do:\n1. Contact your CFI and discuss this specific flight\n2. Get a specific endorsement for this night cross-country route if your CFI approves\n3. If your CFI isn't available, don't fly - wait until you can get proper authorization\n\nStudent pilots operate under strict CFI supervision. Each solo flight that leaves the pattern requires fresh CFI approval and endorsement.",
    "cramMode": "Student pilots need specific CFI endorsement for each solo cross-country flight within 90 days. Night solo requires extra CFI oversight.",
    "reference": "14 CFR 61.87, 14 CFR 61.93",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-C/section-61.87"
  },
  {
    "id": "Q16",
    "title": "Night Vision Adaptation",
    "category": "Pilot Privileges/ADM",
    "topic": "Night Currency - Physiological Factors",
    "airports": "KAPA (Denver) local pattern",
    "aircraft": "Cessna 172",
    "scenario": "You're planning to get night current tonight by doing three full-stop landings in the pattern at Centennial Airport (KAPA). Sunset is at 6:15 PM, so you plan to arrive at 7:30 PM (75 minutes after sunset) when it's fully dark.\n\nYou've been inside a brightly-lit FBO for the past hour doing flight planning under fluorescent lights. Your eyes feel fine. You walk out to the aircraft at 7:25 PM, do a quick preflight with your flashlight, and plan to take off at 7:35 PM.\n\nYour CFI calls and says, \"Did you give your eyes time to adapt to the dark?\" You respond, \"I've got a flashlight - I can see fine.\"",
    "question": "Should you delay your departure?",
    "correctAnswer": "Yes. I should wait at least 30 minutes in dim light for my eyes to fully adapt to darkness. The AIM recommends this for safe night operations. I'll wait 20 more minutes before departing.",
    "trapReasoning": "I have a flashlight and the cockpit is lit - I don't need dark adaptation",
    "whyThisMatters": "Your eyes use rod cells for night vision, which need 30 minutes in darkness to fully adapt. Without proper adaptation, you can't see dimly lit obstacles, unlighted terrain, or other aircraft at night. The AIM recommends avoiding bright white lights for 30 minutes before flight and using red cockpit lights to preserve night vision. You've been under fluorescent lights until 10 minutes ago - you need 20 more minutes of darkness before it's safe to fly.",
    "cramMode": "30 minutes for night vision adaptation. Avoid bright white light before night flight. Use red cockpit lights.",
    "reference": "AIM 8-1-6",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap8_section_1.html"
  },
  {
    "id": "Q196",
    "title": "Pilot Privileges/ADM - Flight Review: â€˜I Flew Recentlyâ€™",
    "category": "Pilot Privileges/ADM",
    "topic": "Currency/Proficiency - Flight Review Requirements",
    "airports": "KSQL (San Carlos) local",
    "aircraft": "Cessna 172",
    "scenario": "You have 30 hours in the last 90 days and flew with friends last weekend. Your friend says you donâ€™t need a flight review because youâ€™re obviously proficient. Youâ€™re planning to rent tomorrow and the FBO asks for your flight review date.",
    "question": "Are you legal without a current flight reviewâ€”and what satisfies the requirement?",
    "correctAnswer": "Without a flight review within the preceding 24 calendar months, Iâ€™m not legal to act as PIC. A flight review is not about recency of flying; itâ€™s a specific requirement. Certain other activities can substitute (for example, a checkride or a practical test), but otherwise I need a flight review endorsement.",
    "trapReasoning": "â€œIf Iâ€™ve flown a lot recently, that replaces the flight review.â€",
    "whyThisMatters": "This separates â€˜currentâ€™ from â€˜proficient.â€™ The DPE wants you to know the flight review is a regulatory requirement with specific timing, regardless of how much youâ€™ve flown.",
    "cramMode": "Flight review is every 24 calendar months unless replaced by a practical test. Hours flown donâ€™t substitute.",
    "reference": "14 CFR 61.56",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.56"
  },
  {
    "id": "Q197",
    "title": "Pilot Privileges/ADM - Passenger Carrying: â€˜3 Landings = Goodâ€™ (But Which Type?)",
    "category": "Pilot Privileges/ADM",
    "topic": "Currency - Passenger Carrying Day vs Night",
    "airports": "KCRQ (McClellan-Palomar)",
    "aircraft": "PA-28-161",
    "scenario": "You did three daytime touch-and-goes yesterday. Tonight you want to take your spouse for a sightseeing flight after dark. Youâ€™re feeling pressure because itâ€™s a special occasion.",
    "question": "Are your daytime landings enough to carry passengers at night?",
    "correctAnswer": "No. Night passenger currency requires three takeoffs and landings to a full stop at night (in the preceding 90 days). Daytime landings donâ€™t satisfy the night requirement.",
    "trapReasoning": "â€œThree landings are three landingsâ€”currency is currency.â€",
    "whyThisMatters": "Night ops add risk (visual illusions, depth perception, workload). The regulations reflect that with a stricter requirement for night passenger carrying.",
    "cramMode": "Night passengers: 3 takeoffs/landings to a full stop at night within 90 days.",
    "reference": "14 CFR 61.57",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.57"
  },
  {
    "id": "Q198",
    "title": "Pilot Privileges/ADM - â€˜Iâ€™ll Just Log Dualâ€™ (But Whoâ€™s PIC?)",
    "category": "Pilot Privileges/ADM",
    "topic": "PIC Authority/Logging - Responsibilities vs Logging",
    "airports": "KDVT (Deer Valley)",
    "aircraft": "Cessna 172",
    "scenario": "You and another private pilot go up together. You sit left seat and fly the whole time. The other pilot (right seat) says heâ€™ll log PIC because â€˜itâ€™s his planeâ€™ and he was watching for traffic. Youâ€™re both trying to build time for insurance.",
    "question": "Who is actually the PIC, and why does it matter?",
    "correctAnswer": "PIC is the person who has final authority and responsibility for the operation and safety of the flight. Logging PIC time and being PIC are related but not identical. Before the flight, we must explicitly agree who is acting as PIC; that person is responsible for decisions, compliance, and enforcement exposure. If thereâ€™s an incident, â€˜we both thoughtâ€™ is not an acceptable answer.",
    "trapReasoning": "â€œPIC is whoever flies the most, and we can both log it however we want.â€",
    "whyThisMatters": "DPEs care that you understand responsibility doesnâ€™t disappear because youâ€™re â€˜just helping.â€™ On the ramp, the FAA and insurance will want one clear PIC.",
    "cramMode": "Agree on acting PIC before engine start. Acting PIC = final authority and accountability.",
    "reference": "14 CFR 91.3, 14 CFR 61.3",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.3 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.3"
  },
  {
    "id": "Q199",
    "title": "Pilot Privileges/ADM - â€˜I Can Fly Any Airplane if Iâ€™m Rated ASELâ€™",
    "category": "Pilot Privileges/ADM",
    "topic": "Pilot Privileges - Category/Class and Endorsements",
    "airports": "KFXE (Fort Lauderdale Executive)",
    "aircraft": "DA40",
    "scenario": "A friend offers you their high-performance single-engine airplane for a weekend trip. Youâ€™re a private pilot ASEL. You feel pressure because itâ€™s a rare opportunity.",
    "question": "What determines whether you can act as PICâ€”category/class vs endorsements?",
    "correctAnswer": "Category/class on my certificate (ASEL) is necessary but not always sufficient. Certain aircraft require specific endorsements (for example, high-performance or complex if applicable). I also need to be current and meet any insurance/rental requirements.",
    "trapReasoning": "â€œASEL means I can fly any single-engine land plane with no additional sign-offs.â€",
    "whyThisMatters": "This is a checkride classic: privileges have layersâ€”certificate, endorsements, currency, and real-world requirements.",
    "cramMode": "Certificate category/class + endorsements + currency + aircraft requirements all matter.",
    "reference": "14 CFR 61.31, 14 CFR 61.3",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.31 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.3"
  },
  {
    "id": "Q200",
    "title": "Pilot Privileges/ADM - â€˜Friends Want to Tip Meâ€™",
    "category": "Pilot Privileges/ADM",
    "topic": "Compensation/Compensation-Like Situations",
    "airports": "KJAC (Jackson Hole)",
    "aircraft": "Cessna 172",
    "scenario": "After a fun flight, your friends offer to â€˜tipâ€™ you $100 for being a great pilot. You didnâ€™t discuss money before the flight, but you feel social pressure not to be awkward.",
    "question": "What do you need to consider before accepting payment for this flight?",
    "correctAnswer": "I should treat it as compensation and decline. As a private pilot, I generally cannot accept compensation for acting as PIC. Even if itâ€™s called a â€˜tip,â€™ it can be viewed as compensation.",
    "trapReasoning": "â€œItâ€™s after the flight, so it canâ€™t be compensation.â€",
    "whyThisMatters": "This is a real-world trap: money around flights invites enforcement risk. The DPE wants conservative judgmentâ€”donâ€™t take money that looks like payment for piloting.",
    "cramMode": "If money is tied to the flight, assume itâ€™s compensationâ€”donâ€™t accept it as a private pilot.",
    "reference": "14 CFR 61.113",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-E/section-61.113"
  },
  {
    "id": "Q201",
    "title": "Pilot Privileges/ADM - Personal Minimums: Turning Weather Data into a â€˜Noâ€™",
    "category": "Pilot Privileges/ADM",
    "topic": "ADM - Personal Minimums and Triggers",
    "airports": "KORL (Orlando Exec) â†’ KSSI (Brunswick Golden Isles)",
    "aircraft": "PA-28-161",
    "scenario": "Briefing shows: destination forecast 2,500 BKN with 5SM in light rain near your ETA; scattered convective build-ups inland. Legal VFR could still be possible. Your passenger has a nonrefundable hotel and keeps reminding you. Youâ€™re legal, but your gut says itâ€™s tight.",
    "question": "How do you apply personal minimums to make a decision?",
    "correctAnswer": "I compare the forecast/trends to pre-set minimums (not made up on the spot): ceilings/visibility, crosswind, convective risk, alternates, and â€˜outsâ€™ along the route. If conditions are at/near my trigger, I decide on the ground: delay, drive, or change the plan. I also set hard in-flight decision points (turn/divert) before takeoff.",
    "trapReasoning": "â€œIâ€™ll launch because itâ€™s legal, and Iâ€™ll see what happens.â€",
    "whyThisMatters": "Personal minimums are designed to prevent plan-continuation bias. Legal vs safe: being legal doesnâ€™t mean you have adequate margin for your experience level.",
    "cramMode": "Use pre-set minimums and hard triggers. Donâ€™t invent minimums mid-briefing to justify going.",
    "reference": "FAA Risk Management Handbook, 14 CFR 91.103",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/risk_management_handbook | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q202",
    "title": "Pilot Privileges/ADM - â€˜Just One Moreâ€™ (Hazardous Attitudes)",
    "category": "Pilot Privileges/ADM",
    "topic": "ADM - Hazardous Attitudes and Antidotes",
    "airports": "KAPA (Centennial)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re tired but want to squeeze in one more lap in the pattern before the sun sets because you feel behind in training. You catch yourself thinking, â€œNothing ever happens here.â€",
    "question": "Which hazardous attitude is this and whatâ€™s the antidote you actually apply?",
    "correctAnswer": "Thatâ€™s likely invulnerability (â€œit wonâ€™t happen to meâ€). The antidote is to consciously acknowledge risk and choose a safer action: stop early, brief, and come back restedâ€”especially if conditions (light, fatigue, winds) are changing.",
    "trapReasoning": "â€œIf Iâ€™m careful, hazardous attitudes donâ€™t matter.â€",
    "whyThisMatters": "The DPE is testing self-management. Many accidents arenâ€™t skill failuresâ€”theyâ€™re decision failures driven by attitude and pressure.",
    "cramMode": "Name the attitude, apply the antidote, and change the planâ€”donâ€™t just â€˜be careful.â€™",
    "reference": "FAA Risk Management Handbook",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/risk_management_handbook"
  },
  {
    "id": "Q203",
    "title": "Pilot Privileges/ADM - IMSAFE: â€˜Iâ€™m Fineâ€™ (But Are You?)",
    "category": "Pilot Privileges/ADM",
    "topic": "ADM - Fitness for Flight",
    "airports": "KMYF (San Diego Montgomery)",
    "aircraft": "DA40",
    "scenario": "You slept 4 hours, had a stressful workday, and youâ€™re mildly dehydrated. You tell yourself youâ€™re fine because youâ€™re not sick. Your passenger expects you to go.",
    "question": "How do you use IMSAFE to make a PIC decision?",
    "correctAnswer": "I deliberately assess IMSAFE (Illness, Medication, Stress, Alcohol, Fatigue, Eating/Emotion). If multiple items are degraded (stress + fatigue + dehydration), I treat it as a real risk and change the plan. A â€˜legalâ€™ pilot can still be unsafe.",
    "trapReasoning": "â€œIf Iâ€™m under the legal alcohol limits, Iâ€™m good to go.â€",
    "whyThisMatters": "Physiology and judgment failures are common. The DPE wants you to demonstrate youâ€™ll cancel for yourself, not just for weather.",
    "cramMode": "IMSAFE is a go/no-go tool. If multiple factors are off, donâ€™t fly.",
    "reference": "FAA Risk Management Handbook",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/risk_management_handbook"
  },
  {
    "id": "Q204",
    "title": "Pilot Privileges/ADM - â€˜I Donâ€™t Want to File NASAâ€™",
    "category": "Pilot Privileges/ADM",
    "topic": "ADM - Reporting / Learning Culture",
    "airports": "KSDL (Scottsdale)",
    "aircraft": "Cessna 172",
    "scenario": "You accidentally enter a Class C outer ring without establishing communication. Nothing happens in the moment, but you realize it later. Youâ€™re embarrassed and donâ€™t want to â€œdraw attention.â€",
    "question": "Whatâ€™s a responsible next step, and why?",
    "correctAnswer": "I should learn from it immediately: debrief, identify root cause, and consider filing an ASRS (NASA) report promptly. The key goal is safety learning and documenting the event; itâ€™s not a â€˜get out of jail freeâ€™ card. I also review airspace procedures to prevent recurrence.",
    "trapReasoning": "â€œIf nobody called me, itâ€™s better to say nothing.â€",
    "whyThisMatters": "This tests maturity: pilots make mistakes; good pilots learn and build barriers. The DPE wants a safety-culture mindset.",
    "cramMode": "Own it, learn it, and build a fix. Consider ASRS promptly after a deviation.",
    "reference": "FAA Risk Management Handbook",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/risk_management_handbook"
  },
  {
    "id": "Q17",
    "title": "Missing ARROW Document",
    "category": "Pilot Privileges/ADM",
    "topic": "Documents Required - ARROW",
    "airports": "KSDL (Scottsdale) local",
    "aircraft": "Cessna 172",
    "scenario": "You're about to take a passenger on a sightseeing flight in a rented Cessna 172. During preflight, you check the aircraft documents:\n\n- Airworthiness Certificate: Present and valid\n- Registration: Present, but expired 4 months ago\n- Radio Station License: Not present (domestic flight only)\n- Operating Limitations (POH): Present\n- Weight & Balance: Present and current\n\nThe FBO manager says, \"The registration renewal is in process - we submitted it to the FAA 5 months ago. You're fine to fly while it's being processed.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. The registration expired 4 months ago. Under 14 CFR 91.203, I need a current registration or temporary certificate. \"In process\" doesn't count - the aircraft isn't airworthy.",
    "trapReasoning": "Registration renewals take forever - you can fly while it's in process with the FAA",
    "whyThisMatters": "Aircraft registration must be current at all times per 14 CFR 91.203. Registration expires every 3 years, and when you renew, you receive a temporary certificate valid for 120 days while the permanent one is processed. This aircraft has an expired registration with no temporary certificate visible - either the renewal wasn't properly submitted or the temp cert is missing from the aircraft. Either way, the aircraft is not airworthy and cannot be flown.",
    "cramMode": "ARROW required. Registration expires every 3 years. No current registration or temp cert = grounded.",
    "reference": "14 CFR 91.203, 14 CFR 47.40",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.203"
  },
  {
    "id": "Q18",
    "title": "Pilot Certificate Left at Home",
    "category": "Pilot Privileges/ADM",
    "topic": "Documents Required - Personal Documents",
    "airports": "KBJC (Rocky Mountain Metro) â†’ KGXY (Greeley)",
    "aircraft": "Cessna 172",
    "scenario": "You arrive at the airport for a solo cross-country from Rocky Mountain Metro (KBJC) to Greeley (KGXY). During preflight, you realize your pilot certificate is at home in your other wallet. You have your medical certificate and driver's license.\n\nYou live 45 minutes away. Your friend suggests, \"Just take a photo of your certificate and show it on your phone. Same information.\" Your digital pilot certificate is available on the FlyQ app.\n\nThe flight school says, \"We need to see the physical cert before renting, but once airborne, nobody's going to check.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Under 14 CFR 61.3, I must have my physical pilot certificate in my possession while acting as PIC. Digital copies and photos don't count. I need to go home and get it.",
    "trapReasoning": "Digital pilot certificates on apps are official - they count as having your certificate",
    "whyThisMatters": "14 CFR 61.3 requires three physical documents when acting as PIC: pilot certificate, medical certificate, and government-issued photo ID. The regulation states these must be \"in that person's physical possession or readily accessible in the aircraft.\" Digital pilot certificates exist in apps, but they are not legally valid substitutes for the physical card. The FAA requires physical documents for enforcement and verification purposes. You must go home and get your physical certificate before flying.",
    "cramMode": "PPM: Pilot certificate, Photo ID, Medical - all must be PHYSICAL documents in possession. Digital doesn't count.",
    "reference": "14 CFR 61.3",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.3"
  },
  {
    "id": "Q19",
    "title": "Digital vs Physical Documents",
    "category": "Pilot Privileges/ADM",
    "topic": "Documents Required - Photo ID",
    "airports": "KTUS (Tucson) â†’ KPHX (Phoenix)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a flight from Tucson (KTUS) to Phoenix (KPHX) with two passengers. During preflight, you verify you have your pilot certificate and medical certificate (both physical cards).\n\nFor your photo ID, you pull up your Arizona driver's license on your phone using the state's official AZ MVD Now app. Arizona issues official digital driver's licenses that are legally valid for TSA screening and traffic stops within the state.\n\nYour passenger asks, \"Is a digital driver's license okay for flying?\" The app shows your photo, name, date of birth, and has a barcode for verification.",
    "question": "Can you make this flight using your digital driver's license as your photo ID?",
    "correctAnswer": "14 CFR 61.3 requires a government-issued photo identification to act as PIC. The regulation doesnâ€™t explicitly spell out â€œphysical vs. digital,â€ so I would not rely on a phone-only ID for compliance. I would bring a physical government-issued photo ID (driverâ€™s license or passport). If I only had the digital ID, I would delay the flight until I had an ID that Iâ€™m confident will be accepted for FAA compliance and verification.",
    "trapReasoning": "Arizona's digital driver's license is state-issued and legally valid - it counts as government ID",
    "whyThisMatters": "This is a strict-compliance mindset question. 14 CFR 61.3 requires you to have a government-issued photo ID available for inspection while acting as PIC. Because the regulation doesnâ€™t clearly define whether a state-issued â€œmobile driverâ€™s licenseâ€ satisfies that requirement, relying on phone-only ID creates avoidable compliance risk. The clean, defensible answer is to carry a physical ID.",
    "cramMode": "Photo ID must be physical even if your state issues digital licenses. FAA hasn't approved digital IDs yet.",
    "reference": "14 CFR 61.3",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.3"
  },
  {
    "id": "Q20",
    "title": "Expired Medical Discovered During Preflight",
    "category": "Pilot Privileges/ADM",
    "topic": "Documents Required - Medical Expiration",
    "airports": "KSNA (Orange County) â†’ KSAN (San Diego)",
    "aircraft": "Cessna 172",
    "scenario": "You're doing preflight for a flight from Orange County (KSNA) to San Diego (KSAN) with a passenger. While checking documents, you notice your medical certificate says \"Expires: 01/2026\" and today is February 7, 2026.\n\nYou're 44 years old. Your third-class medical exam was done when you were 42, so it's valid for 24 months. You have a BasicMed exam scheduled next week. The flight is only 45 minutes, and your passenger is already in the plane.\n\nYour friend says, \"You were legal last month - close enough.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. My medical expired on January 31, 2026. Today is February 7 - I'm a week past expiration. Under 14 CFR 61.3, I cannot act as PIC without a valid medical or BasicMed. I need to cancel.",
    "trapReasoning": "Medical certificates expire on the anniversary date, not end of month",
    "whyThisMatters": "Medical certificates display expiration as month/year (e.g., \"01/2026\"), not a specific day, and they expire on the last day of that month - in this case, January 31, 2026. The duration (24 or 60 calendar months) is based on your age at the exam date, not your current age. Since you were 42 at exam (40 or older = 24 months), your medical expired on the last day of the 24th month. Today (February 7) is past expiration, so you cannot fly until you complete your BasicMed exam or get a new FAA medical.",
    "cramMode": "Medical expires last day of month shown on certificate. Check month/year, not specific anniversary date.",
    "reference": "14 CFR 61.23, 14 CFR 61.3",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-D/part-61/subpart-A/section-61.23"
  },
  {
    "id": "Q21",
    "title": "Inoperative Equipment - The Compass",
    "category": "Pilot Privileges/ADM",
    "topic": "Inoperative Equipment - VFR Day Required Equipment",
    "airports": "KFXE (Fort Lauderdale) local",
    "aircraft": "Cessna 152",
    "scenario": "You're planning a local VFR day flight in the pattern at Fort Lauderdale Executive (KFXE). During preflight, the magnetic compass is stuck - the card isn't rotating freely and appears frozen pointing northeast.\n\nThe plane has a heading indicator (vacuum-powered) that works fine. You plan to fly VFR in the pattern, staying in sight of the runway. The plane has no MEL.\n\nYour instructor says, \"You've got a heading indicator - the compass is just backup. You're only going around the pattern.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Under 14 CFR 91.205(b), a magnetic compass is required for VFR day flight. Even though I have a heading indicator and I'm staying in the pattern, the compass must be operative or properly placarded inop per 91.213.",
    "trapReasoning": "The heading indicator works and I'm staying in the pattern - I don't need the compass",
    "whyThisMatters": "The magnetic compass is required VFR day equipment per 14 CFR 91.205(b) - it's the \"C\" in ATOMATOFLAMES. The heading indicator is gyroscopic and precesses over time, requiring the compass to reset it periodically. The compass is also your backup if the vacuum system fails. Without an MEL, you have two options: (1) repair the compass, or (2) have a mechanic placard it INOP and verify it's not on the forbidden list per 91.213(d). The compass can be deferred if properly placarded, but you cannot fly until that's done.",
    "cramMode": "ATOMATOFLAMES = VFR day required equipment. Compass required. Broken required equipment = no fly without MEL/placard.",
    "reference": "14 CFR 91.205(b), 14 CFR 91.213",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q22",
    "title": "Inoperative Equipment - Flaps Indicator",
    "category": "Pilot Privileges/ADM",
    "topic": "Inoperative Equipment - Non-Required Equipment",
    "airports": "KDVT (Phoenix Deer Valley) â†’ KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a cross-country from Deer Valley (KDVT) to Prescott (KPRC). During runup, the electric flaps position indicator is stuck at \"10 degrees\" even when you move flaps to full down. The flaps physically work fine - you can see them extending - but the cockpit gauge doesn't move.\n\nThe POH doesn't list the flaps indicator as required. The plane has no MEL. You can verify flap position visually and there are mechanical detents for each setting.",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Even though the flaps indicator isn't required equipment, 91.205(b) says all installed instruments must be operative unless properly placarded inop. Without an MEL, I need a mechanic to placard it INOP first.",
    "trapReasoning": "The flaps indicator isn't required and the flaps work - I can fly",
    "whyThisMatters": "14 CFR 91.205(b) states: \"No person may operate a civil aircraft with inoperative instruments or equipment installed\" unless specific conditions are met. The flaps position indicator isn't required for VFR flight, but since it's installed, it must either work OR be properly deactivated per 91.213(d). You need a mechanic to placard it INOP, verify it's not on the forbidden list (it's not), and deactivate it if possible. Once properly placarded, you can fly using visual verification and mechanical detents - but you need that placard first.",
    "cramMode": "Installed equipment must work OR be placarded inop per 91.213, even if not \"required.\" Get mechanic placard first.",
    "reference": "14 CFR 91.205(b), 14 CFR 91.213(d)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q23",
    "title": "Inoperative Equipment - Inop Sticker from Last Week",
    "category": "Pilot Privileges/ADM",
    "topic": "Inoperative Equipment - Proper Deactivation",
    "airports": "KSAC (Sacramento Executive) â†’ KMER (Merced)",
    "aircraft": "Cessna 172",
    "scenario": "You're renting a Cessna 172 for a cross-country from Sacramento (KSAC) to Merced (KMER). During preflight, you notice an \"INOP\" sticker on the ADF (Automatic Direction Finder). The plane has no MEL.\n\nThe dispatcher says, \"Yeah, that ADF broke last week. We put the sticker on it. It's not required for VFR anyway, so we're good to rent it out.\"\n\nYou check the logbook - no entry about the ADF being deactivated. The INOP sticker is just tape with \"INOP\" written in marker.",
    "question": "Can you make this flight?",
    "correctAnswer": "No. While ADF isn't required for VFR, 91.213(d) requires a certificated mechanic to verify the equipment can be deferred and make a logbook entry. A homemade sticker without logbook entry isn't proper deactivation.",
    "trapReasoning": "There's an INOP sticker and ADF isn't required - that's all you need",
    "whyThisMatters": "14 CFR 91.213(d) allows deferral of inoperative equipment only if: (1) not required by regulation, type certificate, or AD, (2) not on the forbidden list, (3) placard placed near the instrument, and (4) maintenance recorded in the aircraft logbook. The ADF is not required for VFR and not on the forbidden list, so it can legally be deferred. However, proper deferral requires an A&P mechanic to verify this, install a proper placard, and make a logbook entry describing the inoperative equipment and date. A homemade tape sticker without a logbook entry doesn't meet the regulatory requirements.",
    "cramMode": "INOP equipment needs A&P verification + logbook entry + proper placard. Homemade sticker without logbook = not legal.",
    "reference": "14 CFR 91.213(d)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.213"
  },
  {
    "id": "Q24",
    "title": "Inoperative Equipment - Electrical System Failure",
    "category": "Pilot Privileges/ADM",
    "topic": "Inoperative Equipment - System Failures",
    "airports": "KRHV (San Jose) â†’ KWVI (Watsonville)",
    "aircraft": "Cessna 152",
    "scenario": "You're planning a VFR day flight from San Jose (KRHV) to Watsonville (KWVI) - about 25 miles. During engine start, the ammeter shows discharge and the battery warning light is on. The engine runs, but the alternator isn't charging.\n\nRequired instruments work (engine-powered, not electrical). You have 30-45 minutes of battery. The flight is 20 minutes. The plane has no MEL.\n\nYou figure you can make it before the battery dies.",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Under 14 CFR 91.7, I cannot fly an aircraft in an unairworthy condition. Starting a flight with a known electrical system failure creates an unsafe condition. Get the alternator fixed first.",
    "trapReasoning": "I have enough battery for 30 minutes and the flight is 20 minutes - I can make it",
    "whyThisMatters": "14 CFR 91.7(a) states: \"No person may operate a civil aircraft unless it is in an airworthy condition,\" and the PIC is directly responsible for determining airworthiness. An alternator failure during flight is an emergency you manage, but deliberately starting a flight with a known dead alternator means you're choosing to fly an unairworthy aircraft. If the battery dies en route, you lose radios (can't communicate with tower), transponder (ATC can't see you), and any electrical systems. Losing communications in Class D airspace is a violation. Get the alternator repaired before flying.",
    "cramMode": "91.7 requires aircraft to be airworthy. Failed alternator = unairworthy. Can't legally start flight with known system failure.",
    "reference": "14 CFR 91.7",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.7"
  },
  {
    "id": "Q25",
    "title": "Inoperative Equipment - GPS Navigator",
    "category": "Pilot Privileges/ADM",
    "topic": "Inoperative Equipment - Non-Required Navigation Equipment",
    "airports": "KBOI (Boise) â†’ KTWF (Twin Falls)",
    "aircraft": "Cessna 172 with Garmin GTN 650",
    "scenario": "You're planning a VFR cross-country from Boise (KBOI) to Twin Falls (KTWF). The plane has a Garmin GTN 650 GPS that you normally use. During preflight, the GPS won't turn on - completely dead.\n\nThe plane has working VOR receivers, and you have paper charts. The route has VOR coverage and good visual landmarks. You're comfortable with VORs and pilotage. The plane has no MEL.\n\nYour instructor asks, \"Is the GPS required equipment?\"",
    "question": "Can you make this flight?",
    "correctAnswer": "Yes, if the GPS is properly placarded INOP. GPS isn't required for VFR under 91.205. But since it's installed and broken, I need it placarded inoperative per 91.213 before departure.",
    "trapReasoning": "GPS isn't required for VFR - I can just ignore it and use VORs instead",
    "whyThisMatters": "GPS is not required equipment for VFR flight per 14 CFR 91.205(b), but since it's installed in this aircraft, 91.205(b) requires it to either work OR be properly placarded inoperative. Without an MEL, you must follow 91.213(d) procedures: verify the GPS isn't required (correct), verify it's not on the forbidden list (correct), have a mechanic placard it INOP, and make a logbook entry. Once properly placarded, you can navigate using VORs, pilotage, and dead reckoning - but verify you're proficient with non-GPS navigation before launching.",
    "cramMode": "GPS not required for VFR but must be placarded INOP if broken. Get A&P placard + logbook entry per 91.213(d).",
    "reference": "14 CFR 91.205(b), 14 CFR 91.213(d)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q26",
    "title": "Inoperative Equipment - Fuel Quantity Gauges",
    "category": "Airspace & Regs",
    "topic": "Inoperative Equipment - Forbidden List",
    "airports": "KFFZ (Falcon Field) â†’ KIWA (Phoenix-Mesa Gateway)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a short flight from Falcon Field (KFFZ) to Phoenix-Mesa Gateway (KIWA) - about 15 miles. During preflight, you notice the left fuel quantity gauge is stuck on empty, even though you visually verified the tank is full during preflight.\n\nThe right fuel gauge works correctly. You can see both tanks are full by looking at them, and you'll visually check fuel level before each flight. The plane has no MEL.\n\nYour instructor says, \"Just placard it INOP and go - you can verify fuel visually.\"",
    "question": "Can you make this flight if you placard the left fuel gauge INOP?",
    "correctAnswer": "No. Fuel quantity gauges are on the forbidden list in 14 CFR 91.213(d)(2)(ii). They cannot be placarded inoperative - they must be repaired before flight. Get the gauge fixed.",
    "trapReasoning": "I can visually check fuel and the other gauge works - one broken gauge is fine if placarded",
    "whyThisMatters": "14 CFR 91.213(d)(2) lists equipment that CANNOT be deferred even if not required for the current flight - these items must be repaired before flight. Fuel quantity indicators are specifically on this forbidden list because they're required by 14 CFR 91.205(b) for all flights. Even though you can visually check fuel levels and the right gauge works, you cannot legally fly with an inoperative fuel gauge until it's repaired. The forbidden list exists to prevent pilots from deferring critical safety equipment.",
    "cramMode": "Fuel gauges on forbidden list per 91.213 - cannot be placarded INOP. Must repair before flight.",
    "reference": "14 CFR 91.213(d)(2)(ii), 14 CFR 91.205(b)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.213"
  },
  {
    "id": "Q27",
    "title": "Inoperative Equipment - Second Radio Failure",
    "category": "Airspace & Regs",
    "topic": "Inoperative Equipment - Minimum Equipment",
    "airports": "KDVT (Deer Valley) â†’ KGYR (Goodyear)",
    "aircraft": "Cessna 172 with two radios",
    "scenario": "You're planning a VFR flight from Deer Valley (KDVT) to Goodyear (KGYR). The aircraft has two communication radios. During preflight, you discover COM 2 is inoperative and has been placarded INOP with a proper logbook entry from last week.\n\nToday, during runup, COM 1 stops working completely. You now have no working radios. Both airports are Class D (towered). The weather is severe clear VFR. You're 5 miles from Goodyear.\n\nYou remember that you can enter Class D without a radio if it fails in flight. You figure you can just depart with both radios inop and land at Goodyear.",
    "question": "Can you depart and fly to Goodyear?",
    "correctAnswer": "No. Under 14 CFR 91.205(b), a two-way radio is required for VFR flight in Class D airspace. I cannot legally depart Deer Valley's Class D with no working radios. Radio failure in flight is different - that's an emergency.",
    "trapReasoning": "Radio failure in flight lets you land Class D without comms - same thing applies for takeoff",
    "whyThisMatters": "14 CFR 91.205(b) requires a two-way radio for operations in Class B, C, D, or E airspace where two-way communication is required. Departing Deer Valley (Class D) requires a working radio. The exception for radio failure applies only when the radio fails DURING flight - it's an emergency procedure that allows you to safely land. You cannot deliberately start a flight with no radio intending to use the \"radio failure\" procedures. That's not an emergency - that's a regulatory violation. Get COM 1 repaired or tow the aircraft to a maintenance facility.",
    "cramMode": "Two-way radio required for Class B/C/D operations per 91.205. Can't deliberately depart with no radio. Radio failure exception only applies in flight.",
    "reference": "14 CFR 91.205(b), 14 CFR 91.129(c)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q28",
    "title": "Inoperative Equipment - Engine Gauge Failure",
    "category": "Airspace & Regs",
    "topic": "Inoperative Equipment - Critical vs Non-Critical",
    "airports": "KSEE (San Diego Gillespie) local",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a local flight from Gillespie Field (KSEE). During engine start, you notice the oil temperature gauge isn't working - it stays at zero even after the engine warms up. The oil pressure gauge works correctly and shows normal pressure.\n\nThe POH lists the oil temperature gauge as part of the required instruments. The plane has no MEL. You have a digital engine monitor (EDM) that shows oil temperature correctly - it's reading 180Â°F and climbing normally.\n\nYour CFI says, \"The EDM shows oil temp - the gauge is redundant. Placard it and go.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. The POH lists the oil temperature gauge as required, which means it's required by the aircraft's type certificate. Under 91.213(d)(1), equipment required by the aircraft's type certificate cannot be deferred. The gauge must be repaired.",
    "trapReasoning": "The digital engine monitor shows oil temperature - the gauge is redundant backup",
    "whyThisMatters": "14 CFR 91.213(d)(1) states that equipment required by regulation, the aircraft's type certificate, or ADs cannot be deferred - even with proper placarding. If the POH lists an instrument as required, it's part of the type certificate equipment list and must be operative. The EDM is supplemental equipment, not a substitute for required instruments. Even if the EDM provides the same information, it doesn't replace the required gauge per the type certificate. The gauge must be repaired before you can legally fly.",
    "cramMode": "Equipment required by POH/type certificate cannot be deferred per 91.213. Must repair before flight, even with backup instruments.",
    "reference": "14 CFR 91.213(d)(1)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.213"
  },
  {
    "id": "Q29",
    "title": "Inoperative Equipment - ELT Battery Expiration",
    "category": "Airspace & Regs",
    "topic": "Inoperative Equipment - ELT Requirements",
    "airports": "KSDL (Scottsdale) â†’ KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a cross-country from Scottsdale (KSDL) to Prescott (KPRC). During preflight, you check the ELT (Emergency Locator Transmitter) and notice the battery expired 3 months ago according to the sticker on the unit.\n\nThe ELT itself is installed and appears functional - you test it briefly and it transmits. The battery just needs replacement. The plane has no MEL.\n\nYour friend says, \"ELTs are only required for hire operations and overwater flights. You're flying VFR cross-country - just go.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Under 14 CFR 91.207, ELTs are required for most aircraft, and the ELT battery must be replaced when 50% of useful life expires or after 1 hour of cumulative use. An expired battery means the ELT isn't airworthy. Get the battery replaced.",
    "trapReasoning": "ELTs are only required for charter operations - private VFR flights don't need them",
    "whyThisMatters": "14 CFR 91.207 requires ELTs on most aircraft (with exceptions for training within 50nm, ag operations, and a few others). Your cross-country flight doesn't qualify for any exception. The regulation also requires the battery to be replaced (or recharged if rechargeable) when it reaches 50% of useful life or after 1 hour of cumulative use, whichever comes first. An expired battery makes the ELT non-functional in an emergency. While the ELT might transmit during your brief test, a 3-month-expired battery won't last long enough for rescue teams to locate you after a crash. Replace the battery before flying.",
    "cramMode": "ELT required for most operations per 91.207. Battery must be replaced when expired or after 50% useful life. Can't fly with expired ELT battery.",
    "reference": "14 CFR 91.207",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.207"
  },
  {
    "id": "Q30",
    "title": "Inoperative Equipment - Multiple INOP Items (Clock)",
    "category": "Airspace & Regs",
    "topic": "Inoperative Equipment - Multiple Inop Items",
    "airports": "KCHD (Chandler) â†’ KSDL (Scottsdale)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a short VFR day flight from Chandler (KCHD) to Scottsdale (KSDL) - about 10 miles. During preflight, you notice three items are placarded INOP with proper logbook entries:\n\n1. ADF (Automatic Direction Finder) - not required for VFR\n2. DME (Distance Measuring Equipment) - not required for VFR\n3. Clock - required per 91.205(b) but placarded last week\n\nThe plane has no MEL. You have your watch and phone for time. Everything else works perfectly.",
    "question": "Can you make this flight?",
    "correctAnswer": "No. The clock is required VFR day equipment per 14 CFR 91.205(b). While ADF and DME can legally be deferred, the clock cannot be placarded inoperative - it's on the forbidden list because it's required equipment.",
    "trapReasoning": "The clock was properly placarded with a logbook entry - I can use my watch",
    "whyThisMatters": "14 CFR 91.205(b) requires a \"clock displaying hours, minutes, and seconds with a sweep-second pointer or digital presentation\" for VFR flight. This is part of the required equipment (the first \"T\" in ATOMATOFLAMES). Even though the mechanic placarded it properly, clocks are required equipment and cannot be deferred - they must be repaired. Your watch and phone are not installed aircraft instruments and don't satisfy the requirement. The ADF and DME placards are fine (not required for VFR), but the clock placard is invalid. Get the clock fixed before flying.",
    "cramMode": "Clock required per 91.205 (ATOMATOFLAMES). Watch/phone don't count. Required equipment can't be placarded - must repair.",
    "reference": "14 CFR 91.205(b), 14 CFR 91.213(d)(2)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q31",
    "title": "Required Inspections - Annual Expiration",
    "category": "Airspace & Regs",
    "topic": "Inspections - Annual Inspection",
    "airports": "KAPA (Centennial) local",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a local flight from Centennial (KAPA). During preflight, you check the aircraft logbooks. The last annual inspection was completed on January 15, 2025. Today is January 20, 2026.\n\nThe aircraft has been flying regularly. There's a 100-hour inspection from 3 weeks ago (the aircraft is used for flight training). Everything else is current.\n\nThe flight school dispatcher says, \"We have 5 days left on the annual - it's good until January 31, 2026 since annuals are valid for 12 calendar months.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "Yes. Under 14 CFR 91.409(a), an annual inspection is valid for 12 **calendar** months. An annual completed on January 15, 2025 is valid through **January 31, 2026**. On January 20, 2026, the annual is still current, so the aircraft is legal to fly (assuming no other issues).",
    "trapReasoning": "Annual inspections are good for 12 months from the date, so January 15, 2025 + 12 months = January 15, 2026",
    "whyThisMatters": "This is a calendar-month counting trap. â€œ12 calendar monthsâ€ means the inspection is valid through the **last day of the month** 12 months later, not exactly 365 days. If you canâ€™t count calendar months correctly, youâ€™ll ground airplanes that are legalâ€”or worse, fly airplanes that are actually out of inspection.",
    "cramMode": "Annual inspection valid 12 calendar months: inspection in January 2025 is good through Jan 31, 2026. Calendar months end on the last day of the month.",
    "reference": "14 CFR 91.409(a)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-E/section-91.409"
  },
  {
    "id": "Q32",
    "title": "Required Inspections - 100-Hour for Rental",
    "category": "Airspace & Regs",
    "topic": "Inspections - 100-Hour Requirement",
    "airports": "KSDL (Scottsdale) â†’ KIWA (Phoenix-Mesa Gateway)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning to rent a Cessna 172 for a personal flight from Scottsdale (KSDL) to Phoenix-Mesa Gateway (KIWA). You're a private pilot flying for personal reasons, not for hire or flight training.\n\nThe aircraft logbooks show the last 100-hour inspection was 103 flight hours ago. The tach shows this accurately. The annual inspection is current (completed 6 months ago).\n\nThe flight school dispatcher says, \"100-hour inspections are only required for hire operations. Since you're renting it for personal use, you don't need a 100-hour - just an annual.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "Yes, for this specific flight as described (personal VFR, no instruction). 14 CFR 91.409(b) applies to operations **carrying persons for hire** and to **flight instruction for hire** when the instructor provides the aircraft. A private rental flight isnâ€™t automatically â€œcarrying a person for hireâ€ just because money changes hands for the aircraft. With a current annual, this flight can be legal even if the aircraft is beyond 100 hours â€” but the aircraft cannot be used for operations that *do* trigger 91.409(b) until it gets the 100-hour inspection.",
    "trapReasoning": "I'm not using it commercially - I'm just renting for personal reasons, so 100-hour doesn't apply",
    "whyThisMatters": "This question tests the exact scope of 91.409(b). The 100-hour requirement is tied to specific *types of operation* (carrying persons for hire / instruction for hire), not simply â€œsomeone paid money somewhere.â€ In real life, many schools maintain 100-hour compliance across the fleet for simplicity and safety, but on a checkride you need to state the regulation accurately and then distinguish **legal** from **policy/safety**.",
    "cramMode": "100-hour applies to carrying persons for hire and to instruction for hire (when the instructor provides the aircraft). Rental alone doesnâ€™t automatically trigger it; annual still matters for legality.",
    "reference": "14 CFR 91.409(b)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-E/section-91.409"
  },
  {
    "id": "Q33",
    "title": "Required Inspections - Transponder/Altimeter Check",
    "category": "Airspace & Regs",
    "topic": "Inspections - Transponder Certification",
    "airports": "KLAS (Las Vegas) â†’ KPHX (Phoenix)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a VFR flight from Las Vegas (KLAS) to Phoenix (KPHX). Both airports are under the Mode C veil (within 30nm of Class B primary airport). You'll be using flight following and squawking a transponder code.\n\nDuring preflight document review, you notice the last transponder/encoder certification was completed on January 10, 2024. Today is February 7, 2026 - just over 2 years later. The annual inspection is current.\n\nYour passenger says, \"Transponder checks are only required for IFR flight. We're VFR - we're good.\"",
    "question": "Can you make this flight?",
    "correctAnswer": "No. Under 14 CFR 91.413, transponder/encoder certification is required every 24 calendar months for any operation in airspace requiring a transponder. Both airports are in Mode C veils, which require transponders. The check expired January 31, 2026.",
    "trapReasoning": "Transponder certification is only required for IFR operations - VFR doesn't need it",
    "whyThisMatters": "14 CFR 91.413 requires transponder and encoder testing/inspection every 24 calendar months for operations in airspace where transponders are required. Mode C veils (within 30nm of Class B airports) require transponders per 14 CFR 91.215. The inspection done January 10, 2024 is valid through the last day of the 24th month - January 31, 2026. Today (February 7, 2026) is past expiration. You cannot operate in Mode C veil airspace until the transponder/encoder is recertified. Your options: get the certification done, or route around both Mode C veils (unlikely to be practical for this trip).",
    "cramMode": "Transponder/encoder cert required every 24 calendar months per 91.413. Required for any airspace needing transponder (Mode C veil, Class B/C, above 10K, etc).",
    "reference": "14 CFR 91.413, 14 CFR 91.215",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-E/section-91.413"
  },
  {
    "id": "Q42",
    "title": "Airworthiness Directives - Compliance Status Unknown",
    "category": "Airspace & Regs",
    "topic": "Airworthiness Directives - Compliance Verification",
    "airports": "KSDL (Scottsdale) â†’ KIWA (Phoenix-Mesa Gateway)",
    "aircraft": "Cessna 172N (1979)",
    "scenario": "You're planning to rent a 1979 Cessna 172N for a cross-country from Scottsdale (KSDL) to Phoenix-Mesa Gateway (KIWA). During preflight document review, you search the logbooks for Airworthiness Directive (AD) compliance.\n\nYou find entries for several ADs from 10+ years ago, but nothing recent. You search online and find that the FAA issued a new AD three months ago for Cessna 172 seat rails (AD 2025-23-15) - recurring inspection required every 100 hours.\n\nYou ask the flight school dispatcher about it. They say, \"I'm not sure if that AD applies to this aircraft. The mechanic handles all that stuff. The annual was done 4 months ago, so we should be good.\"",
    "question": "Should you fly this aircraft?",
    "correctAnswer": "No. Under 14 CFR 91.403, I'm responsible for maintaining the aircraft in an airworthy condition, which includes AD compliance. I cannot verify AD 2025-23-15 compliance. I need documentation before flying.",
    "trapReasoning": "The annual inspection was done recently - the mechanic would have caught any ADs",
    "whyThisMatters": "14 CFR 39.3 requires compliance with all applicable ADs. As PIC, you're responsible for verifying AD compliance per 14 CFR 91.403, even in rental aircraft. The annual was 4 months ago, but this AD was issued 3 months ago - after the annual. If the AD requires recurring 100-hour inspections and hasn't been addressed, the aircraft may be unairworthy. You need to verify: (1) Does this AD apply to this specific aircraft (serial number check)? (2) Has the initial compliance been completed? (3) When is the next inspection due? Don't accept \"the mechanic handles it\" - you need to see documentation. Request the AD compliance log or don't fly the aircraft.",
    "cramMode": "PIC responsible for AD compliance per 91.403 and 39.3. Must verify compliance before flight. Can't assume annual caught everything if AD issued after annual.",
    "reference": "14 CFR 39.3, 14 CFR 91.403",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-C/part-39/section-39.3"
  },
  {
    "id": "Q43",
    "title": "Airworthiness Directives - One-Time vs Recurring",
    "category": "Airspace & Regs",
    "topic": "Airworthiness Directives - Compliance Types",
    "airports": "KCHD (Chandler) local",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a local flight from Chandler (KCHD). You review the aircraft logbooks and find two AD entries:\n\n1. AD 2023-08-12 (Fuel selector valve inspection) â€” entry dated 14 months ago states â€œAD complied with, no defects foundâ€\n2. AD 2024-15-03 (Alternator belt inspection) â€” entry dated 6 months ago states â€œAD complied with, recurring inspection required every 100 flight hoursâ€\n\nThe aircraft has flown 120 hours since the alternator belt AD compliance 6 months ago. The annual inspection is current (done 3 months ago). You feel pressure to go because the plane is booked after you.",
    "question": "Is the aircraft airworthy for your flight today?",
    "correctAnswer": "No. If an AD requires recurring compliance every 100 hours and the aircraft has flown 120 hours since the last recorded compliance, itâ€™s overdue and the aircraft is not airworthy until that AD is complied with and properly documented.",
    "trapReasoning": "â€œThe annual was done 3 months ago, so the mechanic must have taken care of it.â€",
    "whyThisMatters": "ADs can be one-time or recurring. One-time ADs are done once; recurring ADs must be repeated at the specified interval. You canâ€™t assume compliance without documentation. Legal vs safe: if itâ€™s overdue, you donâ€™t launch. If the aircraft must be moved to maintenance, thatâ€™s typically handled via a Special Flight Permit (ferry permit) if eligibleâ€”not by â€˜just flying it anyway.â€™",
    "cramMode": "Recurring AD overdue = not airworthy. Donâ€™t assumeâ€”verify the logbook entry. If it needs repositioning, think special flight permit.",
    "reference": "14 CFR 39.3, 14 CFR 91.403, 14 CFR 21.197",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-C/part-39/section-39.3 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-E/section-91.403 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-C/part-21/subpart-H/section-21.197"
  },
  {
    "id": "Q205",
    "title": "Airspace & Regs - VFR Cruising Altitudes (Odd/Even + 500)",
    "category": "Navigation",
    "topic": "VFR Operations - Altitude Selection",
    "airports": "KELP (El Paso) â†’ KABQ (Albuquerque)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a VFR cross-country on a magnetic course of 020Â°. Your passenger wants the smoothest ride and suggests 7,500 because itâ€™s common. Youâ€™re also trying to stay clear of clouds and feel pressure to pick an altitude quickly.",
    "question": "What altitude rule applies, and what altitude(s) are appropriate?",
    "correctAnswer": "For VFR cruising altitudes above 3,000 feet AGL, I use the hemispheric rule: magnetic course 000â€“179 uses odd thousands + 500 (e.g., 5,500, 7,500). For 180â€“359 itâ€™s even + 500. I still choose an altitude that clears terrain, airspace, and weather.",
    "trapReasoning": "â€œItâ€™s VFRâ€”any altitude is fine as long as Iâ€™m legal for airspace.â€",
    "whyThisMatters": "This is a basic compliance item that prevents head-on conflicts. The DPE wants you to know the rule and apply it correctly.",
    "cramMode": "Above 3,000 AGL: 000â€“179 = odd + 500; 180â€“359 = even + 500.",
    "reference": "14 CFR 91.159",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.159"
  },
  {
    "id": "Q206",
    "title": "Airspace & Regs - Minimum Safe Altitudes (City vs Rural)",
    "category": "Navigation",
    "topic": "Operating Rules - Minimum Altitudes",
    "airports": "KPHL (Philadelphia) outskirts",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re sightseeing near a built-up area and your passenger wants a closer view of the skyline. You consider descending to 800 feet AGL because visibility is good and youâ€™re not over the exact downtown core.",
    "question": "What rule governs minimum altitudes, and whatâ€™s the safe answer?",
    "correctAnswer": "14 CFR 91.119 governs minimum safe altitudes. Over congested areas, I need at least 1,000 feet above the highest obstacle within a 2,000-foot radius. Over other than congested, I must stay 500 feet from any person/vessel/vehicle/structure. Regardless, I keep altitude for engine-out options and noise sensitivity.",
    "trapReasoning": "â€œIf Iâ€™m not directly over the center of the city, the congested rule doesnâ€™t apply.â€",
    "whyThisMatters": "This is legal-and-safe. Even if you could argue an area isnâ€™t â€˜congested,â€™ low flight reduces options and increases complaint/enforcement risk. The DPE wants conservative judgment.",
    "cramMode": "91.119: 1,000â€™ above congested, 500â€™ away elsewhereâ€”plus keep engine-out options.",
    "reference": "14 CFR 91.119",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.119"
  },
  {
    "id": "Q207",
    "title": "Airspace & Regs - Right-of-Way: Converging vs Overtaking",
    "category": "Navigation",
    "topic": "Operating Rules - Right-of-Way",
    "airports": "KFLG (Flagstaff) area",
    "aircraft": "Cessna 172",
    "scenario": "Two aircraft converge at similar altitude near a VFR corridor. You see the other airplane off your right side, same altitude, and closure is increasing. You feel pressure because you donâ€™t want to make a â€˜big dealâ€™ on the radio.",
    "question": "Who has the right-of-way, and what do you actually do?",
    "correctAnswer": "For converging aircraft, the one on the otherâ€™s right has the right-of-way, so I should give way. Practically, I take early, obvious action to avoid, maintain visual contact, and communicate as appropriate. Even if I have the right-of-way, I still avoid a collision.",
    "trapReasoning": "â€œIf I have the right-of-way, I hold course and speed no matter what.â€",
    "whyThisMatters": "Right-of-way rules donâ€™t prevent midairs if you rely on them like traffic laws. The DPE wants avoidance behavior, not â€˜being right.â€™",
    "cramMode": "Right-of-way helps decision-making; collision avoidance is always required.",
    "reference": "14 CFR 91.113",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.113"
  },
  {
    "id": "Q208",
    "title": "Airspace & Regs - Class D Entry: â€˜I Called the Tower Onceâ€™",
    "category": "Navigation",
    "topic": "Airspace - Class D Communications",
    "airports": "KDAY (Dayton Intl) Class D",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re inbound VFR to a Class D airport. You call tower: â€œDayton Tower, Cessna 123AB, 10 miles west, inbound for full stop.â€ Tower replies: â€œCessna 3AB, standby.â€ Youâ€™re tempted to continue because you â€˜made contact.â€™",
    "question": "Can you enter the Class D airspace on â€˜standbyâ€™?",
    "correctAnswer": "No. For Class D, I need to establish two-way radio communications before entering. â€˜Standbyâ€™ without my callsign acknowledged for my aircraft does not meet that. I remain outside until I get a response addressing me and I can comply with instructions.",
    "trapReasoning": "â€œI transmitted, so Iâ€™m good to enter.â€",
    "whyThisMatters": "This is a common bust. The DPE wants precise comm requirements and conservative boundary discipline.",
    "cramMode": "Class D: two-way comms before entryâ€”wait for a response with your callsign.",
    "reference": "14 CFR 91.129",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.129"
  },
  {
    "id": "Q209",
    "title": "Airspace & Regs - Class C â€˜Establish Communicationsâ€™",
    "category": "Navigation",
    "topic": "Airspace - Class C Entry Requirements",
    "airports": "KSJC (San Jose) Class C",
    "aircraft": "PA-28-161",
    "scenario": "You call approach outside Class C and hear: â€œAircraft calling San Jose Approach, standby.â€ Youâ€™re close to the boundary and feel pressure to keep your route simple.",
    "question": "Are you cleared into Class C?",
    "correctAnswer": "No. For Class C, I must establish two-way radio communications with ATC before entry. That generally means they respond with my callsign. A generic â€˜standbyâ€™ to unknown traffic isnâ€™t it.",
    "trapReasoning": "â€œAny response on frequency counts as two-way.â€",
    "whyThisMatters": "Class C busts are common when pilots assume. The DPE is testing boundary discipline and callsign acknowledgment.",
    "cramMode": "Class C: donâ€™t enter until ATC talks to you (callsign) and you can comply.",
    "reference": "14 CFR 91.130",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.130"
  },
  {
    "id": "Q210",
    "title": "Airspace & Regs - Class B Clearance: â€˜Talking to Approach Is Enoughâ€™",
    "category": "Navigation",
    "topic": "Airspace - Class B Requirements",
    "airports": "KATL (Atlanta) Class B",
    "aircraft": "DA40",
    "scenario": "Youâ€™re getting flight following and ATC is busy. Youâ€™re approaching the Class B boundary. Your passenger says, â€œYouâ€™re already talking to them, so weâ€™re cleared in.â€",
    "question": "What do you need to enter Class B?",
    "correctAnswer": "I need an explicit ATC clearance to enter Class B. Being in communication or on flight following is not the same as being cleared into Class B. If I donâ€™t have the words, I stay out.",
    "trapReasoning": "â€œFlight following means Iâ€™m automatically cleared.â€",
    "whyThisMatters": "This is a high-frequency checkride point. The DPE wants the exact concept: â€˜cleared intoâ€™ Class B is explicit.",
    "cramMode": "Class B: you must hear an explicit clearance to enter.",
    "reference": "14 CFR 91.131",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.131"
  },
  {
    "id": "Q211",
    "title": "Airspace & Regs - VFR Weather Minimums: Knowing When Youâ€™re â€˜Marginalâ€™",
    "category": "Navigation",
    "topic": "Operating Rules - VFR Weather Minimums",
    "airports": "KROA (Roanoke) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re cruising in Class E below 10,000 MSL with 3SM visibility and a scattered layer at 2,000 AGL. Youâ€™re tempted because itâ€™s technically legal and you want to get home.",
    "question": "What are the basic Class E VFR minimums, and whatâ€™s the ADM call?",
    "correctAnswer": "Class E below 10,000 MSL: 3SM visibility and 500 below / 1,000 above / 2,000 horizontal from clouds. Legal doesnâ€™t automatically mean safe; if youâ€™re near minimums, you should expect rapid changes, reduced options, and higher workloadâ€”consider delaying or using a higher personal minimum.",
    "trapReasoning": "â€œIf itâ€™s legal, itâ€™s safe.â€",
    "whyThisMatters": "The DPE is testing that you know the numbers and can separate legality from safety with personal minimums.",
    "cramMode": "Know 91.155 numbers, then add margin with personal minimums.",
    "reference": "14 CFR 91.155",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155"
  },
  {
    "id": "Q212",
    "title": "Airspace & Regs - Fuel Reserves: â€˜Iâ€™ll Make It With 20 Minutesâ€™",
    "category": "Navigation",
    "topic": "Operating Rules - VFR Fuel Requirements",
    "airports": "KHSV (Huntsville) â†’ KBHM (Birmingham)",
    "aircraft": "PA-28-161",
    "scenario": "Unexpected headwinds add 15 minutes. Your fuel estimate shows landing with ~20 minutes remaining in daytime VFR. You feel pressure because you donâ€™t want to stop.",
    "question": "Are you legal, and whatâ€™s the safe decision?",
    "correctAnswer": "Day VFR requires enough fuel to fly to the first point of intended landing plus 30 minutes at normal cruising speed. Landing with 20 minutes is not legal. Safe practice is more conservativeâ€”divert early while you still have options.",
    "trapReasoning": "â€œFuel regs are just guidelines; Iâ€™ll stretch it.â€",
    "whyThisMatters": "Fuel exhaustion accidents often start with denial. The DPE wants clear compliance and early diversion behavior.",
    "cramMode": "Day VFR: land with 30-minute reserve minimumâ€”divert early, not late.",
    "reference": "14 CFR 91.151",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.151"
  },
  {
    "id": "Q213",
    "title": "Airspace & Regs - Dashed Magenta: Class E to the Surface (No Radio Requirement)",
    "category": "Navigation",
    "topic": "Airspace - Class E Surface Areas",
    "airports": "KMTN (Martin State) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re flying to a non-towered airport that sits under a **dashed magenta** airspace boundary on the sectional. Itâ€™s late afternoon and haze is increasing. Your passenger says, â€œThatâ€™s controlled airspaceâ€”we have to talk to someone to enter, right?â€ You feel pressure because you donâ€™t want to sound unsure.",
    "question": "What does dashed magenta mean, and what does it require for a VFR pilot?",
    "correctAnswer": "Dashed magenta indicates Class E airspace extending to the surface (often to protect IFR approaches). For VFR, it doesnâ€™t create a radio-communication requirement by itself. I still must meet VFR weather minimums for the airspace and operate safely, but I donâ€™t need a clearance just because itâ€™s Class E.",
    "trapReasoning": "â€œControlled airspace always means you must talk to ATC.â€",
    "whyThisMatters": "This tests that you can read the chart and separate â€˜controlledâ€™ from â€˜communication required.â€™ The DPE wants you to apply the correct requirement: weather minimums and safe ops, not imaginary clearances.",
    "cramMode": "Dashed magenta = Class E to surface. No clearance/comm requirement just for Class Eâ€”meet VFR weather minimums.",
    "reference": "14 CFR 91.155, AIM (Airspace)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155 | https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q219",
    "title": "Airspace & Regs - VFR Cloud Clearances vs Scud Running",
    "category": "Navigation",
    "topic": "Operating Rules - Cloud Clearances",
    "airports": "KTRI (Tri-Cities) area",
    "aircraft": "Cessna 172",
    "scenario": "Ceilings are 1,200â€“1,500 AGL and visibility is 4â€“5SM. You consider staying low under the bases to keep the flight going. Terrain is rising. You feel pressure to get home.",
    "question": "Even if you can stay â€˜legal,â€™ whatâ€™s the risk and whatâ€™s the better plan?",
    "correctAnswer": "Scud running reduces options and increases CFIT risk. Even if I can technically meet cloud clearances in certain airspace, staying low under marginal ceilings in rising terrain is unsafe. Better plan: delay, divert, or choose a route with lower terrain and more outsâ€”donâ€™t press low.",
    "trapReasoning": "â€œIf Iâ€™m not in the clouds, Iâ€™m safe.â€",
    "whyThisMatters": "This is classic VFR-into-IMC risk management. The DPE wants margin thinking, not minimum thinking.",
    "cramMode": "Donâ€™t scud run. Minimums are legal limits; you need margin and outs.",
    "reference": "14 CFR 91.155, PHAK (Weather/ADM)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155 | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q220",
    "title": "Airspace & Regs - Deviations in an Emergency",
    "category": "Navigation",
    "topic": "Operating Rules - PIC Authority",
    "airports": "KPAE (Paine Field) area",
    "aircraft": "PA-28-161",
    "scenario": "You have an in-flight emergency and need to land immediately. ATC instructions donâ€™t match your safest landing option. You feel pressure to comply even if it worsens the situation.",
    "question": "What authority do you have as PIC?",
    "correctAnswer": "In an emergency requiring immediate action, I may deviate from any rule to the extent required to meet that emergency. I communicate with ATC as soon as practical and, if requested, I provide a written report afterward.",
    "trapReasoning": "â€œATC instructions always override my judgment.â€",
    "whyThisMatters": "This tests PIC authority and responsibility. The DPE wants you to assert safety-first while still communicating professionally.",
    "cramMode": "Emergency: you can deviate as required. Communicate as soon as practical and document if requested.",
    "reference": "14 CFR 91.3",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.3"
  },
  {
    "id": "Q221",
    "title": "Airspace & Regs - ATC Clearances vs PIC Responsibility on the Ground",
    "category": "Aerodynamics",
    "topic": "Operating Rules - Clearances and Safety",
    "airports": "KBOS (Boston Logan)",
    "aircraft": "Cessna 172",
    "scenario": "Ground issues a complex taxi route and youâ€™re unsure you can follow it without missing a hold short. You feel pressure because the controller sounds busy and thereâ€™s a line behind you.",
    "question": "Whatâ€™s the correct action?",
    "correctAnswer": "I stop and ask for clarification or progressive taxi. I donâ€™t accept or continue with a clearance I canâ€™t comply with safely. Taxi is a phase of flight; if Iâ€™m unsure, I pause.",
    "trapReasoning": "â€œIf I stop and ask, Iâ€™ll look incompetentâ€”better to keep moving.â€",
    "whyThisMatters": "Runway incursions often start with embarrassment. The DPE wants safe, assertive communication.",
    "cramMode": "If you canâ€™t comply, stop and ask. Progressive taxi is normal.",
    "reference": "AIM (Taxi Procedures), 14 CFR 91.103",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q222",
    "title": "Airspace & Regs - VFR Over-the-Top vs Clearance",
    "category": "Aerodynamics",
    "topic": "Airspace/Weather - VFR Limitations",
    "airports": "KGRB (Green Bay) area",
    "aircraft": "DA40",
    "scenario": "You see a broken-to-overcast layer and consider climbing above it â€˜VFR over the topâ€™ to stay smooth. Youâ€™re not instrument rated and want to get there on time.",
    "question": "Whatâ€™s the legal and practical risk?",
    "correctAnswer": "VFR over the top is legal if I maintain VFR cloud clearances, visibility, and can remain VFR. The risk is being trapped above a solid layer with no VFR descent route; if conditions worsen, I could be forced into IMC. Safe planning requires guaranteed VFR outs and alternates, not â€˜hope.â€™",
    "trapReasoning": "â€œIf I can climb through a hole, I can always get back down the same way.â€",
    "whyThisMatters": "This is a classic VFR-into-IMC chain. The DPE wants legal awareness plus conservative escape planning.",
    "cramMode": "VFR over-the-top can be legal but dangerous without a guaranteed VFR descent plan.",
    "reference": "14 CFR 91.155, PHAK (Weather/ADM)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155 | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q223",
    "title": "Airspace & Regs - Pattern Entry and Right-of-Way at Non-Towered Airports",
    "category": "Aerodynamics",
    "topic": "Operating Rules - Traffic Patterns",
    "airports": "KIZA (Santa Ynez)",
    "aircraft": "Cessna 172",
    "scenario": "You arrive at a busy non-towered airport. Someone is making straight-in approaches while others are in the pattern. You feel pressure to do a straight-in to save time.",
    "question": "Whatâ€™s the safe/standard approach to pattern operations?",
    "correctAnswer": "I follow standard traffic pattern procedures where practical, make clear CTAF calls, and integrate without creating conflicts. A straight-in isnâ€™t â€˜illegal,â€™ but it increases collision risk if it disrupts pattern flow. I prioritize predictable, standardized operations.",
    "trapReasoning": "â€œStraight-in is always better because itâ€™s shorter and simpler.â€",
    "whyThisMatters": "This is about predictability and see-and-avoid. The DPE wants you to choose the method that reduces conflict, not the one that saves time.",
    "cramMode": "Predictability wins. Use standard pattern entries and clear calls; avoid disrupting the flow.",
    "reference": "AIM (Traffic Patterns), 14 CFR 91.113",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.113"
  },
  {
    "id": "Q224",
    "title": "Airspace & Regs - Speed Limits Below 10,000 and Under Shelves",
    "category": "Aerodynamics",
    "topic": "Operating Rules - Speed Limits",
    "airports": "KCCR (Concord, CA) under Class B shelves",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re flying near a Class B shelf and want to â€˜keep it fastâ€™ to get home. You consider running 200 knots indicated in smooth air. Youâ€™re VFR.",
    "question": "What speed limits apply and why does it matter?",
    "correctAnswer": "Below 10,000 MSL there is a 250 KIAS limit for most operations. There are also lower limits in certain areas (like below/within certain airspace configurations). Even if legal, high speed reduces see-and-avoid time and increases midair risk. I choose a speed that supports traffic scanning and control.",
    "trapReasoning": "â€œSpeed limits are mostly for jets; they donâ€™t matter to me.â€",
    "whyThisMatters": "The DPE wants you aware of operational limits and the safety reason behind them.",
    "cramMode": "Know speed limits and slow down when scanning/spacing matters.",
    "reference": "14 CFR 91.117",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.117"
  },
  {
    "id": "Q225",
    "title": "Airspace & Regs - Equipment Required in Class B/C (Transponder/ADS-B concept)",
    "category": "Aerodynamics",
    "topic": "Airspace/Equipment - Planning for Requirements",
    "airports": "KDEN (Denver) area",
    "aircraft": "DA40",
    "scenario": "Youâ€™re planning a VFR route near Class B and Class C. Your ADS-B Out status is questionable after maintenance. You feel pressure to go because weather is perfect.",
    "question": "Whatâ€™s your planning decision when required equipment may be inop?",
    "correctAnswer": "I verify required equipment for the route (transponder/ADS-B where applicable). If required equipment is not working, I reroute to remain outside required areas or delay until repaired/authorized. I donâ€™t â€˜hopeâ€™ a requirement wonâ€™t be enforcedâ€”this is basic preflight compliance and safety.",
    "trapReasoning": "â€œIt probably works fine; Iâ€™ll just go and see.â€",
    "whyThisMatters": "Equipment issues often become airspace violations. The DPE wants conservative planning and clear compliance choices.",
    "cramMode": "If required equipment is questionable, fix it or rerouteâ€”donâ€™t gamble on compliance.",
    "reference": "14 CFR 91.103, 14 CFR 91.215",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.215 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q131",
    "title": "Aircraft Systems - Alternator Failure In Flight (Load Shedding)",
    "category": "Aircraft Systems",
    "topic": "Electrical - Alternator Failure Indications and Priorities",
    "airports": "KSDL (Scottsdale) â†’ KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re 25 minutes into a VFR cross-country with flight following. You notice the **LOW VOLTS** light flicker on, then stay on. The ammeter shows a discharge, and the radio audio starts getting noisy. Youâ€™re trying to make it to Prescott before the FBO closes.",
    "question": "What do you do, in order, and whatâ€™s your decision about continuing?",
    "correctAnswer": "I treat this as an alternator/charging failure until proven otherwise. First: reduce electrical load (landing light, unnecessary avionics, second comm, cabin lights), then follow the checklist: verify alternator switch/breaker, attempt a single reset per POH guidance if appropriate, and monitor voltage/ammeter. I advise ATC early that I may lose comms and plan to land at the nearest suitable airport while I still have radios. If the system isnâ€™t charging, I plan for battery-only endurance and I donâ€™t continue â€œto save timeâ€ â€” I land soon.",
    "trapReasoning": "â€œItâ€™s VFR and the engine is fine, so Iâ€™ll keep going and deal with it on the ground.â€",
    "whyThisMatters": "An alternator failure is time-limited: the battery will eventually die, taking radios, transponder, and possibly flaps/electric fuel pump (aircraft-dependent) with it. The safest time to solve an electrical problem is while you still have comms and options. The DPE wants a clear priority stack (aviate/navigate/communicate), checklist discipline, and a conservative decision.",
    "cramMode": "Low volts = time limit. Shed load, run the checklist, tell ATC early, and land while you still have radios.",
    "reference": "PHAK Chapter 8 (Electrical systems), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q132",
    "title": "Aircraft Systems - Intermittent Low Voltage Light (Distraction Trap)",
    "category": "Aircraft Systems",
    "topic": "Electrical - Intermittent Faults and Task Saturation",
    "airports": "KPDK (Peachtree-DeKalb) area",
    "aircraft": "DA40",
    "scenario": "On a VFR training flight, the low voltage annunciation comes on for 10 seconds, then clears. It repeats twice over the next 5 minutes. Your instructor says, â€œItâ€™s probably nothing â€” keep going.â€ Youâ€™re also getting close to busy Class B shelves.",
    "question": "How do you handle an intermittent electrical warning without getting distracted into an airspace error?",
    "correctAnswer": "I stabilize the airplane first and reduce workload (straight and level, autopilot if available and appropriate). Then I treat the warning as real: verify indications, follow the checklist, and decide on a conservative plan (return/land) based on the aircraftâ€™s electrical dependency and the pattern of warnings. I avoid troubleshooting deep while near complex airspace â€” I prioritize staying clear and keeping comms/transponder available. If needed, I ask ATC for help and simplify the flight.",
    "trapReasoning": "â€œIt turned off, so it fixed itself. Keep flying and ignore it.â€",
    "whyThisMatters": "Intermittent faults are dangerous because they invite â€œjust one more thingâ€ troubleshooting until youâ€™re behind the airplane. The DPE is testing whether you can prevent task saturation and still manage a system abnormal.",
    "cramMode": "Intermittent warning = still a warning. Fly the airplane, simplify, checklist, and make a conservative plan before it becomes a total failure.",
    "reference": "PHAK Chapter 2 (Risk management), PHAK Chapter 8 (Electrical)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q133",
    "title": "Aircraft Systems - Battery-Only Endurance (Given Amps)",
    "category": "Aircraft Systems",
    "topic": "Electrical - Battery Endurance Planning and Decision Making",
    "airports": "KAPA (Centennial) â†’ KBJC (Rocky Mountain Metro)",
    "aircraft": "PA-28-161",
    "scenario": "Your alternator fails. Youâ€™re told your battery is **24 amp-hours** usable. With essential equipment only (one comm + minimal avionics), your load is about **12 amps**. Youâ€™re 35 minutes from your destination and 10 minutes from a nearby towered airport.",
    "question": "How long do you realistically have, and whatâ€™s your decision?",
    "correctAnswer": "24 Ah / 12 A â‰ˆ 2 hours in ideal conditions, but I donâ€™t plan on ideal: battery capacity, age, and discharge characteristics reduce usable time. The conservative decision is to land at the nearest suitable airport (10 minutes away) while I still have reliable comm/transponder rather than spending 35 minutes and hoping the battery behaves.",
    "trapReasoning": "â€œMath says two hours, so I can keep going for another hour easily.â€",
    "whyThisMatters": "Battery endurance math is a planning aid, not a guarantee. Real batteries donâ€™t behave like perfect tanks, and avionics can drop off before â€œzero.â€ The DPE wants conservative, option-preserving decisions.",
    "cramMode": "Battery math is optimistic. If charging is gone, land soon â€” donâ€™t spend your margin â€œbecause the math says you can.â€",
    "reference": "PHAK Chapter 8 (Electrical), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q134",
    "title": "Aircraft Systems - Pitot Tube Blockage (Airspeed Lies)",
    "category": "Aircraft Systems",
    "topic": "Pitot-Static - Recognizing Pitot Blockage",
    "airports": "KSEA (Seattle) area",
    "aircraft": "Cessna 172",
    "scenario": "You depart on a cool day with light rain. Shortly after takeoff, your airspeed indicator behaves strangely: it climbs normally, then suddenly freezes at 75 knots even as pitch and power change. The altimeter and VSI look normal.",
    "question": "What failure is most likely, and whatâ€™s your immediate action?",
    "correctAnswer": "Most likely the **pitot system is blocked** (possibly pitot opening or drain hole). Immediate actions: maintain a known pitch/power setting for climb, turn pitot heat on (if installed), cross-check groundspeed on GPS (with caution) and attitude/power, and return/land as practical. I donâ€™t chase the airspeed needle â€” I fly the airplane.",
    "trapReasoning": "â€œMy airspeed is wrong, so I should keep pitching until it looks right.â€",
    "whyThisMatters": "Airspeed failures are dangerous because they can drive pilots into stalls or overspeeds. The DPE wants you to recognize failure signatures and fly by known pitch/power and other cues instead of â€œfixingâ€ the instrument with control inputs.",
    "cramMode": "If airspeed is suspect: donâ€™t chase it. Fly pitch/power, use cross-checks, add pitot heat, and land.",
    "reference": "PHAK Chapter 8 (Pitot-static), AFH instrument cross-check concepts",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q135",
    "title": "Aircraft Systems - Static Port Blockage (Altimeter/VSI Errors)",
    "category": "Aircraft Systems",
    "topic": "Pitot-Static - Static Blockage and Alternate Static Use",
    "airports": "KDEN (Denver) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re climbing and notice the altimeter stops changing even though the airplane is clearly climbing, and the VSI shows zero. Airspeed seems a bit high compared to normal pitch/power. Itâ€™s VFR.",
    "question": "Whatâ€™s the likely failure, and what do you do?",
    "correctAnswer": "Likely a **static system blockage**. If the aircraft has alternate static, I use it per the checklist. I maintain safe flight using outside references, known pitch/power, and cross-check with GPS altitude trend (not as primary), then land as soon as practical. I avoid entering airspace where precise altitude compliance is critical until instruments are reliable again.",
    "trapReasoning": "â€œIf two instruments fail, it must be an electrical problem. Iâ€™ll reset the master switch.â€",
    "whyThisMatters": "Static blockages create predictable instrument errors and can persist. The DPE wants recognition + checklist + conservative planning, not random switch flipping.",
    "cramMode": "Altimeter + VSI weird together = suspect static. Use alternate static if available, fly outside, and land.",
    "reference": "PHAK Chapter 8 (Pitot-static), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q136",
    "title": "Aircraft Systems - Pitot Heat Use (VFR Icing Cues)",
    "category": "Aircraft Systems",
    "topic": "Pitot-Static - Pitot Heat Decision Making",
    "airports": "KPDX (Portland) departure",
    "aircraft": "DA40",
    "scenario": "Itâ€™s VFR with a scattered layer and light rain showers. Temperature is 38Â°F and dropping with altitude. Youâ€™re not â€œin clouds,â€ but youâ€™re in visible moisture and itâ€™s cold.\n\nYour friend says, â€œPitot heat is only for IFR. Donâ€™t waste electrical power.â€",
    "question": "When do you turn pitot heat on, and why?",
    "correctAnswer": "I turn pitot heat on when thereâ€™s a reasonable risk of pitot icing: visible moisture with near-freezing temperatures. Even VFR can produce pitot ice, and losing airspeed can create a control hazard. I monitor electrical load, but safety comes first.",
    "trapReasoning": "â€œVFR means no ice risk, so pitot heat is unnecessary.â€",
    "whyThisMatters": "Pitot icing is not an â€œIFR-onlyâ€ failure mode. The DPE wants you to connect the environmental cues (cold + moisture) to proactive system management.",
    "cramMode": "Cold + moisture = pitot ice risk, even VFR. Turn pitot heat on early â€” donâ€™t wait for the airspeed to fail.",
    "reference": "PHAK Chapter 8, Aviation Weather Handbook (Icing cues)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q137",
    "title": "Aircraft Systems - Vacuum Failure (VFR Partial Panel Decision)",
    "category": "Aircraft Systems",
    "topic": "Instruments - Vacuum-Driven Gyro Failure Recognition",
    "airports": "KAPA (Centennial) area",
    "aircraft": "Cessna 172 (steam gauges)",
    "scenario": "Youâ€™re cruising VFR above a haze layer. Your attitude indicator begins to slowly bank left even though youâ€™re wings level on the turn coordinator and the horizon. The heading indicator starts precessing rapidly. Suction gauge reads low.",
    "question": "Whatâ€™s happening, and what do you do next?",
    "correctAnswer": "This is a likely **vacuum system failure**, affecting the attitude and heading indicators. I transition to a partial-panel cross-check (turn coordinator, airspeed, altimeter, VSI, outside references) and I avoid getting trapped above haze where I might lose the horizon. I descend to maintain strong visual references and land as soon as practical to fix the issue. If I lose visual references, I treat it as an emergency and get ATC help.",
    "trapReasoning": "â€œThe attitude indicator is the truth. If it shows a bank, I should correct it.â€",
    "whyThisMatters": "Bad gyros can kill pilots who â€œfollow the instrument into the ground.â€ The DPE wants you to recognize instrument failure signatures and rely on the correct instruments and outside references.",
    "cramMode": "If AI and HI both get weird and suction is low: suspect vacuum failure. Trust turn coordinator + outside, and land.",
    "reference": "PHAK Chapter 8 (Instruments), AFH instrument flying basics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q138",
    "title": "Aircraft Systems - EFB/GPS Power Loss (Navigation Continuity)",
    "category": "Aircraft Systems",
    "topic": "Avionics - Single Point of Failure and Backup Planning",
    "airports": "KSQL (San Carlos) â†’ KMRY (Monterey)",
    "aircraft": "Cessna 172",
    "scenario": "Your iPad overheats and shuts down. Your panel GPS also reboots intermittently. Youâ€™re in busy airspace with several frequency changes, and you were relying heavily on the moving map. Youâ€™re trying to stay on schedule for a rental return.",
    "question": "Whatâ€™s your plan right now to stay safe and avoid task saturation?",
    "correctAnswer": "I simplify: hold a stable course and altitude, use pilotage with the sectional, identify a nearby airport, and ask ATC for vectors or a position check if needed. I prioritize staying clear of controlled airspace boundaries until my situational awareness is solid. If Iâ€™m behind the airplane, I land at a nearby suitable airport, reboot devices on the ground, and re-brief.",
    "trapReasoning": "â€œIâ€™ll keep trying to reboot everything while flying. I can troubleshoot and fly at the same time.â€",
    "whyThisMatters": "Technology failures create workload spikes and airspace mistakes. The DPE wants to see that you can revert to basic navigation and make conservative decisions instead of fighting your tools.",
    "cramMode": "If your moving map dies: stabilize, revert to pilotage, ask ATC for help, and land to reset if youâ€™re behind.",
    "reference": "PHAK Chapter 15 (Navigation), FAA risk management guidance",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q139",
    "title": "Aircraft Systems - Water in Fuel Sump (Whatâ€™s Acceptable?)",
    "category": "Aircraft Systems",
    "topic": "Fuel System - Contamination and Go/No-Go",
    "airports": "KSGU (St. George)",
    "aircraft": "PA-28-161",
    "scenario": "During preflight after rain, you drain a fuel sump and see **a few clear beads** settle at the bottom of the tester, separate from the blue fuel. Your passenger says, â€œItâ€™s just a little â€” dump it and go.â€",
    "question": "What do you do, and whatâ€™s the standard here?",
    "correctAnswer": "I keep sumping until the sample is clean and consistent, and if water continues to appear, I stop and get maintenance/FBO help. The standard is not â€œsome is fineâ€ â€” the standard is **no contamination**. If I canâ€™t get a clean sample, I donâ€™t fly.",
    "trapReasoning": "â€œSmall amounts of water are normal. The engine will burn it off.â€",
    "whyThisMatters": "Water contamination can cause engine failure, often at the worst time (takeoff/climb). The DPE wants a firm, safety-first answer: preflight is where you prevent emergencies.",
    "cramMode": "Fuel sample must be clean. If water keeps showing up, stop and fix it â€” donâ€™t rationalize it.",
    "reference": "PHAK Chapter 7 (Fuel system), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q140",
    "title": "Aircraft Systems - Fuel Odor in Cabin (Immediate Action)",
    "category": "Aircraft Systems",
    "topic": "Fuel System - Leak Recognition and Emergency Decision",
    "airports": "KCRQ (McClellan-Palomar) area",
    "aircraft": "Cessna 172",
    "scenario": "Ten minutes after takeoff, you smell a strong fuel odor in the cabin. The smell intensifies. Your passenger is nervous and asks if itâ€™s â€œnormal.â€ Youâ€™re heading to a dinner reservation.",
    "question": "What do you do right now?",
    "correctAnswer": "Treat it as a potential fuel leak/fire risk. I increase ventilation, verify fuel selector is correct, check gauges for abnormal drop, avoid unnecessary electrical switching, and I plan an immediate landing at the nearest suitable airport. I declare an emergency if needed. I donâ€™t continue the flight with an unexplained fuel odor.",
    "trapReasoning": "â€œItâ€™s probably just fumes from fueling. If the gauges look okay, keep going.â€",
    "whyThisMatters": "Fuel odor can precede fire. The DPE wants decisive action and a conservative landing decision, not denial.",
    "cramMode": "Strong fuel smell in flight = treat as leak/fire risk. Ventilate and land ASAP â€” donâ€™t continue â€œto see if it goes away.â€",
    "reference": "PHAK Chapter 16 (Emergency procedures), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q141",
    "title": "Aircraft Systems - Fuel Tank Mismanagement (Imbalance)",
    "category": "Aircraft Systems",
    "topic": "Fuel System - Human Error and Prevention Habits",
    "airports": "KAPA (Centennial) â†’ KFNL (Fort Collins-Loveland)",
    "aircraft": "Cessna 172",
    "scenario": "You land after a 2-hour flight and notice the left tank is significantly lower than the right. You realize you never switched tanks (or you believed the system â€œauto-balancesâ€). Your next flight is soon and youâ€™re embarrassed.",
    "question": "What happened, what risks does it create, and what habit fixes it?",
    "correctAnswer": "Likely fuel feed imbalance due to selector management (aircraft-dependent), slip/skid, or uneven draw. Risks: running a tank dry unexpectedly, unporting fuel pickup in a low tank, and distraction. Fix: a simple habit pattern â€” confirm selector position at defined intervals (time or fuel burn), cross-check gauges, and include it in cruise checks.",
    "trapReasoning": "â€œFuel imbalance is harmless â€” it just changes weight a little.â€",
    "whyThisMatters": "Many fuel-starvation accidents are â€œpilot forgot to manage fuel.â€ The DPE is testing systems discipline and prevention habits.",
    "cramMode": "Fuel starvation is usually a human-factors problem. Use a repeatable cruise check to manage selector/gauges â€” donâ€™t rely on memory.",
    "reference": "PHAK Chapter 7 (Fuel), FAA risk management guidance",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q142",
    "title": "Aircraft Systems - Roughness After Magneto Check (No-Launch Decision)",
    "category": "Aircraft Systems",
    "topic": "Engine/Ignition - Mag Check Abnormal",
    "airports": "KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "During runup, the left mag drop is normal. On the right mag, the engine runs rough and the RPM drop is larger than expected. Leaning doesnâ€™t smooth it out. Youâ€™re late for a lesson and you donâ€™t want to waste the reservation slot.",
    "question": "Do you depart? Whatâ€™s your troubleshooting/decision path?",
    "correctAnswer": "No. A rough mag check is a no-go until resolved per checklist/maintenance guidance. I try appropriate POH steps (lean for mag check, cycle carb heat if applicable, verify mixture), but if itâ€™s still rough/out of limits, I shut down and get maintenance. I donâ€™t â€œsee if it clears up in flight.â€",
    "trapReasoning": "â€œOnce the engine warms up it will probably smooth out. If it makes full power, go.â€",
    "whyThisMatters": "Ignition issues can become full engine failure, especially at high power. The DPE wants disciplined airworthiness decisions: preflight/runup is where you catch problems.",
    "cramMode": "Bad mag check = donâ€™t launch. Follow POH steps; if still out of limits, maintenance fixes it â€” not â€œhoping.â€",
    "reference": "14 CFR 91.7, POH normal procedures",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.7"
  },
  {
    "id": "Q143",
    "title": "Aircraft Systems - In-Flight Roughness (Carb Heat / Mixture / Fuel)",
    "category": "Aircraft Systems",
    "topic": "Engine - Troubleshooting Under Pressure",
    "airports": "KCHS (Charleston) area",
    "aircraft": "PA-28-161 (carbureted)",
    "scenario": "In cruise, the engine starts running rough. RPM slowly drops by 150. Youâ€™re in smooth air and VFR. Your passenger says, â€œDonâ€™t turn back â€” weâ€™re almost there.â€",
    "question": "What immediate actions do you take, and whatâ€™s your decision?",
    "correctAnswer": "I apply the immediate-action checklist: carb heat on (expect further roughness briefly), adjust mixture, verify fuel selector (if applicable) and fuel pump (if installed), check engine instruments, and consider alternate air if applicable. If roughness persists or worsens, I divert and land as soon as practical. I donâ€™t continue toward a destination with an unresolved engine issue.",
    "trapReasoning": "â€œIf itâ€™s still running, keep going. Troubleshooting is enough.â€",
    "whyThisMatters": "Engine roughness is a warning. The DPE wants you to show both: correct immediate actions and conservative decision making.",
    "cramMode": "Rough engine: checklist now, then land if not resolved. Donâ€™t spend your margin continuing toward the destination.",
    "reference": "PHAK Chapter 16 (Emergency), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q144",
    "title": "Aircraft Systems - High CHT / Leaning Misconception",
    "category": "Aircraft Systems",
    "topic": "Engine - Leaning and Engine Health",
    "airports": "KPHX (Phoenix) area",
    "aircraft": "Cessna 172",
    "scenario": "On a hot day in climb, CHT rises higher than normal. A pilot friend says, â€œNever lean in climb â€” youâ€™ll overheat the engine.â€",
    "question": "What do you do, and whatâ€™s the correct conceptual understanding?",
    "correctAnswer": "I follow the POH. In many normally aspirated trainers, mixture in climb is typically full rich at low altitudes but may require leaning at higher density altitudes for best power and smoother operation. Overheating is managed with airspeed, climb angle, cowl flaps (if equipped), and proper mixture per POH. The correct approach is POH-driven, not superstition. If CHT is high, I lower the nose to increase cooling airflow and reassess.",
    "trapReasoning": "â€œLeaning always increases heat, so never touch mixture in climb.â€",
    "whyThisMatters": "This tests correlation-level thinking: mixture affects power and cooling and depends on DA and engine type. The DPE wants you to use the POH and manage engine temps with airflow and proper settings.",
    "cramMode": "Manage high CHT with airflow first (lower nose). Mixture management is POH/DA dependent â€” donâ€™t use superstition.",
    "reference": "AFH (Engine operation), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q145",
    "title": "Aircraft Systems - Oil Pressure Drop (Decision Path)",
    "category": "Aircraft Systems",
    "topic": "Engine - Oil Pressure Abnormal and Land Decision",
    "airports": "KPDX (Portland) area",
    "aircraft": "DA40",
    "scenario": "In cruise, oil pressure drops from normal to the low end of the green, then briefly into the yellow. Oil temperature begins trending up. Youâ€™re 20 minutes from your destination and 8 minutes from a nearby airport.",
    "question": "Whatâ€™s your decision and what are your priorities?",
    "correctAnswer": "Treat it as an impending engine failure. I reduce power as appropriate, enrich mixture for cooling if applicable, monitor trends, and plan to land at the nearest suitable airport (8 minutes away). I communicate early with ATC. I donâ€™t continue the extra 20 minutes hoping it stabilizes.",
    "trapReasoning": "â€œIt came back into the green, so itâ€™s fine. Keep going.â€",
    "whyThisMatters": "Oil pressure/temperature trends can indicate loss of lubrication â€” a precursor to engine seizure. The DPE wants decisive risk management: land while you have power and options.",
    "cramMode": "Oil pressure down + temp up = treat as engine failure in progress. Land at the nearest suitable airport while you still can.",
    "reference": "PHAK Chapter 16 (Engine failures), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q146",
    "title": "Aircraft Systems - Prop Governor / Overspeed (C182 Scenario)",
    "category": "XC Planning & Perf",
    "topic": "Prop/Powerplant - Constant-Speed Prop Basics",
    "airports": "KAPA (Centennial) area",
    "aircraft": "Cessna 182 (constant-speed prop)",
    "scenario": "Youâ€™re flying a C182 on a checkout. In a descent, RPM suddenly climbs above the normal set value even though you didnâ€™t move the prop control. You reduce throttle and it still wants to overspeed. Youâ€™re trying to â€œnot look incompetentâ€ in front of the instructor.",
    "question": "Whatâ€™s happening, what do you do, and whatâ€™s the safe outcome?",
    "correctAnswer": "This suggests a prop governor/control issue or an overspeed condition. I follow the checklist: reduce power, adjust prop control to manage RPM if it responds, avoid high RPM/high manifold pressure combinations, and plan to land as soon as practical. I donâ€™t continue the flight with an unresolved prop control abnormal. Protect the engine/prop and get on the ground.",
    "trapReasoning": "â€œItâ€™s just noise. As long as I keep descending, it will settle down.â€",
    "whyThisMatters": "Overspeed can damage the engine/prop and becomes an emergency if it canâ€™t be controlled. The DPE wants checklist discipline and conservative landing decisions.",
    "cramMode": "Uncommanded RPM rise in a constant-speed prop is not normal. Reduce power, use checklist, and land ASAP.",
    "reference": "AFH (Constant-speed prop concepts), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q147",
    "title": "Aircraft Systems - Induction Icing vs Carb Icing",
    "category": "XC Planning & Perf",
    "topic": "Engine - Induction Icing Recognition",
    "airports": "KSEA (Seattle) area",
    "aircraft": "DA40 (fuel injected)",
    "scenario": "Youâ€™re in visible moisture at cool temperatures. The engine loses power gradually. Your passenger says, â€œUse carb heat!â€",
    "question": "Whatâ€™s the right thinking here in a fuel-injected airplane, and what action do you take?",
    "correctAnswer": "DA40 is fuel injected, so it doesnâ€™t have carb heat in the same way. Power loss in cool, moist conditions can still be induction/system-related (alternate air, filter icing, etc.) depending on the aircraft. I follow the POH emergency checklist, use alternate air if available, adjust mixture/power, and I plan a landing. The key is aircraft-specific systems knowledge: donâ€™t apply the wrong fix out of habit.",
    "trapReasoning": "â€œAll small airplanes fix power loss with carb heat.â€",
    "whyThisMatters": "This tests whether you understand the systems on *this* aircraft instead of memorizing one answer. The DPE wants correct, aircraft-appropriate actions based on the POH.",
    "cramMode": "Know your engine type. Carb ice fixes donâ€™t apply to every airplane. Use the POH checklist and the correct system controls.",
    "reference": "PHAK Chapter 7 (Engines), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q148",
    "title": "Aircraft Systems - Trim Runaway / Stuck Trim",
    "category": "XC Planning & Perf",
    "topic": "Flight Controls - Trim Abnormal and Control Strategy",
    "airports": "KSDL (Scottsdale) area",
    "aircraft": "Cessna 172",
    "scenario": "After takeoff, you notice the airplane wants to pitch strongly nose-up even at normal climb speed. You discover the trim is set full nose-up (or the trim wheel feels jammed). Youâ€™re in a busy corridor and you feel the urge to â€œjust muscle it.â€",
    "question": "What do you do, and how do you land safely?",
    "correctAnswer": "I maintain control with yoke pressure and adjust airspeed to a controllable range. I avoid large configuration changes until stabilized. I troubleshoot per POH only if workload allows. I return for landing with a higher-speed, stabilized approach if needed and consider assistance from ATC. The key is to fly a safe profile with manageable control forces â€” not to fight it into a low-speed stall.",
    "trapReasoning": "â€œTrim is just comfort. I can ignore it and fly normally.â€",
    "whyThisMatters": "Trim can create control forces that exceed your ability at slow speeds. The DPE wants to see that you manage airspeed and configuration to keep the airplane controllable.",
    "cramMode": "Trim problems are control problems. Use airspeed and configuration to keep forces manageable and land safely â€” donâ€™t get slow and fight it.",
    "reference": "AFH (Flight controls/trim), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q149",
    "title": "Aircraft Systems - Flap Failure / Asymmetric Flaps Concern",
    "category": "XC Planning & Perf",
    "topic": "Flight Controls - Flap System Failure and Landing Plan",
    "airports": "KCRG (Jacksonville Executive)",
    "aircraft": "PA-28-161",
    "scenario": "On downwind, you select flaps and nothing happens (or they stop partway). Youâ€™re behind the airplane and your passenger is expecting to land now.",
    "question": "Whatâ€™s your plan and what do you tell ATC (if towered)?",
    "correctAnswer": "I fly the airplane first: maintain safe airspeed, keep the pattern stable, and use the POH abnormal checklist. I plan a no-flap (or partial-flap) landing with a longer runway, higher approach speed, and a stabilized approach. If towered, I advise ATC that I have a flap issue and may need extra spacing/long landing. I donâ€™t force a short-field landing configuration with unknown flap state.",
    "trapReasoning": "â€œIâ€™m already in the pattern, so Iâ€™ll just dive it in and make it work.â€",
    "whyThisMatters": "Configuration failures increase workload and can cause unstable approaches. The DPE is evaluating whether you can slow down the situation and pick a runway and profile with margin.",
    "cramMode": "Flap failure: stabilize, checklist, longer runway, higher speed, and a long stabilized approach. Donâ€™t force a tight landing.",
    "reference": "AFH (Flap effects/landings), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q150",
    "title": "Aircraft Systems - Door Pops Open After Takeoff",
    "category": "XC Planning & Perf",
    "topic": "Airframe - Door Open and Aviate First",
    "airports": "KSQL (San Carlos)",
    "aircraft": "Cessna 172",
    "scenario": "Right after takeoff, the door pops open a few inches. Itâ€™s loud and distracting but the airplane flies normally. Your passenger reaches for it and says, â€œLet me fix it!â€",
    "question": "What's the regulatory requirement, and how do you calculate fuel reserve?",
    "correctAnswer": "I keep flying the airplane: maintain climb speed, stay in the pattern, and do not let anyone interfere with controls. I tell the passenger to keep seatbelts on and hands off. I continue around for a normal landing (or per POH guidance), and I only address the door when stabilized and safe. This is not an immediate emergency â€” distraction is the real hazard.",
    "trapReasoning": "â€œI need to close it immediately, even if it means looking down and letting the airplane drift.â€",
    "whyThisMatters": "Doors open frequently and rarely affect controllability. The killer is loss of control from distraction. The DPE expects â€œaviate firstâ€ and good passenger management.",
    "cramMode": "Door open is usually a distraction, not a flight-control emergency. Fly the airplane, keep the pattern, and land â€” donâ€™t fixate.",
    "reference": "PHAK Chapter 2 (Risk management), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q151",
    "title": "Aircraft Systems - Circuit Breaker Discipline (Single Reset Rule)",
    "category": "XC Planning & Perf",
    "topic": "Electrical - Circuit Breakers and Fire Risk",
    "airports": "KPHX (Phoenix) area",
    "aircraft": "DA40",
    "scenario": "In cruise, a breaker pops and a non-essential avionics component goes dead. Youâ€™re tempted to reset it repeatedly because you â€œneedâ€ it for navigation.",
    "question": "When do you reset a breaker, and when do you leave it out?",
    "correctAnswer": "Follow POH guidance. If a breaker pops, I generally do **one reset attempt** if itâ€™s safe and the system is needed, and only after allowing it to cool and ensuring thereâ€™s no smoke/burning smell. If it pops again, I leave it out and continue/land with a degraded configuration. Multiple resets risk overheating wiring and fire.",
    "trapReasoning": "â€œIf itâ€™s important, keep resetting it until it stays in.â€",
    "whyThisMatters": "Circuit breakers protect wiring. Repeated resets can turn a manageable failure into a fire. The DPE wants disciplined system management under pressure.",
    "cramMode": "Breaker pops: one cautious reset max (per POH). If it pops again, leave it out â€” donâ€™t trade a nuisance for a fire.",
    "reference": "PHAK Chapter 8 (Electrical), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q152",
    "title": "Aircraft Systems - Landing Light Failure at Night (Diversion Decision)",
    "category": "XC Planning & Perf",
    "topic": "Electrical/Lighting - Night Landing Safety",
    "airports": "KSDL (Scottsdale) arrival",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re on final at night and your landing light fails. The runway is lit, but the surrounding terrain is dark. Your passenger says, â€œJust land â€” weâ€™re right here.â€",
    "question": "Is it legal? Is it smart? What do you do?",
    "correctAnswer": "Legality depends on required equipment and aircraft certification basis, but regardless, it can be unsafe depending on runway lighting, environment, and your comfort. If runway lighting is good and youâ€™re stabilized, you may continue; otherwise, go around and divert to a better-lit airport or wait for assistance. I donâ€™t press a marginal night landing if Iâ€™m not comfortable with visual cues.",
    "trapReasoning": "â€œIf the runway lights are on, landing light doesnâ€™t matter at all.â€",
    "whyThisMatters": "Night safety is about visual cues and margins. The DPE wants judgment: recognize when the risk has increased and be willing to go around/divert instead of forcing it.",
    "cramMode": "Night light failure = reassess cues and margin. If youâ€™re not comfortable, go around and divert â€” donâ€™t force the landing.",
    "reference": "14 CFR 91.205 (required equipment), PHAK night operations guidance",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.205"
  },
  {
    "id": "Q153",
    "title": "Aircraft Systems - Strobes in Clouds at Night (Human Factors)",
    "category": "XC Planning & Perf",
    "topic": "Lighting - Spatial Disorientation and Operational Choices",
    "airports": "KJAX (Jacksonville) area",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re flying at night and climb into a thin layer of haze/mist (still â€œVFR-ishâ€). The strobes reflect off the moisture and create a strobing white-out effect. Your passenger says, â€œThat looks wild â€” keep them on!â€",
    "question": "What do you do and why?",
    "correctAnswer": "I reduce disorientation risk. If strobe reflections are impairing my vision, I can turn strobes off (keeping anti-collision/beacon as appropriate) and maintain safe flight. The goal is to preserve visual references and avoid spatial disorientation. I also avoid remaining in conditions where Iâ€™m losing outside cues.",
    "trapReasoning": "â€œStrobes must always be on, no matter what.â€",
    "whyThisMatters": "Some lights improve conspicuity but can degrade visibility in moisture. The DPE wants practical safety thinking: avoid conditions that cause disorientation and manage lighting appropriately.",
    "cramMode": "If strobes reflect and ruin your cues, turn them off and fly out of the layer. Conspicuity doesnâ€™t matter if you canâ€™t see.",
    "reference": "PHAK (Night flying/spatial disorientation), FAA Risk Management Handbook",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q154",
    "title": "Aircraft Systems - ELT Accidentally Activated (After Landing)",
    "category": "XC Planning & Perf",
    "topic": "Emergency Equipment - ELT Awareness and Procedures",
    "airports": "KPAO (Palo Alto)",
    "aircraft": "Cessna 172",
    "scenario": "After a firm landing, tower calls: â€œWeâ€™re receiving an ELT signal. Confirm youâ€™re okay.â€ You didnâ€™t crash and nobody is hurt.",
    "question": "What factors do you need to account for in your weight and balance calculation?",
    "correctAnswer": "I advise tower Iâ€™m safe and Iâ€™ll check the ELT. After clearing the runway, I verify ELT switch position, listen on 121.5 if able, and follow local procedures to silence/reset it. If it canâ€™t be silenced, I notify the FBO/maintenance and ATC/Flight Service. I take it seriously because false ELTs trigger SAR resources.",
    "trapReasoning": "â€œItâ€™s probably someone else. Ignore it.â€",
    "whyThisMatters": "ELTs are safety equipment and false activations waste resources and create confusion. The DPE wants you to handle it professionally and promptly.",
    "cramMode": "ELT report after landing: assume it might be you. Verify, silence/reset, and notify as required â€” donâ€™t ignore it.",
    "reference": "14 CFR 91.207, AIM emergency equipment guidance",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.207"
  },
  {
    "id": "Q155",
    "title": "Aircraft Systems - Fire Extinguisher Use (Decision + Priorities)",
    "category": "XC Planning & Perf",
    "topic": "Emergency Procedures - Cockpit Fire Priorities",
    "airports": "KCRG (Jacksonville Executive) area",
    "aircraft": "DA40",
    "scenario": "You smell burning electrical insulation and see wisps of smoke near the panel. Your passenger panics. Youâ€™re 12 minutes from an airport.",
    "question": "What do you do, in order?",
    "correctAnswer": "Aviate: keep control and plan to land ASAP. Then execute checklist: master switch off (or per POH), isolate electrical sources, increase ventilation if appropriate, and use the fire extinguisher only if needed to control active fire. Declare an emergency early. If smoke/fire persists, get on the ground immediately.",
    "trapReasoning": "â€œFirst priority is to save the airplaneâ€™s electrical system by troubleshooting the exact breaker.â€",
    "whyThisMatters": "Electrical smoke/fire is time-critical. The DPE wants priorities: fly, eliminate the source, land. Fire troubleshooting is not a â€œkeep flying to destinationâ€ event.",
    "cramMode": "Smoke/fire: fly the airplane, checklist, shut down the source, ventilate, declare, and land ASAP. Donâ€™t troubleshoot deeply in the air.",
    "reference": "PHAK Chapter 16 (Emergency), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q156",
    "title": "Aircraft Systems - Partial Comm Failure at Towered Airport",
    "category": "XC Planning & Perf",
    "topic": "Avionics - Radio Failure and Safe Integration",
    "airports": "KSDL (Scottsdale) Class D",
    "aircraft": "Cessna 172",
    "scenario": "Approaching a Class D, you can hear tower but they canâ€™t hear you (stuck mic or transmit failure). Youâ€™re VFR and already inside the outer area. Youâ€™re trying not to â€œmess upâ€ in front of your passenger.",
    "question": "Whatâ€™s your plan to keep this safe and legal?",
    "correctAnswer": "I troubleshoot quickly (check frequency, volume, mic selector, headset plugs, try COM2/handheld if available). If I canâ€™t restore two-way comm, I avoid entering/remaining in controlled airspace requiring comm and I depart the area to a safe holding point. If already inside, I comply with light gun signals if available, look for traffic, and land only when itâ€™s safe and I understand towerâ€™s intent. I donâ€™t continue into more complex airspace with a comm problem.",
    "trapReasoning": "â€œI can hear them, so thatâ€™s good enough. Iâ€™ll just proceed like normal.â€",
    "whyThisMatters": "Two-way comm is a requirement for certain airspace. Even when the rules allow some flexibility, safety requires predictable behavior and clear signals. The DPE wants you to prioritize separation and compliance over embarrassment.",
    "cramMode": "Comm failure near tower: quick troubleshoot, use backup radio, avoid penetrating further, watch for light gun signals, and keep it predictable and safe.",
    "reference": "AIM 4-2 (Communications), AIM light gun guidance",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap4_section_2.html"
  },
  {
    "id": "Q157",
    "title": "Aircraft Systems - Transponder Failure Near Mode C Veil",
    "category": "XC Planning & Perf",
    "topic": "Avionics - Transponder/ADS-B and Route Decisions",
    "airports": "KSDL (Scottsdale) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re departing near a Class B area. After takeoff, your transponder fails (no reply). You were planning to transit the Mode C veil to save time. Your passenger says, â€œItâ€™s just a box â€” keep going.â€",
    "question": "How do you determine if an airport is suitable for your aircraft and mission?",
    "correctAnswer": "I avoid airspace where a transponder/ADS-B is required and I coordinate with ATC. If I need to enter, I request authorization per applicable rules and only proceed if cleared/authorized. Otherwise, I reroute around the veil and land if needed to fix the equipment. I donâ€™t knowingly violate equipment requirements.",
    "trapReasoning": "â€œIf Iâ€™m talking to ATC, equipment rules donâ€™t apply. They can see me on radar.â€",
    "whyThisMatters": "Equipment requirements are regulatory and safety-based. The DPE wants you to understand that ATC contact doesnâ€™t waive equipment rules unless thereâ€™s a specific authorization/exception.",
    "cramMode": "Transponder/ADS-B fail near required airspace: reroute or get explicit authorization â€” donâ€™t assume â€œradar sees meâ€ makes it legal.",
    "reference": "14 CFR 91.215, 14 CFR 91.225",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.215"
  },
  {
    "id": "Q158",
    "title": "Aircraft Systems - Brake Failure on Taxi (Abort Criteria)",
    "category": "XC Planning & Perf",
    "topic": "Landing Gear/Brakes - Ground Safety and Decision Making",
    "airports": "KAPF (Naples)",
    "aircraft": "PA-28-161",
    "scenario": "During taxi, you notice the brakes feel spongy and require much more pedal travel than normal. You can still stop, but itâ€™s inconsistent. Youâ€™re tempted to continue because you already paid the rental.",
    "question": "Do you go? Whatâ€™s your rule?",
    "correctAnswer": "No. Abnormal brakes are a safety-of-flight issue on the ground and during landing rollout. My rule: if a critical control system (brakes/steering/controls) is abnormal, I stop and get it inspected. I donâ€™t take off hoping it will be fine later.",
    "trapReasoning": "â€œBrakes only matter after landing. We can just land long and use runway.â€",
    "whyThisMatters": "Brakes affect taxi safety and your ability to stop after landing, especially with crosswinds or short runways. The DPE wants a clear airworthiness decision and willingness to abort early.",
    "cramMode": "Bad brakes on taxi = no-go. Fix it on the ground; donâ€™t take a known defect into the air.",
    "reference": "14 CFR 91.7, PHAK preflight/ground ops guidance",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.7"
  },
  {
    "id": "Q159",
    "title": "Aircraft Systems - Tire/Strut Issue Found Preflight",
    "category": "XC Planning & Perf",
    "topic": "Landing Gear - Airworthiness Decision Making",
    "airports": "KSDL (Scottsdale)",
    "aircraft": "DA40",
    "scenario": "On preflight, you see cord showing on a tire (or a significant flat spot), and the strut looks lower than usual. Your passenger says, â€œItâ€™s probably fine â€” planes are tough.â€",
    "question": "Whatâ€™s your decision and what regulation supports your role as PIC?",
    "correctAnswer": "No-go. I canâ€™t determine itâ€™s airworthy, so I donâ€™t fly it. As PIC, Iâ€™m responsible for determining the aircraft is in condition for safe flight (91.7). I contact maintenance/FBO and get another aircraft or reschedule.",
    "trapReasoning": "â€œIf maintenance released it before, itâ€™s automatically airworthy today.â€",
    "whyThisMatters": "Airworthiness is not a feeling. The DPE wants you to assert PIC responsibility and refuse an aircraft you canâ€™t confidently declare safe.",
    "cramMode": "If you canâ€™t confidently say itâ€™s safe, donâ€™t fly it. 91.7 makes the PIC responsible for airworthiness.",
    "reference": "14 CFR 91.7",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.7"
  },
  {
    "id": "Q160",
    "title": "Aircraft Systems - Pitot-Static Leak (Slow VSI/Altimeter Weirdness)",
    "category": "XC Planning & Perf",
    "topic": "Pitot-Static - Leak Recognition and Conservative Response",
    "airports": "KDEN (Denver) area",
    "aircraft": "Cessna 172",
    "scenario": "Your VSI responds sluggishly and seems to lag reality, and the altimeter changes but not as expected. Airspeed is also slightly off compared to normal. Everything is still â€œworking,â€ just wrong.",
    "question": "Whatâ€™s your hypothesis, and whatâ€™s your decision?",
    "correctAnswer": "This suggests a pitot-static leak or partial blockage. I donâ€™t trust the numbers in airspace requiring strict altitude compliance. I keep the flight simple, use outside references, and land to have the system inspected. I donâ€™t push into complex airspace or weather with degraded instruments.",
    "trapReasoning": "â€œClose enough is fine. Instruments are never perfect anyway.â€",
    "whyThisMatters": "Degraded accuracy can become dangerous quickly when combined with workload. The DPE wants you to recognize â€œabnormal but not failedâ€ as still a reason to simplify and land.",
    "cramMode": "â€œSort of wrongâ€ instruments are still wrong. Simplify the flight and land to fix it â€” donâ€™t stack complexity on top of bad data.",
    "reference": "PHAK Chapter 8, POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q161",
    "title": "Aircraft Systems - Windshield Fogging (Vent/Defrost Decision)",
    "category": "XC Planning & Perf",
    "topic": "Environmental - Windshield Fogging and No-Go Triggers",
    "airports": "KPDX (Portland) departure",
    "aircraft": "PA-28-161",
    "scenario": "On a cool damp morning with two passengers, the windshield begins fogging from the inside during taxi. The defrost/vent seems weak and the fog is spreading. Youâ€™re late for a training event.",
    "question": "What do you do and when is it a no-go?",
    "correctAnswer": "I stop and fix visibility on the ground: increase cabin heat/defrost, use ventilation, and if needed, shut down and open vents/doors briefly. If I canâ€™t maintain a clear windshield reliably, itâ€™s a no-go â€” takeoff with compromised forward visibility is unsafe.",
    "trapReasoning": "â€œItâ€™ll clear once weâ€™re airborne and airflow increases. Just go.â€",
    "whyThisMatters": "Visibility is non-negotiable, and fog can worsen quickly in climb. The DPE wants conservative decision making and a willingness to delay rather than â€œtry it.â€",
    "cramMode": "If you canâ€™t see, you donâ€™t fly. Fix windshield fog on the ground; if it wonâ€™t stay clear, itâ€™s a no-go.",
    "reference": "PHAK (Weather/operations), AFH operational safety concepts",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q162",
    "title": "Aircraft Systems - Cabin Heat / CO Risk (Land Decision)",
    "category": "XC Planning & Perf",
    "topic": "Environmental - Carbon Monoxide Awareness",
    "airports": "KASE (Aspen) area",
    "aircraft": "Cessna 172",
    "scenario": "In cruise with cabin heat on, you and your passenger develop a mild headache and feel unusually sleepy. The windshield defrost is on and the cabin smells slightly like exhaust. Youâ€™re in cold air and donâ€™t want to turn heat off.",
    "question": "What are the regulatory requirements for VFR flight plans?",
    "correctAnswer": "Treat it as possible carbon monoxide exposure. I turn cabin heat off, open fresh air vents/windows, use supplemental oxygen if available, and land as soon as practical. If symptoms are significant, I declare an emergency. I donâ€™t continue the flight with suspected CO.",
    "trapReasoning": "â€œItâ€™s just dehydration or nerves. Keep the heat on and finish the flight.â€",
    "whyThisMatters": "CO poisoning is insidious and can incapacitate. The DPE wants immediate mitigation actions and a conservative landing decision.",
    "cramMode": "Headache + exhaust smell + heat on = suspect CO. Ventilate, heat off, oxygen if available, and land.",
    "reference": "PHAK aeromedical factors, FAA Risk Management Handbook",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q163",
    "title": "Aircraft Systems - Autopilot Overreliance (Disconnect Scenario)",
    "category": "XC Planning & Perf",
    "topic": "Automation - Autopilot Use vs Skill Fade",
    "airports": "KSEA (Seattle) area",
    "aircraft": "DA40 (autopilot equipped)",
    "scenario": "Youâ€™re using autopilot in cruise. It suddenly disconnects with a chime, and the airplane begins to drift toward a cloud layer. You realize youâ€™ve been heads-down in the EFB for a minute. Youâ€™re trying to â€œstay efficient.â€",
    "question": "What do you do and whatâ€™s your rule about autopilot use in training-level flying?",
    "correctAnswer": "I immediately hand-fly: wings level, altitude, heading, re-establish situational awareness, then troubleshoot if needed. My rule: autopilot is a tool, not a crutch â€” I use it when it reduces workload without masking a skill gap, and I stay ready to fly instantly. If Iâ€™m relying on it to maintain basic control while distracted, thatâ€™s a problem.",
    "trapReasoning": "â€œAutopilot makes flying safer, so I can focus on everything else.â€",
    "whyThisMatters": "Autopilot failures often happen at the worst time. The DPE wants you to show that you maintain basic control skills and donâ€™t let automation create complacency.",
    "cramMode": "Autopilot is optional; hand-flying is required. If it disconnects, fly first, then troubleshoot. Donâ€™t use automation to hide poor basic control.",
    "reference": "FAA Risk Management Handbook, AFH automation concepts",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q164",
    "title": "Aircraft Systems - Overvoltage / Burning Smell (Immediate Shutdown)",
    "category": "XC Planning & Perf",
    "topic": "Electrical - Overvoltage Hazard and Immediate Actions",
    "airports": "KPHX (Phoenix) area",
    "aircraft": "Cessna 172",
    "scenario": "You smell burning insulation and see the ammeter show an abnormal charge. Lights brighten noticeably. Your passenger says, â€œItâ€™s probably just the heater.â€",
    "question": "What do you do immediately?",
    "correctAnswer": "Treat as an electrical emergency. I follow the checklist: reduce electrical load, shut off non-essential avionics, and if indicated, turn off the alternator/master per POH to stop the overvoltage condition. I declare as needed and land ASAP. The priority is preventing an electrical fire.",
    "trapReasoning": "â€œIf the battery is charging strongly, thatâ€™s good. Keep everything on.â€",
    "whyThisMatters": "Overvoltage can damage avionics and overheat wiring. The DPE wants immediate decisive action and a landing plan, not denial.",
    "cramMode": "Electrical burning smell/overvoltage cues = checklist now, isolate power, and land ASAP. Donâ€™t keep feeding a fire risk.",
    "reference": "PHAK Chapter 8 (Electrical), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q165",
    "title": "Aircraft Systems - Integrated Systems Scenario (Fuel + Electrical + Weather Pressure)",
    "category": "XC Planning & Perf",
    "topic": "Systems Integration - Correlation-Level Decision Making",
    "airports": "KPDX (Portland) â†’ KSLE (Salem)",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re trying to make a stage check. Enroute, you get a low-voltage indication (intermittent), light rain starts, and you realize you didnâ€™t fully sump one tank after fueling. Your passenger says, â€œWeâ€™re so close â€” donâ€™t turn around.â€ Youâ€™re also approaching busy airspace.",
    "question": "Whatâ€™s your decision, and how do you prioritize actions without getting overloaded?",
    "correctAnswer": "I break the chain early. Aviate: stabilize and simplify the flight path away from complex airspace. Manage the electrical issue conservatively (shed load, checklist) and assume I may lose comms. Given the fuel preflight shortcut plus worsening conditions, I choose to land at the nearest suitable airport now. This is exactly when pilots get trapped by compounding problems; the safe answer is to stop the flight and reset on the ground.",
    "trapReasoning": "â€œEach issue is small. If I just focus harder, I can push through and finish.â€",
    "whyThisMatters": "Checkrides love compounding scenarios. The DPE is testing whether you can prioritize and choose the conservative â€œland and fix itâ€ option rather than rationalizing multiple degradations at once.",
    "cramMode": "Compounding problems are the warning. If systems + weather + pressure stack up, land and reset. Donâ€™t â€˜push throughâ€™ under shrinking margin.",
    "reference": "14 CFR 91.103, 14 CFR 91.7",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103 | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.7"
  },
  {
    "id": "Q51",
    "title": "Weather - Marginal VFR Decision Making",
    "category": "Airspace & Regs",
    "topic": "Weather - Weather Minimums vs Good ADM",
    "airports": "KSAC (Sacramento) â†’ KMER (Merced)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a cross-country from Sacramento (KSAC) to Merced (KMER). Both airports are reporting:\n\nKSAC: 4SM BR (mist), OVC015 (overcast at 1,500 feet AGL)  \nKMER: 5SM BR, OVC018\n\nYou'll be flying at 3,500 feet MSL - approximately 3,400 feet AGL at Sacramento (field elevation 27 feet). This puts you in Class E airspace above 1,200 AGL. VFR minimums in Class E are 3 miles visibility, 500 below/1,000 above/2,000 horizontal from clouds.\n\nYour calculations: Flying at 3,500 MSL (3,473 AGL) puts you 1,973 feet above the overcast at 1,500 AGL - legally clear of clouds. Visibility is 4-5 miles - legal.",
    "question": "Is this flight legal? Is it safe?",
    "correctAnswer": "Legal yes - I meet VFR minimums. Safe? No. Flying VFR on top of an overcast layer at 1,500 feet gives me no emergency landing options. If the engine quits, I'm descending through clouds with no visibility. This is legal but terrible ADM.",
    "trapReasoning": "I meet VFR cloud clearance and visibility minimums - that means it's safe to fly",
    "whyThisMatters": "14 CFR 91.155 sets minimum weather requirements, but minimums aren't the same as safe conditions. You're flying VFR above a solid overcast layer with the ground completely obscured. If you have an engine failure, forced landing, or need to descend for any reason, you'll be descending through IMC (clouds) without an instrument rating or clearance. This is a VFR-into-IMC scenario waiting to happen. Additionally, \"overcast at 1,500\" often indicates poor visibility below the clouds, fog, or low IFR conditions on the ground. Your escape routes are limited. Better decision: wait for conditions to improve, go IFR if you're rated, or cancel. Legal doesn't mean smart - use personal minimums higher than regulatory minimums.",
    "cramMode": "VFR minimums = legal limits, not safe limits. VFR on top with no visual ground contact = poor ADM. Set personal minimums above regulatory minimums.",
    "reference": "14 CFR 91.155, PHAK Chapter 2",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155"
  },
  {
    "id": "Q52",
    "title": "Weather - Surface-Based Class G Airspace",
    "category": "Airspace & Regs",
    "topic": "Weather - Class G Cloud Clearances",
    "airports": "Small uncontrolled airport in Wyoming",
    "aircraft": "Cessna 172",
    "scenario": "You're departing a small uncontrolled airport in rural Wyoming (Class G airspace from surface to 1,200 AGL, then Class E above). It's 10:00 AM on a clear day. Current conditions: scattered clouds at 800 feet AGL, visibility 5 miles.\n\nYou're planning a local flight staying at 1,000 feet AGL - below the 1,200 AGL transition to Class E. You'll stay in Class G airspace the entire flight.\n\nYour CFI asks, \"What are your cloud clearance requirements at 1,000 feet AGL in Class G during the day?\"",
    "question": "What cloud clearances do you need?",
    "correctAnswer": "In Class G below 1,200 AGL during the day, I need to remain clear of clouds with 1 statute mile visibility. At night in the same airspace, I'd need 3 miles visibility and 500 below/1,000 above/2,000 horizontal.",
    "trapReasoning": "VFR cloud clearances are always 500/1,000/2,000 regardless of airspace",
    "whyThisMatters": "Class G airspace has different cloud clearance requirements depending on altitude and time of day. Below 1,200 AGL during the day (sunrise to sunset): clear of clouds, 1 statute mile visibility. This allows operations in marginal conditions near uncontrolled airports. However, at night or above 1,200 AGL, Class G requires standard VFR minimums (3 miles vis, 500/1,000/2,000 cloud clearances). With scattered clouds at 800 feet and you at 1,000 feet, you're 200 feet above the clouds - you need to remain clear of clouds, which you can do. But this is marginal conditions and requires excellent visual reference to terrain. If clouds are scattered (3/8 to 4/8 coverage), you need to navigate around cloud patches while maintaining terrain clearance.",
    "cramMode": "Class G below 1,200 AGL daytime: clear of clouds, 1SM vis. Class G night or above 1,200 AGL: standard VFR minimums (3-152).",
    "reference": "14 CFR 91.155",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155"
  },
  {
    "id": "Q53",
    "title": "Weather - Thunderstorm Avoidance Distance",
    "category": "Airspace & Regs",
    "topic": "Weather - Thunderstorm Hazards",
    "airports": "KTUS (Tucson) â†’ KPHX (Phoenix)",
    "aircraft": "Cessna 172",
    "scenario": "You're flying VFR from Tucson (KTUS) to Phoenix (KPHX). Approaching the Phoenix area, you see a large thunderstorm cell 10 miles to your right (east). The storm appears to be moving northeast, away from your route. You can see heavy rain underneath it and occasional lightning.\n\nYour current route will keep you approximately 5 miles west of the storm cell. Weather conditions on your route are clear - no precipitation, good visibility. You're using flight following and ATC hasn't mentioned the storm.\n\nYour passenger asks, \"Should we go around that storm, or is 5 miles enough clearance?\"",
    "question": "Is 5 miles adequate separation from the thunderstorm?",
    "correctAnswer": "No. I should stay at least 20 miles away from severe thunderstorms. Thunderstorms create hazards well beyond the visible precipitation: hail, severe turbulence, wind shear, and microbursts can extend 20+ miles from the core. I need to deviate around it.",
    "trapReasoning": "The storm is moving away from me and I can see clear air between me and the rain - 5 miles is plenty",
    "whyThisMatters": "The AIM recommends avoiding thunderstorms by at least 20 miles, especially severe storms. Hazards extend far beyond the visible rain shaft: hail can be thrown 20+ miles from the core, severe turbulence exists in and around the storm, gust fronts and microbursts can extend 10-15 miles ahead of the storm, and wind shear creates dangerous conditions near the storm. You might have clear air at your position, but turbulence and wind shear are invisible. Additionally, storms can intensify rapidly and change direction. The fact that ATC hasn't mentioned it doesn't mean it's safe - they provide traffic advisories, not weather avoidance guidance. Deviate 20 miles, request vectors from ATC if needed, or land and wait for the storm to pass.",
    "cramMode": "Avoid thunderstorms by 20+ miles. Hazards extend beyond visible rain: hail, turbulence, wind shear, microbursts. Never fly through or near severe storms.",
    "reference": "AIM 7-1-27, AC 00-24C",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q54",
    "title": "Weather - Wind Components and Crosswind Limits",
    "category": "Airspace & Regs",
    "topic": "Weather - Crosswind Calculations",
    "airports": "KPHX (Phoenix) Runway 7R",
    "aircraft": "Cessna 172",
    "scenario": "You're planning to land at Phoenix Sky Harbor (KPHX) Runway 7R. The ATIS reports winds 120 at 18 knots, gusting to 25 knots. Runway 7R is heading 069 degrees.\n\nYou calculate the crosswind component:\n- Wind is from 120 degrees\n- Runway heading is 069 degrees  \n- Wind angle: 120 - 069 = 51 degrees off runway heading\n- At 50 degrees, crosswind is approximately 75-80% of total wind\n- Crosswind component: 18 Ã— 0.8 = 14.4 knots steady, gusting to 25 Ã— 0.8 = 20 knots\n\nYour POH demonstrates maximum demonstrated crosswind is 15 knots. You've never landed in more than 10 knots of crosswind.",
    "question": "Should you land at this runway with these winds?",
    "correctAnswer": "No. The gusting crosswind component (20 knots) exceeds the demonstrated crosswind limit (15 knots) and far exceeds my personal experience (10 knots). I should request a different runway more aligned with the wind or divert to an airport with better runway alignment.",
    "trapReasoning": "Demonstrated crosswind is just a recommendation - I can exceed it if I'm careful",
    "whyThisMatters": "The POH's \"maximum demonstrated crosswind\" is the highest crosswind in which the aircraft was tested during certification. It's not a hard limit, but it's the manufacturer's tested boundary. More importantly, gusting winds create additional challenges - the 18-gusting-25 means wind varies rapidly, requiring constant control inputs. A 20-knot crosswind gust is extremely challenging even for experienced pilots and exceeds what the aircraft was demonstrated to handle. You also need to consider your personal experience - you've never landed in more than 10 knots, so 20 knots gusting is way beyond your proficiency. Request Runway 25L/R (heading 251 - more aligned with 120-degree winds) or divert to Deer Valley (KDVT) or Scottsdale (KSDL). Recognize personal limitations.",
    "cramMode": "Demonstrated crosswind = manufacturer's tested limit. Gusting winds are more challenging. Know personal limits - don't exceed experience level.",
    "reference": "POH Section 2, PHAK Chapter 9",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q55",
    "title": "Weather - Icing Conditions and Cloud Types",
    "category": "Airspace & Regs",
    "topic": "Weather - Structural Icing Recognition",
    "airports": "KSEA (Seattle) â†’ KPDX (Portland)",
    "aircraft": "Cessna 172 (not approved for known icing)",
    "scenario": "You're planning a VFR flight from Seattle (KSEA) to Portland (KPDX) at 7,500 feet. Current conditions show a warm front approaching from the southwest. The Area Forecast indicates:\n\n\"Occasional moderate rime icing in clouds and precipitation between 6,000 and 10,000 feet. Freezing level at 4,000 feet. Expect layered stratus and altostratus clouds 6,000-9,000 feet.\"\n\nCurrent visible conditions are VFR - broken clouds at 5,000 feet, overcast at 8,000 feet. No precipitation. Temperature at 7,500 feet will be approximately 25Â°F.\n\nYou're not instrument rated. Your friend says, \"Just fly between the layers at 7,500 feet - you'll stay VFR and avoid the clouds where the ice is.\"",
    "question": "Can you safely make this flight?",
    "correctAnswer": "No. The forecast predicts known icing conditions and I'm in a non-ice-approved aircraft. Even if I stay VFR between layers, ice can form on the aircraft from supercooled water droplets in the air. I should cancel or wait for conditions to improve.",
    "trapReasoning": "Icing only happens in clouds - if I stay clear of clouds, I won't get ice",
    "whyThisMatters": "14 CFR 91.9 prohibits operating aircraft outside of POH limitations. Non-ice-approved aircraft cannot fly into \"known or forecast icing conditions.\" The Area Forecast explicitly states \"moderate rime icing in clouds and precipitation 6,000-10,000 feet\" - this is known icing. Your planned altitude (7,500 feet) is right in the icing layer. Even if you stay clear of clouds visually, supercooled water droplets can exist in the air between cloud layers near a warm front. Ice can form on leading edges, windscreen, and antennas even in \"clear\" air near icing conditions. Additionally, the broken/overcast layers make it difficult to maintain VFR cloud clearances without entering clouds. One cloud penetration in these conditions could rapidly accumulate dangerous ice. Cancel the flight or wait until the warm front passes and temperatures rise above freezing.",
    "cramMode": "Known icing forecast = no-go for non-ice-approved aircraft. Ice can form in clear air near clouds with supercooled droplets. 91.9 prohibits operating outside limitations.",
    "reference": "14 CFR 91.9, AIM 7-1-20, AC 91-74B",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.9"
  },
  {
    "id": "Q56",
    "title": "Weather - Temperature Inversion and Visibility",
    "category": "Airspace & Regs",
    "topic": "Weather - Atmospheric Phenomena",
    "airports": "KLAS (Las Vegas) early morning departure",
    "aircraft": "Cessna 172",
    "scenario": "You're planning an early morning departure from Las Vegas (KLAS) at 6:00 AM in mid-December. Overnight conditions were calm and clear with temperatures dropping to 35Â°F at the surface. Current METAR shows:\n\nKLAS 061253Z 00000KT 2SM BR OVC003 05/04 A3015\n\nThis shows calm winds, 2 miles visibility in mist, overcast at 300 feet, temperature 5Â°C (41Â°F), dewpoint 4Â°C. Field elevation is 2,181 feet.\n\nYou flew in yesterday afternoon when it was clear and visibility was 10+ miles. Your passenger asks, \"Why is visibility so bad this morning when it was perfect yesterday?\"",
    "question": "What's causing the poor visibility, and will it improve?",
    "correctAnswer": "This is a temperature inversion with radiation fog. Cool air near the surface is trapped under warmer air aloft, creating fog and low ceilings. As the sun rises and heats the surface, the inversion will break and visibility will improve - usually by mid-morning.",
    "trapReasoning": "Fog is unpredictable and could last all day - I should cancel the flight",
    "whyThisMatters": "Overnight radiation cooling creates temperature inversions where cool air is trapped near the surface under a layer of warmer air. This traps moisture near the ground, forming fog (mist when visibility is 5/8 mile to 6 miles). The METAR shows classic radiation fog symptoms: calm winds (00000KT), temperature/dewpoint spread of only 1Â°C (very high humidity), and mist reducing visibility to 2 miles with low overcast at 300 feet. As the sun rises, surface heating breaks the inversion - warm air rises, fog lifts and dissipates. This typically improves by 2-3 hours after sunrise. Wait until 8-9 AM and conditions will likely be VFR. Check updated METARs and TAFs for timing. This is predictable, improvable weather - not a frontal system or persistent IFR.",
    "cramMode": "Radiation fog forms overnight with calm winds and clear skies. Temperature inversion traps cool air and moisture. Burns off 2-3 hours after sunrise as surface heats.",
    "reference": "AC 00-6B, PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q57",
    "title": "Weather - PIREPs and Turbulence Reporting",
    "category": "Airspace & Regs",
    "topic": "Weather - Pilot Weather Reports",
    "airports": "KDEN (Denver) â†’ KCOS (Colorado Springs)",
    "aircraft": "Cessna 172",
    "scenario": "You're flying VFR from Denver (KDEN) to Colorado Springs (KCOS) at 9,500 feet. You encounter moderate turbulence for 10 minutes - continuous bumps that make it difficult to maintain altitude within 100 feet. Passengers are uncomfortable but no one is injured.\n\nATC (Denver Approach) asks, \"Cessna 734, how are the rides at 9,500?\" You respond, \"Pretty bumpy - moderate turbulence.\" ATC says, \"Thanks, I'll pass that along.\"\n\nAfter landing, your instructor asks, \"Did you file a PIREP for that turbulence?\"",
    "question": "Was your radio call to ATC sufficient, or should you have done something else?",
    "correctAnswer": "The radio call helps ATC immediately, but I should also file an official PIREP (Pilot Report) via Flight Service or the PIREP app. PIREPs get distributed to briefers, forecasters, and other pilots nationally. My radio call only helped aircraft on Denver Approach's frequency.",
    "trapReasoning": "I told ATC about the turbulence - that's the same as filing a PIREP",
    "whyThisMatters": "Informing ATC about turbulence is helpful for immediate traffic management - they can advise other aircraft or approve altitude changes. However, ATC doesn't always forward your report to Flight Service for official PIREP distribution. Filing an official PIREP ensures the information reaches weather forecasters, briefers, and pilots checking weather across the country via 1800wxbrief.com, ForeFlight, or other services. PIREPs are critical for updating weather forecasts and helping other pilots make informed decisions. For significant weather (moderate+ turbulence, icing, low ceilings, mountain wave, etc.), file a PIREP with Flight Service (1-800-WX-BRIEF) or use the PIREP submission tool on 1800wxbrief.com. Include: location, altitude, aircraft type, time, weather condition (turbulence intensity, icing severity, etc.).",
    "cramMode": "Telling ATC â‰  filing PIREP. Radio calls help local traffic. Official PIREPs help all pilots and forecasters. File significant weather via Flight Service or PIREP app.",
    "reference": "AIM 7-1-19, AC 00-45H",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q58",
    "title": "Weather - Convective SIGMET vs Regular SIGMET",
    "category": "Airspace & Regs",
    "topic": "Weather - Weather Advisory Types",
    "airports": "KDFW (Dallas) â†’ KHOU (Houston)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning an afternoon VFR flight from Dallas (KDFW) to Houston (KHOU). During weather briefing, you receive:\n\n\"CONVECTIVE SIGMET 25C valid until 1855Z. From 40 miles east of DFW to 60 miles west of HOU... Area of embedded thunderstorms moving east at 30 knots. A few intense level 5 cells. Maximum tops FL450.\"\n\nCurrent conditions at both airports are VFR - scattered clouds, no precipitation. Your route is direct DFW to HOU. The convective SIGMET area covers the eastern half of your route.\n\nYour friend says, \"We're VFR and can see the storms - just fly around the cells visually.\"",
    "question": "How should this convective SIGMET affect your planning?",
    "correctAnswer": "This is a no-go. Convective SIGMETs indicate severe or embedded thunderstorms. \"Embedded\" means thunderstorms hidden in other clouds - I can't see them to avoid them. Level 5 cells are severe with extreme turbulence and hail. I should cancel or delay until after the system passes.",
    "trapReasoning": "I can see and avoid individual storm cells visually while staying VFR",
    "whyThisMatters": "Convective SIGMETs are issued for severe thunderstorm activity: lines of thunderstorms, embedded thunderstorms (hidden in other clouds), or areas of thunderstorms greater than or equal to VIP level 4. \"Embedded\" is the critical word here - these storms are hidden inside other cloud layers, so you can't see them to avoid them visually. If you encounter clouds along your route and try to fly through or under them, you could unknowingly enter an embedded thunderstorm. Level 5 cells indicate intense precipitation and severe turbulence capable of structural damage. Maximum tops at FL450 (45,000 feet) indicate extremely strong convection and updrafts. These storms can develop or intensify rapidly. VFR flight in convective SIGMET areas is extremely dangerous. Wait for the line to pass (it's moving east at 30 knots), delay departure by 2-3 hours, or cancel.",
    "cramMode": "Convective SIGMET = severe or embedded thunderstorms. Embedded = hidden in clouds, can't see to avoid. Level 4-5 cells = severe. VFR flight in convective SIGMET = high risk.",
    "reference": "AIM 7-1-5, AC 00-45H",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q59",
    "title": "Weather - Automated Weather Limitations",
    "category": "Airspace & Regs",
    "topic": "Weather - AWOS/ASOS vs Human Observers",
    "airports": "Small uncontrolled airport with AWOS-3",
    "aircraft": "Cessna 172",
    "scenario": "You're planning to land at a small uncontrolled airport that has AWOS-3. You call the AWOS phone number and get:\n\n\"AWOS-3 observation, 1456 Zulu. Wind 090 at 8. Visibility 10. Sky condition, clear. Temperature 22, dewpoint 18. Altimeter 30.15.\"\n\nYou're 10 miles out and can see the airport ahead. As you approach, you notice there's a small area of light rain showers just south of the airport - maybe 2 miles away. The AWOS reported \"clear\" but you can clearly see rain.\n\nYour passenger asks, \"Why didn't the AWOS mention the rain shower?\"",
    "question": "Why might the AWOS not report weather you can see visually?",
    "correctAnswer": "AWOS-3 is an automated system with sensors at one location on the field. It reports conditions at the sensor site, not the surrounding area. The rain shower 2 miles south isn't detected because it's not overhead the AWOS sensor. I should visually assess conditions and be prepared for changing weather.",
    "trapReasoning": "The AWOS is broken or reporting incorrectly - it should show the rain I can see",
    "whyThisMatters": "AWOS (Automated Weather Observing System) and ASOS (Automated Surface Observing System) use sensors at one specific location - typically near the center of the airport. They report conditions at that exact spot, not the surrounding area. A rain shower 2 miles south of the field isn't detected by the AWOS sensors. Additionally, AWOS-3 doesn't report all weather phenomena - it typically reports wind, visibility, cloud/ceiling, temperature, dewpoint, and altimeter. It may not detect all cloud types, virga, distant precipitation, or rapidly changing conditions. Human observers at towered airports can report what they see in the area, but automated stations only report what sensors detect. Use AWOS/ASOS as one data point, but also use visual observation, PIREPs, and radar to get the complete picture. Be prepared for conditions different from the automated report.",
    "cramMode": "AWOS/ASOS = automated sensors at one location. Report conditions at sensor, not surrounding area. Use visual observation + automated reports for complete picture.",
    "reference": "AIM 7-1-11, AC 00-45H",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q60",
    "title": "Weather - Obtaining Weather Briefings",
    "category": "Airspace & Regs",
    "topic": "Weather - Preflight Weather Requirements",
    "airports": "KBOI (Boise) â†’ KSUN (Sun Valley)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a VFR cross-country from Boise (KBOI) to Sun Valley (KSUN). You check weather on ForeFlight, which shows:\n\n- KBOI METAR: Clear skies, 10+ miles visibility\n- KSUN METAR: Few clouds at 8,000, visibility 10 miles\n- Radar: No precipitation along route\n- Winds aloft: Light and variable\n\nEverything looks VFR. You brief your passenger on the plan and prepare to depart. You didn't call Flight Service for a weather briefing because ForeFlight has all the same information.\n\nDuring preflight planning, your CFI asks, \"Did you get a weather briefing?\"",
    "question": "Is checking weather on ForeFlight sufficient for 14 CFR 91.103 compliance?",
    "correctAnswer": "Yes. ForeFlight provides access to all FAA weather data. As long as I review all available information (METARs, TAFs, winds aloft, radar, SIGMETs, AIRMETs, NOTAMs), I meet 91.103 requirements. I don't need to call Flight Service unless I want a briefer's interpretation.",
    "trapReasoning": "You must call Flight Service and get a standard briefing from a briefer to be legal",
    "whyThisMatters": "14 CFR 91.103 requires pilots to \"become familiar with all available information concerning that flight\" including weather reports and forecasts. The regulation doesn't specify how you must obtain this information. Flight Service phone briefings, 1800wxbrief.com, ForeFlight, and other FAA-approved sources all provide the same official weather data. Using ForeFlight (or similar EFB) is legal if you review: METARs (departure, destination, alternates), TAFs, winds aloft, radar, SIGMETs/AIRMETs, NOTAMs, and forecast conditions. The advantage of calling Flight Service is getting a briefer's expert interpretation and recommendations, especially for marginal weather or complex situations. For straightforward VFR flights, self-briefing via ForeFlight is sufficient and legal. However, always review ALL elements - don't just glance at METARs.",
    "cramMode": "91.103 requires reviewing \"all available information\" - doesn't specify method. ForeFlight/EFB legal if you review METARs, TAFs, winds, radar, SIGMETs, AIRMETs, NOTAMs. Flight Service optional but helpful.",
    "reference": "14 CFR 91.103, AIM 7-1-1",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q61",
    "title": "Weather - TAF Interpretation (TEMPO/PROB)",
    "category": "Weather & Services",
    "topic": "Weather - Forecast Risk vs â€œCurrent VFRâ€",
    "airports": "KPDX (Portland) â†’ KSLE (Salem)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a short VFR hop from Portland (KPDX) to Salem (KSLE) for a stage check that must start at 10:30 AM local. Your instructor is waiting at KSLE, and youâ€™ve already rescheduled once.\n\nCurrent METARs are VFR at both airports (10SM, SCT/BKN above 3,500). But the KSLE TAF includes:\n\n- `TEMPO 1517/1520 2SM -RA BR BKN008`  \n- `PROB30 1518/1522 2SM TSRA BKN020CB`\n\nYour estimated arrival is 18Zâ€”right in the middle of the TEMPO/PROB window.",
    "question": "How should you interpret this TAF for a VFR go/no-go decision?",
    "correctAnswer": "I should plan for the *worst-case* conditions during my arrival window, not the â€œniceâ€ parts. A TEMPO for 2SM and an 800-foot ceiling would make KSLE effectively IFR for me, and the PROB30 TSRA adds convective risk. Even if itâ€™s VFR right now, forecast deterioration at my ETA is a strong reason to delay or cancel. If I go, I need a solid alternate plan: divert options, a hard turn-around point, and no â€œpressing inâ€ if ceilings start dropping.",
    "trapReasoning": "â€œTEMPO and PROB30 are low-confidence, so I can ignore them as long as itâ€™s VFR right now.â€",
    "whyThisMatters": "14 CFR 91.103 requires you to become familiar with *weather reports and forecasts* for the flight. A VFR launch into a forecast window that includes IFR ceilings/visibilities is a classic setup for VFR-into-IMC. TEMPO means â€œexpected fluctuationsâ€ for less than an hour at a time (but they can repeat), and PROB indicates non-trivial risk of hazardous weather. If the risk window overlaps your ETA, treat it as operationally realâ€”especially when the consequence is getting trapped above a lowering ceiling with mist/rain reducing visibility. The legal question isnâ€™t â€œIs it VFR at departure?â€â€”the practical question is â€œWill I still be VFR with safe outs when I get there?â€",
    "cramMode": "If TEMPO/PROB overlaps your ETA, plan for the *bad* part. VFR now doesnâ€™t matter if forecast at arrival is IFR-ish.",
    "reference": "14 CFR 91.103, AC 00-45H (Aviation Weather Services)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q62",
    "title": "Weather - AIRMET Sierra (Mountain Obscuration)",
    "category": "Weather & Services",
    "topic": "Weather - Mountain Obscuration Risk for VFR",
    "airports": "KBJC (Rocky Mountain Metro) â†’ KEGE (Eagle County)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a daytime VFR flight from the Denver area (KBJC) to Eagle (KEGE) for a weekend trip. Youâ€™re not instrument rated. The surface weather near Denver is VFR, and you can see blue sky to the west from the ramp.\n\nDuring your briefing you see an **AIRMET Sierra** along your route for **mountain obscuration** due to clouds and light snow showers over the Continental Divide, valid for the next 6 hours.\n\nYour passenger says, â€œBut itâ€™s VFR hereâ€”canâ€™t we just go and see how it looks when we get closer?â€",
    "question": "What does an AIRMET Sierra for mountain obscuration mean for a VFR mountain crossing decision?",
    "correctAnswer": "For VFR in the mountains, an AIRMET Sierra for mountain obscuration is a major no-go flag. Even if the departure area is VFR, the obscuration can hide ridgelines and passes and destroy my ability to maintain required terrain clearance and VFR cloud clearances. â€œGoing to take a lookâ€ can trap me in narrowing valleys with lowering ceilings. I should delay, reroute away from the obscured terrain, or cancel.",
    "trapReasoning": "â€œAIRMETs are mainly for IFR pilots; as long as I stay VFR Iâ€™m fine.â€",
    "whyThisMatters": "Mountain obscuration is one of the highest-risk weather setups for VFR pilots because the hazard is *terrain you canâ€™t see*, not just â€œa lower ceiling.â€ Clouds, snow showers, and blowing snow can erase horizon and hide ridgelines, leading to controlled flight into terrain (CFIT) and VFR-into-IMC. AIRMETs are issued for weather that can impact light aircraftâ€”exactly your category. 14 CFR 91.103 requires evaluating forecasts along the route, not just at the endpoints, and your outs in mountain terrain are limited. The safe decision is almost always to avoid crossing the affected mountains until the AIRMET clears.",
    "cramMode": "AIRMET Sierra + mountains = donâ€™t â€œtake a look.â€ Obscuration hides terrain and passesâ€”VFR outs disappear fast.",
    "reference": "14 CFR 91.103, AIM Chapter 7 (AIRMETs & mountain obscuration)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q63",
    "title": "Weather - LLWS / Gust Front / Microburst Risk",
    "category": "Weather & Services",
    "topic": "Weather - Wind Shear Decision Triggers",
    "airports": "KMCO (Orlando) arrival",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re returning to Orlando (KMCO) late afternoon to make a family event. The ATIS includes:\n\n- Winds 240 at 12, gusting 28  \n- â€œLLWS advisory in effectâ€  \n- Thunderstorms reported in the area, moving east\n\nOn final you notice the windsock snapping, and you see a dark rain shaft about 10â€“15 miles off the approach end. ATC hasnâ€™t said â€œmicroburst alert,â€ but several jets ahead are going around.\n\nYour passenger says, â€œWeâ€™re almost thereâ€”just land it.â€",
    "question": "Whatâ€™s your decision, and what specific wind-shear cues are you looking for?",
    "correctAnswer": "I should strongly consider a go-around or divert and wait it out. LLWS advisories plus gusty winds and nearby convection are classic microburst/gust-front conditions. Cues: sudden airspeed changes, rapid sink or ballooning, big wind shifts, increasing tailwind on short final, and reports of aircraft going around. In a 172, a sudden loss of headwind can eliminate my safety margin fast. Iâ€™m not obligated to â€œtry it once.â€ The safe move is to break off early and get away from the shear environment.",
    "trapReasoning": "â€œIf ATC doesnâ€™t say â€˜microburst,â€™ itâ€™s just gusty winds. I can handle it if I stay fast.â€",
    "whyThisMatters": "Wind shear is dangerous because it can change faster than you can correctâ€”especially near the ground. Microbursts and gust fronts can exist without a dramatic-looking storm over the field, and the worst shear can be outside the rain shaft. â€œAdding a little airspeedâ€ is not a cure for a sudden headwind-to-tailwind transition at 200 feet AGL. Good ADM is recognizing the combination of cues (LLWS advisory, gusts, nearby convection, multiple go-arounds) and choosing to avoid the environment entirely.",
    "cramMode": "LLWS + gusts + nearby storms + go-arounds = treat as microburst risk. Donâ€™t â€œtry oneâ€ in a trainerâ€”go around/divert early.",
    "reference": "Aviation Weather Handbook (Wind Shear/Microbursts), PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q64",
    "title": "Weather - NEXRAD Latency (The â€œGreen Gapâ€ Trap)",
    "category": "Weather & Services",
    "topic": "Weather - Datalink Radar Limitations",
    "airports": "KHOU (Houston Hobby) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re VFR with flight following near Houston. Youâ€™re using EFB radar (NEXRAD mosaic) and see a line of light-to-moderate returns with a tempting â€œgapâ€ that looks wide enough to slip through. The EFB shows the radar image is **6â€“8 minutes old**, and you notice your groundspeed is 110 knots.\n\nATC says, â€œDeviation approvedâ€”advise when able direct.â€\n\nYour passenger says, â€œThereâ€™s a hole right thereâ€”just go through it.â€",
    "question": "Is it smart to use that EFB NEXRAD gap tactically, and whatâ€™s the safer technique?",
    "correctAnswer": "Noâ€”EFB NEXRAD is not reliable for close-in tactical threading. With 6â€“8 minutes of latency (plus processing/relay time), the â€œgapâ€ could have moved, filled in, or become the strongest part of the line by the time I get there. The safer technique is strategic avoidance: stay well clear of the entire convective area, use large separation, and never plan to penetrate between cells based solely on delayed mosaic radar.",
    "trapReasoning": "â€œRadar is radar. If it shows a gap, itâ€™s real right now.â€",
    "whyThisMatters": "NEXRAD mosaics are excellent for big-picture planning but dangerous when used like real-time, onboard weather radar. The age stamp is not the whole story: collection, processing, uplink, and display all add delay. At 110 knots, you can travel more than 12 miles in 6 minutesâ€”meaning you can fly from â€œclearâ€ into the core before your display catches up. The safest VFR thunderstorm strategy is conservative standoff, not precision threading.",
    "cramMode": "Datalink NEXRAD is delayedâ€”great for strategy, terrible for â€œthreading holes.â€ If youâ€™re using it tactically, youâ€™re already behind.",
    "reference": "AIM Chapter 7 (Datalink weather limitations), Aviation Weather Handbook (Thunderstorms)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q65",
    "title": "Weather - Freezing Level + â€œBetween Layersâ€ Icing Trap",
    "category": "Weather & Services",
    "topic": "Weather - Icing Risk Without an â€œIcing Forecastâ€",
    "airports": "KROA (Roanoke) â†’ KLYH (Lynchburg)",
    "aircraft": "Cessna 172 (not approved for known icing)",
    "scenario": "Youâ€™re planning a short daytime VFR flight at 7,500 feet MSL. The freezing level along route is reported around **6,000 feet**. Cloud layers are **BKN060** with **OVC090**. No AIRMET Zulu is currently out, and the area forecast doesnâ€™t explicitly mention icing.\n\nYour friend says, â€œNo icing AIRMET means youâ€™re fine. Just stay between the layers and youâ€™ll be VFR.â€",
    "question": "Whatâ€™s the icing risk here, and how do you make a safer plan?",
    "correctAnswer": "Even without an icing AIRMET, the risk is real anytime you combine **visible moisture** with **subfreezing temperatures**. At 7,500 (above the freezing level), any cloud penetrationâ€”or even skimming ragged edgesâ€”can produce ice quickly in a non-FIKI aircraft. A safer plan is to stay below the freezing level (if terrain/MEFs allow), delay until temps warm, or cancel if I canâ€™t guarantee staying well clear of clouds while maintaining safe terrain clearance and VFR minimums.",
    "trapReasoning": "â€œIcing only matters if an AIRMET says â€˜icing,â€™ and it only happens inside clouds.â€",
    "whyThisMatters": "Icing is a physics problem: supercooled liquid water + airframe + below-freezing temps. Forecast products can miss small-scale icing, and â€œno AIRMETâ€ does not equal â€œno ice.â€ The â€œbetween layersâ€ plan often fails when layers thicken, bases lower, tops rise, or the route forces you closer to the clouds than you expected. In a 172, even a small amount of ice can degrade climb, increase stall speed, and ruin visibilityâ€”fast. Good ADM is recognizing that â€œVFR between layersâ€ at temperatures below 0Â°C is often one unplanned climb/descent away from a serious problem.",
    "cramMode": "No icing AIRMET â‰  no ice. Visible moisture + below 0Â°C = potential ice. â€œBetween layersâ€ is fragileâ€”donâ€™t bet a non-FIKI plane on it.",
    "reference": "Aviation Weather Handbook (Icing), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q66",
    "title": "Weather - Frontal Passage Timing (Trend Awareness)",
    "category": "Weather & Services",
    "topic": "Weather - Front Timing vs Get-There-Itis",
    "airports": "KSTL (St. Louis) â†’ KCOU (Columbia, MO)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re trying to make it home tonight. A cold front is forecast to move through your route area. The departure METAR is still VFR, but you notice:\n\n- Pressure has been steadily falling the last few hours  \n- Winds are increasing and starting to veer  \n- The destination TAF shows a wind shift, lowering ceilings, and `-RA` after 02Z\n\nYour planned arrival is 01:45Zâ€”â€œjust beforeâ€ the forecast deterioration.",
    "question": "Whatâ€™s the risk with â€œbeating the front,â€ and what decision rule would you use?",
    "correctAnswer": "The risk is the front arrives earlier or conditions deteriorate faster than the TAF suggests, trapping me with lowering ceilings/visibility near arrival. Iâ€™d use a hard rule: if the forecast trend shows deterioration near my ETA, I either depart early enough to arrive with a large buffer or I donâ€™t go. I also set a â€œturn-back timeâ€ and require multiple viable alternates with improving weather, not just â€œmaybe it stays VFR.â€",
    "trapReasoning": "â€œTAFs are exact. If it says it goes down after 02Z, Iâ€™m safe if I arrive before 02Z.â€",
    "whyThisMatters": "Fronts donâ€™t read TAFs. Timing errors happen, and the most dangerous period for a VFR pilot is the transition when ceilings lower and visibility degradesâ€”especially near nightfall. â€œJust beforeâ€ is not a safety margin. 14 CFR 91.103 requires considering forecasts and trends, not just a snapshot METAR. Good ADM is building buffer time, recognizing accelerating deterioration cues (falling pressure, increasing winds, thickening clouds), and avoiding the temptation to â€œsneak in.â€",
    "cramMode": "â€œBeat the frontâ€ is a trap: trends can accelerate and timing shifts. If deterioration overlaps ETA, build buffer or donâ€™t go.",
    "reference": "14 CFR 91.103, AC 00-45H (Aviation Weather Services)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q67",
    "title": "Weather - METAR Visibility Nuances (BR vs FG, VV)",
    "category": "Weather & Services",
    "topic": "Weather - Reading METARs Beyond â€œVFR/IFRâ€",
    "airports": "KOMA (Omaha) early morning departure",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a sunrise departure. Two nearby airports are reporting:\n\n- Airport A: `2SM BR OVC003 06/05`  \n- Airport B: `1/2SM FG VV002 06/06`\n\nYour friend says, â€œThey both look â€˜kinda foggyâ€™â€”same thing.â€",
    "question": "Whatâ€™s the operational difference between BR vs FG, and OVC003 vs VV002?",
    "correctAnswer": "BR (mist) is reduced visibility but generally not as restrictive as FG (fog). FG implies much lower visibility (often below 5/8 SM), and the temperature/dewpoint spread near zero supports persistent low vis. OVC003 is an overcast ceiling at 300 feet AGL. VV002 means vertical visibility 200 feetâ€”an indefinite ceiling where the sky is obscured; conditions are typically worse and more limiting. Airport B is significantly worse and less predictable for VFR (and often for IFR departures/arrivals too).",
    "trapReasoning": "â€œOVC003 and VV002 are basically the sameâ€”both just mean â€˜low clouds.â€™â€",
    "whyThisMatters": "A ceiling is only defined when you can see a cloud layer. When the sky is obscured (fog/heavy precip), the report switches to vertical visibility (VV), which often indicates truly poor conditions and low confidence about where youâ€™ll break out. BR vs FG matters because itâ€™s a cue about *severity and persistence*. Treating all â€œlow and grayâ€ reports as equivalent leads to bad decisions like launching into an environment where the ceiling/vis is not just lowâ€”itâ€™s undefined and can easily go to zero. Even if youâ€™re IFR-rated, you use these cues to decide whether conditions are improving or degrading.",
    "cramMode": "BR = mist (less severe). FG = fog (worse). OVC is a measured ceiling; VV means sky obscured/indefinite ceilingâ€”often the nastiest.",
    "reference": "AC 00-45H (Aviation Weather Services), Aviation Weather Handbook (METARs)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q68",
    "title": "Weather - Anvil & Outflow Hazards (Storm â€œNot on My Routeâ€)",
    "category": "Weather & Services",
    "topic": "Weather - Thunderstorm Indirect Hazards",
    "airports": "KICT (Wichita) departure",
    "aircraft": "Cessna 172",
    "scenario": "Itâ€™s summer afternoon in Kansas. A thunderstorm cell is 25 miles north of the field and moving eastâ€”â€œnot on your route.â€ The radar shows the core north of you, and the sky south looks mostly clear.\n\nBut you notice a large **anvil** spreading overhead, and surface winds at the airport have begun shifting and increasing quickly. Dust is visible in the distance.\n\nYour friend says, â€œThe storm is far away and moving away. Letâ€™s go.â€",
    "question": "What weather hazard is developing, and whatâ€™s the correct decision?",
    "correctAnswer": "This looks like **outflow/gust-front** behavior from the thunderstorm. The hazard (strong wind shift, turbulence, possible microbursts) can extend well away from the rain core and can arrive before the storm itself. The correct decision is to delayâ€”donâ€™t depart into a rapidly changing wind environment with convective outflow.",
    "trapReasoning": "â€œIf Iâ€™m not flying through the rain, the thunderstorm canâ€™t affect me.â€",
    "whyThisMatters": "Thunderstorms are not â€œpoint hazards.â€ The outflow boundary can produce abrupt wind shifts, strong gusts, blowing dust, and low-level wind shear. Thatâ€™s dangerous on takeoff and landingâ€”exactly when you have the least margin. The anvil overhead is a clue that strong convection exists even if the rain shaft is off to the side. Good ADM is treating convective outflow like a moving hazard zone, not a stationary cloud you can â€œstay away from.â€",
    "cramMode": "Storm core isnâ€™t the whole threat. Outflow/gust fronts can hit far from the rain and wreck takeoff/landing margins. Anvil + wind shift = wait.",
    "reference": "AIM Chapter 7 (Thunderstorms), Aviation Weather Handbook (Convective weather)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q69",
    "title": "Weather - Mountain Wave / Rotor Recognition",
    "category": "Weather & Services",
    "topic": "Weather - Severe Turbulence & Downdrafts",
    "airports": "KABQ (Albuquerque) â†’ KSAF (Santa Fe)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a daytime VFR flight with a friend whoâ€™s new to small airplanes. Winds aloft forecast:\n\n- 9,000 ft: 290 at 35 knots  \n- 12,000 ft: 300 at 50 knots\n\nYou see smooth, lens-shaped clouds (lenticulars) near the mountains and ragged â€œrollingâ€ clouds downwind. The surface winds at KSAF are gusty and variable.\n\nYour passenger is nervous and asks if the ride will be smooth.",
    "question": "What phenomenon is likely present, and how does it affect your route/altitude decision?",
    "correctAnswer": "This is a classic setup for **mountain wave** with possible **rotor turbulence** on the lee side. In a 172, that can mean severe turbulence, strong downdrafts, and difficulty maintaining altitudeâ€”especially near ridgelines and passes. Iâ€™d avoid the lee side, consider delaying until winds decrease, choose a route that minimizes terrain interaction, and keep a large terrain/altitude margin with a clear turn-around option.",
    "trapReasoning": "â€œIf itâ€™s VFR and I can see the mountains, turbulence is just â€˜a few bumps.â€™â€",
    "whyThisMatters": "Mountain wave can produce vertical air movement that exceeds the climb capability of a light trainer, plus rotor can be violent and unpredictable. Lenticular clouds are a big visual clue that the atmosphere is organized into waves. â€œVFRâ€ only tells you about visibility/ceilingsâ€”not the vertical winds and turbulence that can make the flight unsafe. Good ADM is recognizing the cues and not flying a low-powered airplane into an environment where terrain + strong winds aloft can pin you down.",
    "cramMode": "Lenticulars + strong winds aloft = mountain wave risk. Rotor on lee side can be brutal. VFR doesnâ€™t mean smooth or safe.",
    "reference": "Aviation Weather Handbook (Mountain waves), PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q70",
    "title": "Weather - Personal Minimums (Applying a Framework)",
    "category": "Weather & Services",
    "topic": "Weather - Setting/Using Personal Minimums",
    "airports": "KCLT (Charlotte) â†’ KAVL (Asheville)",
    "aircraft": "Cessna 172",
    "scenario": "Your checkride is in 72 hours, and youâ€™re feeling pressure to â€œstay sharp.â€ You plan a VFR training cross-country from Charlotte (KCLT) to Asheville (KAVL). The brief shows:\n\n- Ceilings: 3,500â€“4,500 broken along route  \n- Visibility: 6â€“8SM with light haze  \n- Winds at KAVL: 240 at 14G22  \n- Terrain rising near Asheville; potential mechanical turbulence with gusts\n\nLegally, this might still be VFR, but itâ€™s not a slam dunk for a student-level pilot.",
    "question": "How would you apply personal minimums to make a go/no-go decision here?",
    "correctAnswer": "Iâ€™d use personal minimums that account for my experience, aircraft, environment, and mission pressure. For example: minimum ceiling 5,000 AGL enroute/3,000 AGL in mountains, minimum visibility 8SM, maximum steady wind/crosswind/gust spread limits, and stricter limits if Iâ€™m tired or itâ€™s near night. If conditions are at or near my limitsâ€”especially with gusts and terrainâ€”I delay, get dual instruction with a clear training objective, or choose a different route/time. The point is having the rule *before* Iâ€™m emotionally invested.",
    "trapReasoning": "â€œIf itâ€™s legal VFR, personal minimums are optional. I can â€˜judge it in the moment.â€™â€",
    "whyThisMatters": "Weather-related accidents often start with a legal launch and end with a shrinking margin. Personal minimums protect you from your own optimism and external pressure (checkride timeline, passengers, schedules). A good framework forces you to consider: terrain, gusts, turbulence, alternates, and â€œwhat if it gets 20% worse.â€ Itâ€™s not about being timidâ€”itâ€™s about being consistent and disciplined so you donâ€™t gradually normalize risk.",
    "cramMode": "Set personal minimums *before* you want the flight. If conditions are near the lineâ€”especially with terrain/gustsâ€”donâ€™t â€œsee how it goes.â€",
    "reference": "FAA-H-8083-2 (Risk Management Handbook), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q71",
    "title": "Weather - Warm Front â€œLooks Fine Hereâ€ Trap",
    "category": "Weather & Services",
    "topic": "Weather - Fronts and Trend-Based Planning",
    "airports": "KDAY (Dayton) â†’ KCMH (Columbus)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a late-morning VFR hop from Dayton (KDAY) to Columbus (KCMH) for a lunch meeting you â€œcanâ€™t miss.â€ The departure METAR is VFR with high clouds. The surface analysis shows a **warm front** moving northeast toward your route.\n\nYour destination TAF shows lowering ceilings later in the period, and the area forecast mentions increasing moisture and light rain.\n\nYour passenger says, â€œIf itâ€™s VFR now, weâ€™re goodâ€”fronts are slow.â€",
    "question": "What weather trend should you expect ahead of a warm front, and how should that influence your go/no-go?",
    "correctAnswer": "Ahead of a warm front, I expect **deteriorating ceilings and visibility** with widespread layered clouds and precipitation developing *before* the front arrives. Conditions can go from VFR to MVFR/IFR gradually but steadily. For a VFR-only pilot, that trend matters more than â€œwhat it looks like right now.â€ If my ETA overlaps the deterioration window, I should delay, reroute, or cancel rather than trying to â€œbeat it.â€",
    "trapReasoning": "â€œOnly the front itself is bad. If we launch before it arrives, weâ€™ll stay VFR.â€",
    "whyThisMatters": "Warm fronts commonly produce widespread stratiform clouds, mist, and rain with **lowering ceilings ahead of the surface boundary**. Thatâ€™s exactly the kind of â€œslow squeezeâ€ that traps VFR pilotsâ€”each decision point seems reasonable until it isnâ€™t. 14 CFR 91.103 requires considering forecasts and trends along the route, not just a snapshot METAR. The safe decision is based on the direction of change and whether you have large margins and real outs.",
    "cramMode": "Warm front = ceilings/vis often deteriorate *ahead* of the boundary. Donâ€™t chase â€œVFR nowâ€ into a steady downward trend.",
    "reference": "14 CFR 91.103, AC 00-45H (Aviation Weather Services)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q72",
    "title": "Weather - Cold Front Timing (Fast Changes)",
    "category": "Weather & Services",
    "topic": "Weather - Rapid Deterioration and Wind Shifts",
    "airports": "KICT (Wichita) â†’ KTOP (Topeka)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a VFR flight late afternoon. A **cold front** is forecast to cross your route near your ETA. Surface winds are increasing, cumulus is building, and you see a narrow line of showers on the horizon.\n\nThe destination TAF has a sharp wind shift and a tempo group for reduced visibility and lower ceilings around your arrival time.",
    "question": "If you decide to â€œgo anyway,â€ what specific cold-front hazards can show up quickly, even while it still looks VFR?",
    "correctAnswer": "Cold fronts can bring **rapid wind shifts, gusts, turbulence, and convective showers** with quick drops in visibility and ceilings. The biggest trap is assuming youâ€™ll have time to react. Even a â€œthin lineâ€ can create strong mechanical turbulence and wind shear near the surface. I need a large buffer or I should delay/cancel.",
    "trapReasoning": "â€œCold fronts are obvious. Iâ€™ll see the bad weather and just turn around if needed.â€",
    "whyThisMatters": "Cold fronts can change conditions in minutes, not hours. The visual picture often lags the operational hazardâ€”gust fronts and wind shifts can arrive before the rain. If youâ€™re near pattern altitude when winds flip and gust, your workload spikes exactly when your margin is small. Good ADM means recognizing that â€œI can always turn backâ€ is a weak plan if the front crosses behind you and closes your return route.",
    "cramMode": "Cold front = fast changes: wind shift + gusts + turbulence + quick MVFR/IFR. â€œTurn backâ€ may not be available once it moves through.",
    "reference": "AC 00-45H (Aviation Weather Services), Aviation Weather Handbook (Fronts)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q73",
    "title": "Weather - Stationary Front and â€œEndless Marginalâ€",
    "category": "Weather & Services",
    "topic": "Weather - Persistent Low Ceilings and Drizzle",
    "airports": "KORF (Norfolk) â†’ KRIC (Richmond)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™ve been waiting two days for weather to improve. A **stationary front** is draped across Virginia. Both airports have been bouncing between MVFR and IFR with light rain and mist.\n\nYour friend says, â€œItâ€™s not moving, so it canâ€™t get worse. Letâ€™s just go when itâ€™s barely VFR.â€",
    "question": "Why can stationary fronts be especially dangerous for VFR planning?",
    "correctAnswer": "Stationary fronts can produce **long-lasting low ceilings, drizzle, mist, and poor visibility** with little improvement for many hours. The risk is launching on a brief VFR â€œbreakâ€ and then getting trapped when it returns to MVFR/IFRâ€”often with widespread low stratus that eliminates outs. The correct approach is to wait for a clear improvement trend, not chase short-lived fluctuations.",
    "trapReasoning": "â€œIf itâ€™s been the same for days, itâ€™s predictable and safe to squeeze a VFR flight in.â€",
    "whyThisMatters": "Stationary-front weather is often â€œbarely legalâ€ and persistent. Thatâ€™s prime VFR-into-IMC territory because the **ceiling is the limiter**, not isolated cells you can go around. Even if you stay technically legal under 91.155, your safety margin can be razor thin, especially near terrain or at night. Stable, improving trends matter more than a momentary METAR.",
    "cramMode": "Stationary front = persistent low stratus/drizzle/mist. Donâ€™t chase brief VFR breaksâ€”wait for a real improvement trend.",
    "reference": "14 CFR 91.155, AC 00-45H (Aviation Weather Services)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155"
  },
  {
    "id": "Q74",
    "title": "Weather - Sea Breeze Boundary Surprise",
    "category": "Weather & Services",
    "topic": "Weather - Local Circulations and Pop-Up Convection",
    "airports": "KJAX (Jacksonville) â†’ KSGJ (St. Augustine)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re doing a short coastal training flight in Florida. The morning is calm and sunny. By early afternoon, inland temps rise quickly. The winds at the coast start shifting onshore, and cumulus begins building in a line roughly parallel to the coastline.\n\nYour CFI asks, â€œWhatâ€™s causing that line, and why does it matter for your planning?â€",
    "question": "Your CFI asks, â€œWhatâ€™s causing that line, and why does it matter for your planning?",
    "correctAnswer": "Thatâ€™s a **sea breeze front/boundary**â€”cooler marine air pushing inland and lifting warm moist air. It can rapidly create **towering cumulus and thunderstorms** along the boundary, plus gusty shifting winds. It matters because conditions can change quickly from benign VFR to convective hazards along an otherwise short route.",
    "trapReasoning": "â€œItâ€™s a short flight near the coast. If storms build, theyâ€™ll be easy to avoid.â€",
    "whyThisMatters": "Local boundaries can generate convection faster than the big-picture forecast suggests. The first sign is often a line of building cumulus and a wind shift. If you wait until you â€œsee lightning,â€ youâ€™re lateâ€”gust fronts and turbulence can arrive earlier. Good ADM is anticipating that summer coastal environments can go from smooth to ugly within an hour and planning conservative turn-around points.",
    "cramMode": "Sea breeze boundary can rapidly trigger storms and gusty wind shifts. Coastal VFR can change fastâ€”plan turn-around points early.",
    "reference": "Aviation Weather Handbook (Local winds/boundaries), PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q75",
    "title": "Weather - AIRMET Tango (Turbulence) and â€œItâ€™s Just Bumpsâ€",
    "category": "Weather & Services",
    "topic": "Weather - Turbulence Forecasts and Light Aircraft Risk",
    "airports": "KSLC (Salt Lake City) â†’ KLGU (Logan)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a VFR flight in Utah with mountain terrain nearby. Thereâ€™s an **AIRMET Tango** for moderate turbulence below 12,000 feet due to strong winds aloft and mountain wave potential.\n\nYour passenger says, â€œModerate turbulence just means itâ€™ll be uncomfortable. We can handle it.â€",
    "question": "What does â€œmoderate turbulenceâ€ actually imply for a small trainer, and whatâ€™s your decision?",
    "correctAnswer": "In a light trainer, moderate turbulence can mean **hard-to-control altitude/airspeed variations** and a real risk of exceeding maneuvering speed limits if Iâ€™m not careful. It can also make passengers panic and increase workload. If the AIRMET aligns with terrain and strong winds aloft, I should delay, choose a smoother time of day, fly a lower-risk route, or cancel. If I go, I slow to Va when appropriate, secure the cabin, brief passengers, and have outs.",
    "trapReasoning": "â€œAIRMETs are for airliners and IFR. In a 172, turbulence is just uncomfortable.â€",
    "whyThisMatters": "AIRMETs are specifically relevant to general aviation. Moderate turbulence can produce substantial changes in attitude/altitude and create structural/operational risk if youâ€™re fast or distracted. In the mountains, turbulence can be unpredictable and localizedâ€”especially on the lee side. This is as much an ADM problem as a weather knowledge problem: recognizing when the risk-to-benefit ratio is poor for a training flight.",
    "cramMode": "AIRMET Tango is GA-relevant. Moderate turbulence in a 172 isnâ€™t â€œjust bumpsâ€â€”itâ€™s workload + control + Va discipline + real risk.",
    "reference": "AIM Chapter 7 (AIRMETs), Aviation Weather Handbook (Turbulence)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q76",
    "title": "Weather - Non-Convective SIGMET (Severe Icing/Turbulence)",
    "category": "Weather & Services",
    "topic": "Weather - SIGMET Severity and VFR Implications",
    "airports": "KMSP (Minneapolis) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a VFR flight on a winter day. Weather is currently VFR at your departure airport. Your briefing shows a **SIGMET** for severe icing and/or severe turbulence in a large area that includes part of your planned route.\n\nYour friend says, â€œSIGMETs are mostly an IFR thing. If we stay VFR, we wonâ€™t get icing.â€",
    "question": "How should a SIGMET change your planâ€”even for VFR?",
    "correctAnswer": "A SIGMET indicates **hazardous weather significant to all aircraft**. Severe icing or turbulence can exist even when surface conditions look VFR, and the consequences for a light trainer are unacceptable. Even if I *intend* to stay out of clouds, routes often force climbs/descents near moisture layers. The practical decision is no-go or a major reroute away from the SIGMET area.",
    "trapReasoning": "â€œVFR avoids weather. If Iâ€™m legal under 91.155, SIGMETs donâ€™t apply to me.â€",
    "whyThisMatters": "SIGMETs exist to highlight conditions that can be dangerous regardless of flight rules. Severe icing/turbulence can rapidly overwhelm a small aircraft. â€œIâ€™ll stay VFRâ€ is not a guaranteeâ€”visibility can drop, cloud bases can lower, and you can be forced into moisture during normal operations. Good decision-making treats SIGMETs as a red flag requiring avoidance, not a footnote.",
    "cramMode": "SIGMET = significant hazard to ALL aircraft. VFR isnâ€™t an immunity badgeâ€”avoid the area or donâ€™t go.",
    "reference": "AIM 7-1-6 (SIGMETs), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q77",
    "title": "Weather - Freezing Rain (Warm Front â€œHidden Killerâ€)",
    "category": "Weather & Services",
    "topic": "Weather - Icing Type Recognition and No-Go",
    "airports": "KSDF (Louisville) â†’ KLEX (Lexington)",
    "aircraft": "Cessna 172 (not approved for known icing)",
    "scenario": "Youâ€™re planning a winter VFR flight. The surface temps at both airports are 34â€“36Â°F, and the sky is overcast with light precipitation. The forecast discussion mentions a warm layer aloft over subfreezing air at higher elevations and a chance of **freezing rain** north of your route.\n\nYour friend says, â€œIf itâ€™s above freezing on the ground, icing wonâ€™t be an issue.â€",
    "question": "Why is freezing rain such a big red flag, and whatâ€™s your decision?",
    "correctAnswer": "Freezing rain is a major no-go because it can produce **rapid, severe clear icing**. Surface temps being slightly above freezing doesnâ€™t protect me at altitude where temperatures can be below 0Â°C. Freezing rain implies a warm layer aloft with supercooled droplets that freeze on contactâ€”ice can accumulate extremely fast. In a non-FIKI 172, I avoid this setup entirely.",
    "trapReasoning": "â€œFreezing rain only matters if the surface is below freezing. Weâ€™re above freezing, so itâ€™s safe.â€",
    "whyThisMatters": "Freezing rain indicates a vertical temperature structure that creates large supercooled dropletsâ€”worst-case icing. You donâ€™t need to be in â€œdeep cloudsâ€ for this to be dangerous; even light precip can coat the airplane quickly. This is one of those weather products where the correct answer is simple: donâ€™t try to outsmart it.",
    "cramMode": "Freezing rain = clear-ice factory. Surface above freezing doesnâ€™t matterâ€”aloft can be below 0Â°C. Non-FIKI: avoid completely.",
    "reference": "Aviation Weather Handbook (Icing/Freezing precipitation), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q78",
    "title": "Weather - Carburetor Icing on a â€œNice Dayâ€",
    "category": "Weather & Services",
    "topic": "Weather - Carb Ice Risk Without Visible Moisture",
    "airports": "KCHS (Charleston) local flight",
    "aircraft": "Cessna 172 (carbureted engine)",
    "scenario": "Itâ€™s a mild spring day: temperature 65Â°F, dewpoint 62Â°F, light winds, and scattered clouds. You depart for a local practice flight. During descent at reduced power, the engine starts running rough and RPM drops.\n\nYour passenger says, â€œHow can icing happen? Itâ€™s warm and not raining.â€",
    "question": "Whatâ€™s the likely cause and the immediate action?",
    "correctAnswer": "Likely **carburetor icing** due to high humidity and the temperature drop in the carb throat, especially at reduced power. Immediate action: apply **carb heat** (expect a further RPM drop briefly), keep it on until the engine runs smooth, and adjust power/mixture as needed. Then reassess whether to continue or return.",
    "trapReasoning": "â€œIcing only happens near freezing temperatures or in clouds. This must be bad fuel or a mechanical failure.â€",
    "whyThisMatters": "Carb ice can form at surprisingly warm temperatures when humidity is highâ€”especially during low-power operations. Misdiagnosing it wastes time while the engine continues losing power. Correct, timely use of carb heat is a core weather-and-systems crossover skill for checkrides: recognize the conditions and fix the problem immediately.",
    "cramMode": "Warm + humid + low power = carb ice risk. Rough engine/RPM drop in descent? Carb heat first.",
    "reference": "PHAK Chapter 7 (Engines/Carb ice), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q79",
    "title": "Weather - Altimeter Setting and â€œItâ€™s Only 0.10â€",
    "category": "Weather & Services",
    "topic": "Weather - Pressure Effects and Terrain Clearance",
    "airports": "KBOZ (Bozeman) arrival",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re flying VFR near mountainous terrain. The altimeter setting at your departure was 30.20, but at your destination itâ€™s 29.60 with a strong pressure gradient behind a front. You forget to update your altimeter setting for 30 minutes while descending into the valley.\n\nYour friend says, â€œAltimeter settings are small details. A tenth of an inch doesnâ€™t matter.â€",
    "question": "Whatâ€™s the safety implication of not updating the altimeter setting in this environment?",
    "correctAnswer": "Not updating the altimeter setting can put you **hundreds of feet lower than you think**, reducing terrain clearance. In the mountains, thatâ€™s a big deal. â€œHigh to low, look out belowâ€â€”if pressure decreases and you donâ€™t reset, your true altitude is lower than indicated. I should update settings frequently when thereâ€™s a strong gradient and maintain extra terrain margin.",
    "trapReasoning": "â€œMy GPS shows altitude anyway, so the altimeter setting is mostly irrelevant.â€",
    "whyThisMatters": "In mountain/valley environments, small errors compound with stress and reduced margins. GPS altitude isnâ€™t a substitute for proper instrument setup in normal operations, and not every GPS altitude is baro-corrected. The core checkride lesson is disciplined procedures: update altimeter settings when available, cross-check, and protect terrain clearance.",
    "cramMode": "High to low, look out below. Big pressure drops + no reset = youâ€™re lower than you thinkâ€”dangerous near terrain.",
    "reference": "PHAK Chapter 8 (Altimeter), AIM altimeter procedures",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q80",
    "title": "Weather - â€œScatteredâ€ Doesnâ€™t Mean Easy (Cloud Clearance Practicality)",
    "category": "Weather & Services",
    "topic": "Weather - Cloud Bases, Terrain, and Real-World VFR",
    "airports": "KAVL (Asheville) â†’ KHKY (Hickory)",
    "aircraft": "Cessna 172",
    "scenario": "The METARs show:\n\n- `SCT025 BKN040` along route  \n- Visibility 6â€“7SM in haze  \n- Terrain rising near the departure area\n\nYou plan to fly at 3,500 MSL to stay below the broken layer. In practice, the scattered layer at 2,500 AGL is uneven and sometimes becomes broken over ridges.",
    "question": "Whatâ€™s the trap in planning â€œlegal VFRâ€ with low scattered layers over terrain?",
    "correctAnswer": "The trap is assuming scattered clouds are easy to stay clear of. Over terrain, cloud bases can vary and lower over ridges, forcing you to choose between **scud running** and climbing into reduced cloud clearance margins. Even if legally possible on paper, it can become unsafe quickly. I need more ceiling/visibility margin than the minimums when terrain is a factor.",
    "trapReasoning": "â€œIf itâ€™s SCT, thereâ€™s always a holeâ€”just weave around and stay legal.â€",
    "whyThisMatters": "â€œSCTâ€ is a coverage category, not a guarantee of safe routing. Low scattered layers can act like broken layers in practice when the bases are ragged and terrain pushes you into them. Many VFR-into-IMC accidents begin with â€œIâ€™ll just stay under itâ€ while the route becomes a narrowing tunnel. Good ADM uses personal minimums that incorporate terrain and â€œwhat if it lowers 500 feet.â€",
    "cramMode": "Low SCT over terrain can behave like BKN. Donâ€™t plan to â€œweave holesâ€ near ridgesâ€”build ceiling/vis margin.",
    "reference": "14 CFR 91.155, PHAK Chapter 12 (Weather decisions)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155"
  },
  {
    "id": "Q81",
    "title": "Weather - Virga and Sudden Wind Shifts",
    "category": "Weather & Services",
    "topic": "Weather - Microburst Risk in Dry Air",
    "airports": "KABQ (Albuquerque) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re flying in the Southwest on a hot afternoon. You see rain shafts falling from clouds but evaporating before reaching the ground (**virga**). The surface winds at the airport suddenly increase and shift direction, and you see blowing dust.\n\nYour passenger says, â€œItâ€™s not even raining on the groundâ€”why is the wind getting so crazy?â€",
    "question": "What hazard can virga indicate, and whatâ€™s the correct action near takeoff/landing?",
    "correctAnswer": "Virga can indicate strong downdrafts and **microburst/outflow** potential. Evaporative cooling accelerates descending air, which then spreads out as a gust front at the surface, causing sudden wind shifts and shear. Near takeoff/landing, thatâ€™s a big hazard. I should delay departure/landing, expect wind shear, and avoid the area until the virga/outflow passes.",
    "trapReasoning": "â€œNo rain on the runway means no storm threat.â€",
    "whyThisMatters": "The danger isnâ€™t the rainâ€”itâ€™s the vertical wind and outflow. Virga is a visual cue that the atmosphere is primed for strong downdrafts. Light aircraft are especially vulnerable near the ground when the wind changes faster than you can correct. Good ADM is recognizing the cue and refusing to â€œtime it.â€",
    "cramMode": "Virga = evaporative cooling = downdraft/outflow risk. No rain on the ground doesnâ€™t mean no microburst hazard.",
    "reference": "Aviation Weather Handbook (Thunderstorms/Microbursts)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q82",
    "title": "Weather - Squall Line vs â€œA Few Cellsâ€",
    "category": "Weather & Services",
    "topic": "Weather - Convective Organization and Route Planning",
    "airports": "KMEM (Memphis) â†’ KBNA (Nashville)",
    "aircraft": "Cessna 172",
    "scenario": "Radar shows a long, solid line of thunderstorms oriented north-south and moving east. The line crosses your entire route corridor. You can see towering clouds and a shelf-like feature on the leading edge.\n\nYour friend says, â€œWeâ€™ll just go around the worst part or find a gap.â€",
    "question": "What makes a squall line fundamentally different from isolated cells for VFR planning?",
    "correctAnswer": "A squall line often behaves like a **moving wall**: widespread severe turbulence, strong winds, wind shear, and embedded cores with limited safe gaps. Even if a â€œgapâ€ exists now, it can close quickly. The correct decision is to delay, reroute widely, or cancelâ€”treat it as a barrier, not a slalom course.",
    "trapReasoning": "â€œThunderstorms are point hazards. If Iâ€™m patient, I can pick my way through.â€",
    "whyThisMatters": "Organized convective lines can outpace your ability to â€œmanageâ€ them in a light aircraft. The hazards extend beyond the rain core (gust fronts, anvil, shear), and the line often forces you into longer deviations with fuel/time pressureâ€”exactly when pilots make poor decisions. The checkride-grade answer is recognizing convective organization and choosing not to engage.",
    "cramMode": "Squall line = barrier, not slalom. Gaps can close; hazards extend wide. Delay/reroute big or donâ€™t go.",
    "reference": "AIM Chapter 7 (Thunderstorms), Aviation Weather Handbook",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q83",
    "title": "Weather - Radar Attenuation (The â€œClear Behind Itâ€ Illusion)",
    "category": "Weather & Services",
    "topic": "Weather - Interpreting Heavy Returns Correctly",
    "airports": "KOKC (Oklahoma City) area",
    "aircraft": "Cessna 172",
    "scenario": "On your EFB radar, you see a strong red core of precipitation. Behind it (downrange), the display looks relatively clear. Your passenger says, â€œOnce we get past the red part, itâ€™s fine.â€",
    "question": "How should you interpret this TAF for a VFR go/no-go decision?",
    "correctAnswer": "Heavy precipitation can cause **radar attenuation**, where the signal is weakened and the display under-represents whatâ€™s behind the core. The â€œclearâ€ area might actually be more storms. The safe response is conservative separation from the entire convective region and not using a single radar picture to justify penetration.",
    "trapReasoning": "â€œIf radar shows clear, itâ€™s clear. Red is the only dangerous part.â€",
    "whyThisMatters": "Radar productsâ€”especially mosaicsâ€”have limitations. Attenuation and processing can hide the true structure of storms. The checkride-quality thinking is: if youâ€™re close enough to care about attenuation, youâ€™re already too close. Keep wide separation and avoid relying on â€œclear behind itâ€ reasoning.",
    "cramMode": "Heavy core can hide whatâ€™s behind it (attenuation). Donâ€™t trust â€œclear downrangeâ€ near strong returnsâ€”stay well clear.",
    "reference": "AIM Chapter 7 (Weather radar/datalink limitations), Aviation Weather Handbook",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q84",
    "title": "Weather - Haze vs Smoke vs Mist (Decision Impact)",
    "category": "Weather & Services",
    "topic": "Weather - Visibility Reduction and Operational Risk",
    "airports": "KSMF (Sacramento) â†’ KRNO (Reno)",
    "aircraft": "Cessna 172",
    "scenario": "Itâ€™s late summer and wildfires are burning hundreds of miles away. Your departure METAR shows 7SM HZ. Your destination shows 6SM FU (smoke), and the sun looks dim and orange.\n\nYour passenger says, â€œSix miles is legal. Letâ€™s go.â€",
    "question": "Whatâ€™s the practical risk here even if youâ€™re technically legal, and whatâ€™s your plan?",
    "correctAnswer": "Reduced visibility from smoke/haze can make it hard to see terrain, traffic, and horizonâ€”especially near rising terrain and late-day lighting. It can also worsen unexpectedly. Even if legal, it may be unsafe due to loss of visual cues and increased collision/CFIT risk. Iâ€™d consider delaying, choosing a route with better outs, setting higher personal visibility minimums, and being ready to divert early.",
    "trapReasoning": "â€œVisibility numbers are all that matter. If itâ€™s â‰¥3SM, itâ€™s safe VFR.â€",
    "whyThisMatters": "Visibility minimums are legal floors, not guarantees of good visual reference. Smoke can create deceptive visibility: you may have â€œ6SMâ€ but still have poor contrast and limited horizon definition. In mountainous areas, thatâ€™s a terrain trap. Good ADM recognizes that â€œlegal VFRâ€ can still be a bad decision if your visual cues are degraded.",
    "cramMode": "Smoke/haze can be â€œlegal but unsafeâ€ VFRâ€”poor contrast/horizon/terrain cues. Use higher personal vis mins and divert early.",
    "reference": "14 CFR 91.155, PHAK Chapter 12 (Weather hazards)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.155"
  },
  {
    "id": "Q85",
    "title": "Weather - Dewpoint Spread and â€œFog Laterâ€",
    "category": "Weather & Services",
    "topic": "Weather - Fog Formation Timing and Risk",
    "airports": "KGRR (Grand Rapids) evening arrival",
    "aircraft": "Cessna 172",
    "scenario": "You plan to return near sunset. The destination is currently VFR, but temperature and dewpoint are converging:\n\n- 2 hours ago: 12Â°C / 5Â°C  \n- Now: 10Â°C / 9Â°C  \nWinds are light and skies are mostly clear.\n\nYour friend says, â€œItâ€™s clear. Fog canâ€™t just appear.â€",
    "question": "What does a rapidly shrinking T/Td spread suggest, and whatâ€™s the risk for your return plan?",
    "correctAnswer": "A shrinking temperature/dewpoint spread with light winds and clear skies suggests **radiation fog** is likely to form as the surface coolsâ€”possibly quickly after sunset. The risk is getting stranded or forced into a rushed decision as visibility collapses. I should plan to return earlier, have alternates, and watch trends, not just the current METAR.",
    "trapReasoning": "â€œFog is random. If itâ€™s VFR now, it will stay VFR for the next couple hours.â€",
    "whyThisMatters": "Fog formation can be predictable when the ingredients align: high humidity (T/Td close), light winds, and nocturnal cooling. Many â€œunexpected fogâ€ stories are actually â€œignored trendâ€ stories. Good ADM uses trends to protect against getting trapped after dark when options are fewer.",
    "cramMode": "T/Td closing fast + light winds + clear sky near sunset = fog risk. Trends beat snapshotsâ€”plan alternates and return early.",
    "reference": "AC 00-45H (Aviation Weather Services), Aviation Weather Handbook (Fog)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q86",
    "title": "Weather - Advection Fog on the Coast (Doesnâ€™t â€œBurn Offâ€)",
    "category": "Weather & Services",
    "topic": "Weather - Fog Types and Persistence",
    "airports": "KSFO (San Francisco) area",
    "aircraft": "Cessna 172",
    "scenario": "Itâ€™s midday and cool marine air is flowing inland. The coast is socked in, and the METAR shows low ceilings with mist. Your friend says, â€œJust wait until noonâ€”fog always burns off.â€",
    "question": "Why can coastal fog persist all day, and how do you plan around it?",
    "correctAnswer": "Coastal fog is often **advection fog** driven by a steady supply of cool moist air moving over a cooler surface and being pushed inland. If the onshore flow continues, it may *not* burn offâ€”especially near the coast. Planning requires choosing inland alternates, watching wind direction/strength, and not assuming a time-based improvement.",
    "trapReasoning": "â€œAll fog is radiation fog. Sun = guaranteed improvement.â€",
    "whyThisMatters": "Different fog types behave differently. Advection fog can be stubborn because the mechanism isnâ€™t overnight coolingâ€”itâ€™s ongoing moisture transport and cooling. Treating all fog like â€œmorning fogâ€ leads to bad planning and time pressure.",
    "cramMode": "Coastal advection fog can persist all day if onshore flow continues. Donâ€™t use â€œitâ€™ll burn off by noonâ€ as a plan.",
    "reference": "Aviation Weather Handbook (Fog types), PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q87",
    "title": "Weather - Upslope Flow and Low Ceilings",
    "category": "Weather & Services",
    "topic": "Weather - Terrain-Induced Cloud Formation",
    "airports": "KCOS (Colorado Springs) local area",
    "aircraft": "Cessna 172",
    "scenario": "Winds are blowing steadily from the plains toward the foothills. The sky looks â€œmostly okayâ€ over the airport, but you notice low clouds forming and thickening against the rising terrain west of town.\n\nYour CFI asks, â€œWhy are ceilings lower near the foothills even when itâ€™s better over the plains?â€",
    "question": "Your CFI asks, â€œWhy are ceilings lower near the foothills even when itâ€™s better over the plains?",
    "correctAnswer": "Thatâ€™s **upslope flow**: air forced upward by terrain cools, moisture condenses, and cloud bases lower near the slope. Operationally, it can create localized MVFR/IFR near terrain and passes while nearby areas remain VFR. Itâ€™s a trap for VFR pilots who follow valleys toward rising terrain and watch ceilings drop as they go.",
    "trapReasoning": "â€œCeilings are uniform across the area. If itâ€™s VFR at the field, itâ€™s VFR near the hills.â€",
    "whyThisMatters": "Terrain can create micro-weather. A route that looks easy from the ramp can become a narrowing corridor with lowering bases as you approach the slope. Good ADM includes terrain-aware weather thinking: â€œWhat happens as the terrain forces lift?â€",
    "cramMode": "Upslope wind = forced lift = cooling/condensation = lower ceilings near terrain. VFR can deteriorate fast as you approach foothills/passes.",
    "reference": "Aviation Weather Handbook (Orographic effects), PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q88",
    "title": "Weather - Night VFR + Precipitation (Spatial Disorientation Trap)",
    "category": "Weather & Services",
    "topic": "Weather - Night Operations and Reduced Visual Cues",
    "airports": "KAMA (Amarillo) night departure",
    "aircraft": "Cessna 172",
    "scenario": "You plan a night VFR flight. Conditions are legal: visibility 5â€“6SM with light rain and an overcast layer well above pattern altitude. The area is mostly dark with few ground lights.\n\nYour passenger says, â€œItâ€™s legal VFR. Whatâ€™s the big deal?â€",
    "question": "Whatâ€™s the real risk here, and whatâ€™s your safer alternative?",
    "correctAnswer": "The risk is loss of visual cues: rain and haze scatter light and can erase horizon/terrain contrast, increasing spatial disorientation risk and making it harder to see towers/terrain/traffic. Legal doesnâ€™t equal safeâ€”especially at night in a sparsely lit area. Safer alternative: delay until better visibility/ceiling, choose a route with better lighting and higher ceilings/vis, or avoid night VFR in marginal visibility.",
    "trapReasoning": "â€œIf Iâ€™m not in clouds, I canâ€™t get disoriented. Thatâ€™s only an IMC problem.â€",
    "whyThisMatters": "Night VFR in marginal visibility can mimic IMC in terms of lost horizon and degraded perception. Many â€œVFR into IMCâ€ accidents begin with subtle cue loss, not a dramatic cloud entry. Good ADM adds extra margin for night operations.",
    "cramMode": "Night + rain/haze = cue loss and disorientation risk even if â€œlegal VFR.â€ Add big margins or donâ€™t go.",
    "reference": "PHAK Chapter 17 (Aeromedical factors/spatial disorientation), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q89",
    "title": "Weather - â€œVFR Not Recommendedâ€ (What It Really Means)",
    "category": "Weather & Services",
    "topic": "Weather - Advisory Language and Decision Making",
    "airports": "KDSM (Des Moines) â†’ KALO (Waterloo)",
    "aircraft": "Cessna 172",
    "scenario": "You call Flight Service (or read a briefing) and see â€œ**VFR not recommended**â€ along your route due to widespread MVFR ceilings expected, with patchy IFR.\n\nYour friend says, â€œThatâ€™s just a suggestion. If weâ€™re legal under 91.155, we can go.â€",
    "question": "How should you treat â€œVFR not recommended,â€ and whatâ€™s your plan?",
    "correctAnswer": "I should treat it as a strong warning that the forecast environment is likely to trap VFR pilotsâ€”widespread low ceilings, patchy IFR, and limited outs. Even if there are pockets of legal VFR, itâ€™s a high workload, low-margin environment. The safer plan is to delay/cancel or fly with a wide buffer and robust alternates, not â€œtry it and see.â€",
    "trapReasoning": "â€œAdvisories donâ€™t matter. Regulations are the only real standard.â€",
    "whyThisMatters": "â€œVFR not recommendedâ€ is essentially a risk label based on experience: conditions may be legal at times and places but still unsafe due to rapid changes, low ceilings, and poor route options. Itâ€™s a cue to avoid normalizing marginal conditions, especially for training-level pilots.",
    "cramMode": "â€œVFR not recommendedâ€ means the environment is primed to trap VFR pilots. Legal pockets donâ€™t equal safe marginsâ€”avoid or delay.",
    "reference": "14 CFR 91.103, AC 00-45H (Aviation Weather Services)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q90",
    "title": "Weather - Graphical Forecast for Aviation (GFA) vs â€œJust METARsâ€",
    "category": "Weather & Services",
    "topic": "Weather - Using Forecast Products Correctly",
    "airports": "KOMA (Omaha) â†’ KICT (Wichita)",
    "aircraft": "Cessna 172",
    "scenario": "You check METARs and theyâ€™re VFR. Youâ€™re tempted to launch. Your CFI asks, â€œWhat does the bigger forecast say?â€ You open the **Graphical Forecast for Aviation (GFA)** and it shows a broad area of MVFR ceilings moving into your route corridor around your ETA.",
    "question": "Why isnâ€™t checking only METARs enough, and how do you use GFA in your decision?",
    "correctAnswer": "METARs are snapshots at specific points. They can look great while a larger system is moving in. GFA helps visualize ceilings/vis, precipitation, winds, and hazards over time along the route. If GFA shows MVFR/IFR encroaching at my ETA, I should delay/cancel or adjust timing/route rather than relying on â€œitâ€™s VFR right now.â€",
    "trapReasoning": "â€œMETARs are real; forecasts are guesses. Iâ€™ll trust the current reports.â€",
    "whyThisMatters": "Many weather accidents happen because pilots over-weight the present and under-weight the near future. 14 CFR 91.103 explicitly includes forecasts. GFA is a practical tool to see whether youâ€™re about to launch into a shrinking VFR window.",
    "cramMode": "METARs = snapshots. GFA = trend + route picture. If forecast MVFR overlaps ETA, donâ€™t launch just because itâ€™s VFR now.",
    "reference": "14 CFR 91.103, FAA AviationWeather.gov (GFA)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q91",
    "title": "Weather - PIREP Icing/Turbulence Severity (Be Precise)",
    "category": "Weather & Services",
    "topic": "Weather - Operational Communication and Safety",
    "airports": "KBUF (Buffalo) area",
    "aircraft": "Cessna 172",
    "scenario": "You pick up a thin trace of ice on the leading edge while skimming near cloud bases in subfreezing air. You exit the moisture and the ice slowly sublimates/melts. ATC asks, â€œAny icing reports?â€\n\nYour friend says, â€œJust tell them it was â€˜a little icing.â€™â€",
    "question": "How should you report icing/turbulence in a way that actually helps other pilots?",
    "correctAnswer": "I should give a proper PIREP: location, time, altitude, aircraft type, and **severity** (trace/light/moderate/severe) plus any rate of accumulation and whether it was in cloud/precip. For turbulence, I report intensity and whether it was continuous/occasional. Specifics help other pilots and forecasters; vague language doesnâ€™t.",
    "trapReasoning": "â€œATC can see weather. My report doesnâ€™t matter, and details arenâ€™t important.â€",
    "whyThisMatters": "PIREPs are one of the best real-time safety tools for GA. They drive advisories and help other pilots make better decisions. The checkride mindset is professionalism: concise, standardized, and useful reporting.",
    "cramMode": "Good PIREP = where/when/altitude/aircraft + severity + in-cloud/precip details. â€œA little icingâ€ isnâ€™t actionable.",
    "reference": "AIM 7-1-19 (PIREPs), AC 00-45H",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_1.html"
  },
  {
    "id": "Q92",
    "title": "Weather - Cloud Coverage Terms (FEW/SCT/BKN/OVC) and Ceilings",
    "category": "Weather & Services",
    "topic": "Weather - What â€œCeilingâ€ Actually Means",
    "airports": "KAPA (Centennial) local flight",
    "aircraft": "Cessna 172",
    "scenario": "The METAR reads: `FEW020 SCT035 BKN070`. Your friend says, â€œCeiling is 2,000 feet.â€\n\nYour CFI asks, â€œWhatâ€™s the ceiling here, and why?â€",
    "question": "Your CFI asks, â€œWhatâ€™s the ceiling here, and why?",
    "correctAnswer": "The **ceiling** is the lowest layer reported as **BKN or OVC** (or VV). Here, ceiling is **7,000 AGL** (BKN070). FEW and SCT layers are not ceilings. Practically, that means I have substantial vertical room, but I still consider the lower scattered layers for route comfort and cloud clearance planning.",
    "trapReasoning": "â€œAny cloud layer is the ceiling. FEW020 means ceiling 2,000.â€",
    "whyThisMatters": "Misreading ceilings leads to bad decisionsâ€”either unnecessary cancellations or unsafe launches. The DPE is checking whether you understand what limits you operationally. Ceiling definitions matter for planning and for understanding what â€œmarginalâ€ actually is.",
    "cramMode": "Ceiling = lowest BKN/OVC/VV layer. FEW/SCT arenâ€™t ceilings.",
    "reference": "AC 00-45H (Aviation Weather Services), Aviation Weather Handbook (METAR decode)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q93",
    "title": "Weather - Special VFR (SVFR) Temptation",
    "category": "Weather & Services",
    "topic": "Weather - SVFR vs Safe ADM",
    "airports": "KCRQ (McClellan-Palomar) Class D",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re at a Class D airport with a ceiling around 900â€“1,000 feet and visibility 2â€“3SM in mist. Youâ€™re VFR-only and trying to get home before dinner. A pilot on the radio requests and receives **Special VFR**.\n\nYour passenger says, â€œIf they can do it, we can tooâ€”just ask.â€",
    "question": "What do you need to know about Special VFR, and why is it often a bad idea for VFR-only pilots?",
    "correctAnswer": "SVFR can allow operations in Class B/C/D/E surface areas below basic VFR minimums, but it doesnâ€™t magically make conditions safe. SVFR still requires staying clear of clouds and having at least 1SM visibility (for airplanes), and at night it has additional requirements. Even if legal, itâ€™s high workload with low marginsâ€”especially near obstacles and with reduced visibility. For a VFR-only pilot, itâ€™s often a poor risk trade unless conditions are improving and the route is simple and familiar.",
    "trapReasoning": "â€œSVFR is a loophole: if ATC approves, itâ€™s safe and legal no matter what.â€",
    "whyThisMatters": "SVFR is a classic checkride trap because it tests judgment, not trivia. ATC approval is not a safety endorsement; itâ€™s airspace separation. Reduced vis/low ceilings increase CFIT and disorientation risk. A solid answer explains legal basics and then emphasizes ADM: SVFR is not a substitute for good weather.",
    "cramMode": "SVFR is legal relief, not safety relief. ATC approval â‰  safe. Reduced vis/low ceilings = high CFIT/disorientation riskâ€”avoid unless conditions improving.",
    "reference": "14 CFR 91.157, 14 CFR 91.155",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.157"
  },
  {
    "id": "Q94",
    "title": "Weather - â€œScattered Showersâ€ and Route Creep",
    "category": "Weather & Services",
    "topic": "Weather - Embedded Hazards in â€œLightâ€ Forecasts",
    "airports": "KATL (Atlanta) â†’ KCHA (Chattanooga)",
    "aircraft": "Cessna 172",
    "scenario": "The forecast mentions â€œscattered showersâ€ along your route. Radar shows light returns with a few stronger pockets. As you fly, you find yourself making repeated small deviations to stay out of rain, and your route slowly bends toward higher terrain.\n\nYour passenger says, â€œItâ€™s just light rain. Keep going.â€",
    "question": "Whatâ€™s the trap here, and whatâ€™s your decision rule?",
    "correctAnswer": "The trap is **route creep**: each small deviation seems harmless, but it can gradually push me into worse terrain, worse weather, or fuel/time pressureâ€”especially if ceilings are low. My rule is to set a hard limit: if Iâ€™m deviating more than X miles/minutes, or if the remaining route requires continued weaving with shrinking margins, I turn around or divert early.",
    "trapReasoning": "â€œAs long as Iâ€™m not in thunderstorms, shower deviations are routine and low risk.â€",
    "whyThisMatters": "Weather risk often escalates through a chain of small â€œreasonableâ€ choices. A DPE wants to hear that you have pre-decided triggers to stop the chain. Itâ€™s not about fear of rain; itâ€™s about recognizing when the environment forces you into decisions with less margin.",
    "cramMode": "Scattered showers can create route creep. Small deviations + low ceilings + terrain = shrinking margin. Use hard divert/turn-back triggers.",
    "reference": "14 CFR 91.103, PHAK risk management guidance",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q95",
    "title": "Weather - Winds Aloft and Mechanical Turbulence Near Terrain",
    "category": "Weather & Services",
    "topic": "Weather - Wind/Terrain Interaction",
    "airports": "KBZN (Bozeman) arrival",
    "aircraft": "Cessna 172",
    "scenario": "Winds aloft at 6,000â€“9,000 feet are 40+ knots across nearby ridges. Surface winds at the airport are â€œonlyâ€ 12G20. You plan to fly a standard pattern near rising terrain.\n\nYour friend says, â€œIf surface winds arenâ€™t that high, turbulence wonâ€™t be that bad.â€",
    "question": "Why can strong winds aloft still create severe turbulence near the surface, and whatâ€™s your mitigation?",
    "correctAnswer": "Strong winds aloft interacting with terrain can create **mechanical turbulence, rotor, and downdrafts** that extend into the pattern area even if surface winds are moderate. Mitigation: avoid lee-side approaches when possible, keep extra airspeed margin within safe limits, be ready to go around early, and consider delaying or diverting if turbulence/shear is likely.",
    "trapReasoning": "â€œOnly surface wind matters for turbulence. Winds aloft are an IFR thing.â€",
    "whyThisMatters": "Terrain converts wind into vertical motion and turbulence. In a trainer, that can be a control and energy-management problem close to the ground. A DPE expects you to connect winds aloft + terrain to real operational risk.",
    "cramMode": "Strong winds aloft + terrain = turbulence/shear near the surface. Surface wind alone can hide the real riskâ€”plan for lee-side rotor and go-around early.",
    "reference": "Aviation Weather Handbook (Turbulence/mountain effects), PHAK Chapter 12",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q96",
    "title": "Weather - Temperature/Pressure Trend Clues in METARs",
    "category": "Weather & Services",
    "topic": "Weather - Reading Trends, Not Just the Latest Report",
    "airports": "KMSY (New Orleans) departure",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re about to depart. The latest METAR is still VFR, but over the past 90 minutes:\n\n- Wind increased and shifted  \n- Pressure fell steadily (A2998 â†’ A2976)  \n- Visibility slowly decreased in haze/mist  \n- Clouds thickened from SCT to BKN\n\nYour passenger says, â€œThe latest report is legal. Letâ€™s go.â€",
    "question": "What story do these trends tell, and whatâ€™s your decision?",
    "correctAnswer": "These trends suggest deteriorating conditionsâ€”possibly an approaching system or boundary. Even if the latest METAR is still â€œlegal,â€ the direction is bad. I should delay until I understand the cause and see stabilization/improvement, or I plan a conservative route with strong alternates and a quick turn-back plan.",
    "trapReasoning": "â€œOnly the latest METAR matters. Trends are overthinking.â€",
    "whyThisMatters": "Weather is dynamic. A single METAR can be misleading, especially when deterioration is gradual. Trend awareness is a core checkride ADM skill: recognize when the margin is shrinking before it becomes an emergency.",
    "cramMode": "Trends beat snapshots. Falling pressure + thickening clouds + decreasing vis = deteriorating systemâ€”donâ€™t launch just because the latest METAR is still VFR.",
    "reference": "14 CFR 91.103, AC 00-45H (Aviation Weather Services)",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q97",
    "title": "Weather - When the AWOS is Out (Weather Source Redundancy)",
    "category": "Weather & Services",
    "topic": "Weather - Getting â€œAll Available Informationâ€",
    "airports": "KPVU (Provo) arrival",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re inbound to a non-towered airport and the AWOS is out of service. You can see the field but notice haze in the valley and clouds hugging nearby ridges.\n\nYour friend says, â€œNo AWOS, no problemâ€”we can just eyeball it.â€",
    "question": "What other sources should you use, and how does this tie into 91.103?",
    "correctAnswer": "I use nearby airport METARs/TAFs, pilot reports, radar/satellite, area forecasts, and I can call Flight Service or use EFB weather. I also evaluate windsocks/visual cues on arrival. 14 CFR 91.103 requires becoming familiar with all available information; if the primary source is down, I increase redundancy and make more conservative decisions.",
    "trapReasoning": "â€œIf I can see the runway, I donâ€™t need weather information.â€",
    "whyThisMatters": "â€œSeeing the fieldâ€ doesnâ€™t tell you trends, ceilings a few miles away, or what the valley/terrain is doing. Weather redundancy is part of professionalism and safety.",
    "cramMode": "No AWOS = increase redundancy: nearby METAR/TAF, PIREPs, radar/sat, FSS/EFB. 91.103 means â€œall available,â€ not â€œwhatever is convenient.â€",
    "reference": "14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q98",
    "title": "Weather - Icing Type Recognition (Rime vs Clear vs Mixed)",
    "category": "Weather & Services",
    "topic": "Weather - Recognizing and Responding to Ice",
    "airports": "KSYR (Syracuse) area",
    "aircraft": "Cessna 172 (not approved for known icing)",
    "scenario": "You unintentionally pick up ice in visible moisture at subfreezing temperatures. The ice looks rough and opaque on the leading edge at first. Later it becomes smoother and more glassy.\n\nYour passenger asks, â€œDoes the type of ice matter?â€",
    "question": "Whatâ€™s the difference between rime and clear ice, and why is clear ice particularly dangerous?",
    "correctAnswer": "Rime ice forms from small droplets and tends to be rough/opaque, building forward into the airflow. Clear ice forms from larger supercooled droplets that spread and freeze as a smooth, heavy coating. Clear ice is dangerous because itâ€™s heavier, can form beyond protected surfaces, and can change airfoil shape rapidly, severely degrading lift and increasing stall speed. In a non-FIKI aircraft, any ice is a cue to exit icing conditions immediately.",
    "trapReasoning": "â€œIce is ice. If it looks smooth, itâ€™s probably not that bad.â€",
    "whyThisMatters": "Different icing types imply different droplet sizes and accumulation behavior. Clear ice can overwhelm the aircraft quickly and is harder to see early. Checkrides want you to connect the observation to action: donâ€™t debate the taxonomyâ€”get out of it.",
    "cramMode": "Rime = rough/opaque; clear = smooth/heavy and often worse. In non-FIKI: any ice = exit now.",
    "reference": "Aviation Weather Handbook (Icing), PHAK weather guidance",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q99",
    "title": "Weather - â€œCeiling is 3,000â€ but the Route is a Trap",
    "category": "Weather & Services",
    "topic": "Weather - Area vs Point Forecast Errors",
    "airports": "KSEA (Seattle) â†’ KPAE (Paine Field)",
    "aircraft": "Cessna 172",
    "scenario": "Both airports show a 3,000-foot broken layer and 6SM visibilityâ€”legal. But your route follows water and low hills where localized stratus sometimes drops lower. Youâ€™ve seen it happen before: the â€œgapâ€ closes between the endpoints.\n\nYour passenger says, â€œBoth airports are fine. The route must be fine too.â€",
    "question": "Why can endpoint weather be misleading, and whatâ€™s your mitigation?",
    "correctAnswer": "Weather can vary significantly between stations due to local terrain, water, and microclimates. A route can be worse than both endpoints. Mitigation: check intermediate stations/cams, PIREPs, satellite, and set stricter personal minimums for the corridor. Also plan a route with immediate divert options and a hard turn-back trigger.",
    "trapReasoning": "â€œIf departure and destination are VFR, the enroute weather is guaranteed to be VFR.â€",
    "whyThisMatters": "This is a classic VFR trap: focusing on endpoints instead of the corridor. 91.103 is route-based. Good ADM is building route-specific information and not assuming uniform conditions.",
    "cramMode": "Endpoints can lie. Microclimates can make the route worse than both airports. Get corridor data and set hard turn-back triggers.",
    "reference": "14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q100",
    "title": "Weather - â€œOne More Lookâ€ (Pressure + Weather = Bad Math)",
    "category": "Weather & Services",
    "topic": "Weather - Decision Making Under Pressure",
    "airports": "KDAL (Dallas Love) â†’ KACT (Waco)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re running late for a family event. Weather is borderline: MVFR ceilings are reported along the route with patchy IFR nearby. You tell yourself youâ€™ll â€œtake off and see,â€ because you donâ€™t want to disappoint anyone.\n\nYour DPE asks: â€œWhatâ€™s your decision process when you feel pressure to go in marginal weather?â€",
    "question": "What do you say?",
    "correctAnswer": "I recognize pressure as a hazard and deliberately slow the decision down. I apply a pre-set framework: personal minimums, trend analysis, alternates, and hard triggers for divert/return. If conditions are near my limits, I donâ€™t launch hoping it improvesâ€”I choose a safer plan (delay, drive, reschedule). I also communicate early so the social pressure doesnâ€™t build.",
    "trapReasoning": "â€œIâ€™ll be extra careful. If it gets bad, Iâ€™ll just turn around.â€",
    "whyThisMatters": "Pressure doesnâ€™t improve weather; it reduces your willingness to quit. Many accidents are â€œplan continuation biasâ€ plus marginal conditions. The checkride is testing whether you can manage yourself, not just read METARs.",
    "cramMode": "Pressure is a hazard. Use pre-set personal minimums + hard divert/return triggers. Donâ€™t launch hoping it improvesâ€”choose a safer plan.",
    "reference": "FAA-H-8083-2 (Risk Management Handbook), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q34",
    "title": "Weight & Balance - Missing Passenger Weight",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - Calculation Accuracy",
    "airports": "Ksdl (Scottsdale) â†’ KPGA (Page)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a cross-country from Scottsdale (KSDL) to Page (KPGA) with three passengers. During weight and balance calculations, you ask each passenger their weight:\n\n- Passenger 1: \"About 200 pounds\"\n- Passenger 2: \"Maybe 180 or so\"\n- Passenger 3: \"I don't want to say - just use 170\"\n\nYou add their stated weights (200 + 180 + 170 = 550 lbs) plus your weight (185 lbs), baggage (60 lbs), and fuel. The result shows you're 50 lbs under max gross weight and within CG limits.\n\nYour CFI asks, \"Did you account for actual passenger weights, or what they told you?\"",
    "question": "Is your weight and balance calculation valid?",
    "correctAnswer": "No. Under 14 CFR 91.103, I must determine the aircraft is within weight and balance limits before flight. Using estimated or potentially inaccurate passenger weights creates an unsafe condition. I need actual weights.",
    "trapReasoning": "Passengers told me their weights - that's good enough for the calculation",
    "whyThisMatters": "14 CFR 91.103 requires pilots to become familiar with \"all available information\" before flight, including weight and balance calculations. People often underestimate their weight by 10-30 pounds. If all three passengers are heavier than they claimed (a common scenario), you could be significantly over gross weight without knowing it. The consequences: reduced climb performance, longer takeoff roll, reduced maneuverability, potential structural damage, and an unsafe flight. You must either weigh passengers (ideal), use FAA standard weights with winter clothing allowances, or use conservative estimates. Accepting vague estimates like \"about 200\" or \"maybe 180\" doesn't meet the requirement for accurate weight and balance.",
    "cramMode": "W&B calculations must use actual weights, not passenger estimates. People underestimate weight by 10-30 lbs. Weigh passengers or use conservative FAA standard weights.",
    "reference": "14 CFR 91.103, 14 CFR 91.9",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q35",
    "title": "Weight & Balance - CG Within Range But Close",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - CG Limits and Safety",
    "airports": "KFXE (Fort Lauderdale) â†’ KFPR (St. Lucie)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a flight from Fort Lauderdale (KFXE) to St. Lucie (KFPR) with full fuel and two heavy passengers in the front seats (you and a 240-lb passenger). No rear passengers, and baggage area is empty.\n\nYour weight and balance calculation shows:\n- Takeoff weight: 2,295 lbs (5 lbs under max gross of 2,300 lbs)\n- CG: 35.2 inches (forward limit is 35.0 inches, aft limit is 47.3 inches)\n\nYou're 0.2 inches inside the forward CG limit - technically legal. The weather is calm, and it's a short flight.",
    "question": "Is this flight legal and safe?",
    "correctAnswer": "Legal yes, but questionable safety decision. I'm only 0.2 inches from the forward CG limit. Under 14 CFR 91.9, I cannot exceed CG limits, but being this close creates handling issues. I should reconsider loading.",
    "trapReasoning": "Weight and balance is within limits - if it's legal, it's safe",
    "whyThisMatters": "14 CFR 91.9 requires operating within weight and CG limits in the POH. You're technically legal (0.2 inches inside forward limit), but being this close to the limit creates real handling issues: heavy elevator forces, difficulty flaring for landing, nose-wheel damage risk, reduced stall margin, and limited elevator authority. POH limits include safety margins, but operating at the extreme edges uses up those margins. Consider redistributing weight (move baggage forward if you have any rear baggage, or reduce fuel slightly and refuel at destination) or declining the flight if you can't safely load the aircraft. Legal doesn't always mean smart.",
    "cramMode": "Must operate within W&B limits per 91.9. Legal â‰  always safe. Near CG limits = reduced handling margins. Consider redistributing weight.",
    "reference": "14 CFR 91.9",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.9"
  },
  {
    "id": "Q36",
    "title": "Weight & Balance - Fuel Burn and CG Shift",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - In-Flight CG Changes",
    "airports": "KTUS (Tucson) â†’ KABQ (Albuquerque)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a 2.5-hour cross-country from Tucson (KTUS) to Albuquerque (KABQ). You complete your weight and balance calculations for takeoff with full fuel (53 gallons) and one passenger in the right front seat.\n\nTakeoff W&B:\n- Weight: 2,280 lbs (20 lbs under max gross)\n- CG: 46.8 inches (well within limits: 35.0 - 47.3 inches)\n\nYou'll burn approximately 24 gallons during the flight. The fuel tanks are located at station 48 (behind the CG). Your passenger asks, \"Do we need to check weight and balance for landing, or just takeoff?\"",
    "question": "Are your takeoff calculations sufficient, or do you need to calculate landing W&B?",
    "correctAnswer": "I need to calculate landing weight and balance. Burning fuel moves CG forward. With fuel at station 48 (behind current CG of 46.8), I'll lose weight aft of CG, shifting it forward toward the limit of 35.0 inches.",
    "trapReasoning": "If I'm legal at takeoff with the most weight, I'll definitely be legal at landing with less weight",
    "whyThisMatters": "Fuel location matters for CG shifts. In most Cessnas, fuel tanks are behind the CG range, so burning fuel shifts CG forward. Your takeoff CG is 46.8 (near aft limit of 47.3), but burning 24 gallons (144 lbs) from station 48 will shift CG significantly forward. You could violate the forward CG limit at landing even though you were legal at takeoff. Calculate both takeoff and landing W&B, and if landing CG approaches forward limit, consider reducing fuel load or repositioning weight. The POH may have a specific chart for CG shift due to fuel burn.",
    "cramMode": "Fuel behind CG: burning fuel shifts CG forward. Must calculate both takeoff and landing W&B to ensure limits not exceeded.",
    "reference": "14 CFR 91.9, POH Section 6",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.9"
  },
  {
    "id": "Q37",
    "title": "Weight & Balance - Ballast Requirement",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - Light Weight Operations",
    "airports": "KDVT (Deer Valley) local",
    "aircraft": "Cessna 172",
    "scenario": "You're a 140-lb pilot planning a solo pattern work session at Deer Valley (KDVT). The aircraft has minimal fuel (15 gallons for local pattern work) and no baggage. You complete your weight and balance:\n\n- Weight: 1,950 lbs (350 lbs under max gross)\n- CG: 34.2 inches (forward limit is 35.0 inches)\n\nYour CG is 0.8 inches forward of the forward limit. The POH has a note: \"Ballast may be required for solo operations with minimal fuel.\" There's a 50-lb sandbag in the hangar labeled \"BALLAST - Place in baggage area when required.\"",
    "question": "Is it safe to depart, or what action should you take?",
    "correctAnswer": "I cannot depart - my CG is forward of the 35.0-inch limit. Under 14 CFR 91.9, I must operate within CG limits. I need to add the 50-lb ballast to the baggage area to shift CG aft.",
    "trapReasoning": "I'm 350 pounds under gross weight - there's plenty of safety margin even if CG is slightly forward",
    "whyThisMatters": "Operating outside CG limits is illegal per 14 CFR 91.9, regardless of how much weight margin you have. Forward CG creates heavy elevator forces, difficulty flaring, potential nose-wheel damage, and reduced elevator authority at slow speeds. The POH specifically notes ballast may be required for solo flight with low fuel because light weight in the front (just the pilot) with minimal fuel (also forward of CG in many aircraft) creates an excessively forward CG. Add the 50-lb ballast to the baggage area (aft of CG), recalculate, and verify you're within limits before departing. Ballast must be secured and noted on the W&B sheet.",
    "cramMode": "CG limits are hard stops per 91.9. Can't fly outside limits regardless of weight. Solo + low fuel = often needs ballast in baggage area.",
    "reference": "14 CFR 91.9, POH Section 6",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.9"
  },
  {
    "id": "Q38",
    "title": "Weight & Balance - Baggage Area Overload",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - Compartment Limits",
    "airports": "KPHX (Phoenix) â†’ KFLG (Flagstaff)",
    "aircraft": "Cessna 172",
    "scenario": "You're flying from Phoenix (KPHX) to Flagstaff (KFLG) with three passengers and camping gear. Each passenger has a 30-lb bag (90 lbs total). You have a 40-lb cooler. Total baggage: 130 lbs.\n\nYour weight and balance calculation:\n- Total weight: 2,240 lbs (60 lbs under max gross of 2,300 lbs)\n- CG: 42.5 inches (well within 35.0 - 47.3 range)\n\nThe POH baggage area placard says: \"BAGGAGE AREA: 120 LBS MAX.\" You figure since you're 60 lbs under gross weight, the extra 10 lbs in the baggage area is fine - the aircraft can handle it.",
    "question": "Does this loading meet regulatory requirements?",
    "correctAnswer": "No. The baggage area limit is 120 lbs maximum. I have 130 lbs - 10 lbs over the structural limit. Under 14 CFR 91.9, I cannot exceed limitations in the POH. I need to remove 10 lbs of baggage.",
    "trapReasoning": "I'm 60 pounds under gross weight, so I can exceed the baggage limit by 10 pounds",
    "whyThisMatters": "14 CFR 91.9 requires compliance with operating limitations in the POH. Baggage area limits are structural, not just weight-and-balance numbers. The 120-lb baggage limit exists because the baggage compartment floor is only stressed for 120 lbs - exceeding it risks structural damage to the airframe. Being under gross weight doesn't give you permission to exceed compartment limits. These are separate requirements. Redistribute weight (move lighter items to the cabin area if there's room and it doesn't affect CG), reduce baggage, or make two trips. Exceeding structural limits can cause floor damage, failure in turbulence, or even collapse.",
    "cramMode": "Baggage area limits are structural, not weight. Can't exceed compartment limits even if under gross. POH limits are hard stops per 91.9.",
    "reference": "14 CFR 91.9, POH Section 2",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.9"
  },
  {
    "id": "Q39",
    "title": "Weight & Balance - Moment Calculation Error",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - Calculation Accuracy",
    "airports": "KSNA (Orange County) â†’ KSAN (San Diego)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a flight from Orange County (KSNA) to San Diego (KSAN) with two passengers and baggage. You complete your weight and balance using the \"moment/1000\" method from the POH.\n\nYour calculations:\n- Empty weight moment: 101.2 (from W&B sheet)\n- Pilot + front passenger (350 lbs @ station 37): moment = 350 Ã— 37 = 12,950 Ã· 1000 = 12.95\n- Rear passengers (380 lbs @ station 73): moment = 380 Ã— 73 = 27,740 Ã· 1000 = 27.74\n- Baggage (50 lbs @ station 95): moment = 50 Ã— 95 = 4,750 Ã· 1000 = 4.75\n- Fuel (40 gal = 240 lbs @ station 48): moment = 240 Ã— 48 = 11,520 Ã· 1000 = 11.52\n\nTotal moment: 101.2 + 12.95 + 27.74 + 4.75 + 11.52 = 158.16\nTotal weight: 2,270 lbs\nCG: 158.16 Ã· 2.27 = 69.67 inches\n\nThe POH shows aft CG limit is 47.3 inches. Your calculation shows 69.67 inches - way beyond limits. But you triple-checked the math and it's correct. Your CFI glances at your work and says, \"You made a common mistake.\"",
    "question": "What's wrong with your calculation?",
    "correctAnswer": "The arithmetic isnâ€™t the problem â€” the **input units are**. A C172 CG canâ€™t be ~69 inches on the standard POH CG range, so at least one value you pulled from the W&B sheet is in the wrong column/units (most commonly: you grabbed an **arm** and treated it like a **moment**, or you mixed **moment/100**, **moment/1000**, or a different datum).\n\nTo fix it, Iâ€™d re-check the aircraftâ€™s current W&B sheet and make sure Iâ€™m using a consistent set:\n- If the POH worksheet uses **moment/1000**, use moments in that same unit for *every* line item (including empty weight).\n- Compute CG as: `CG = (Total Moment/1000 Ã— 1000) Ã· Total Weight` (equivalently, `CG = Total Moment Ã· Total Weight` if Total Moment is in full inch-pounds).",
    "trapReasoning": "I followed the POH worksheet exactly and double-checked my arithmetic",
    "whyThisMatters": "W&B failures are often **unit mistakes**, not â€œmath mistakes.â€ The DPE wants to see you sanity-check outputs: if a computed CG is wildly outside the POH envelope, you donâ€™t rationalize it â€” you back up and verify youâ€™re using the correct *current* empty weight/arm/moment values and the correct unit convention for that POH worksheet.",
    "cramMode": "If the CG result is absurd, you probably mixed **arm vs moment** or **moment scaling**. Re-check the empty weight data and keep units consistent end-to-end.",
    "reference": "14 CFR 91.9, POH Section 6",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.9"
  },
  {
    "id": "Q40",
    "title": "Weight & Balance - Amended Weight After Equipment Install",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - Equipment Changes",
    "airports": "KSDL (Scottsdale) â†’ KSEZ (Sedona)",
    "aircraft": "Cessna 172",
    "scenario": "You're planning a flight from Scottsdale (KSDL) to Sedona (KSEZ). During preflight, you notice the aircraft recently had a Garmin GTN 650 GPS installed. The work was completed 2 weeks ago. You check the logbook - there's a maintenance entry for the GPS installation signed off by an A&P.\n\nYou pull out the aircraft weight and balance sheet from the POH - it shows the last weight and balance was done 3 years ago, before the GPS installation. The GPS weighs approximately 4 lbs and is located at station 40 (in the panel).\n\nYou calculate weight and balance using the old W&B data plus your passengers, fuel, and baggage. Everything looks legal.",
    "question": "Is your weight and balance calculation valid for this flight?",
    "correctAnswer": "No. Under 14 CFR 91.417, major alterations require an updated weight and balance. The GPS installation should have included a new W&B calculation. I cannot use the old W&B data - I need the amended data sheet before flight.",
    "trapReasoning": "The GPS only weighs 4 pounds and it's in the panel - I can just add 4 lbs to my calculation",
    "whyThisMatters": "14 CFR 91.417 requires maintenance records for major alterations, including weight and balance revisions when equipment is added or removed. Installing panel-mount avionics is a major alteration that changes the aircraft's empty weight and moment. While 4 lbs seems minor, it's at station 40 (forward), which affects CG. Additionally, the GPS installation may have removed old equipment, and there may have been wiring, trays, or antennas added that you don't know about. The maintenance entry should reference a new weight and balance calculation. Check with the shop that did the installation - they must provide an amended weight and balance data sheet. You cannot legally fly using outdated W&B data after equipment changes.",
    "cramMode": "Equipment changes require amended W&B per 91.417. Can't use old W&B data after avionics install. Get updated W&B sheet from maintenance.",
    "reference": "14 CFR 91.417, 14 CFR 43.9",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-E/section-91.417"
  },
  {
    "id": "Q41",
    "title": "Weight & Balance - Performance Chart Assumptions",
    "category": "Airspace & Regs",
    "topic": "Weight & Balance - Performance Impact",
    "airports": "KASE (Aspen) departure",
    "aircraft": "Cessna 172",
    "scenario": "You're departing Aspen (KASE) - field elevation 7,820 feet MSL. Temperature is 75Â°F. Your weight and balance shows you're at max gross weight (2,300 lbs) with CG at 44.5 inches (within limits).\n\nYou consult the POH takeoff performance chart. The chart shows takeoff distance at gross weight, 8,000 ft density altitude is approximately 2,100 feet ground roll. The runway is 8,000 feet long, so you have plenty of margin.\n\nYour CFI asks, \"What weight did the POH use for those performance calculations?\" You check the chart notes - it says \"Performance data based on 2,300 lbs max gross weight.\"",
    "question": "Will your takeoff performance match the POH chart?",
    "correctAnswer": "Yes, I'm at 2,300 lbs which matches the chart. But I should verify CG is in the range the chart assumes and check for any notes about CG effects on performance. Forward CG can increase takeoff distance.",
    "trapReasoning": "I'm at exactly the weight the chart specifies - my performance will exactly match the numbers",
    "whyThisMatters": "POH performance charts assume specific conditions: weight, CG, temperature, altitude, wind, runway surface, and pilot technique. While you're at the correct weight (2,300 lbs), other factors matter. Your CG of 44.5 is toward the aft end of the range - this can actually improve takeoff performance slightly (less elevator drag). However, forward CG increases drag and can increase takeoff distance beyond chart values. More importantly, the chart assumes professional test pilot technique, new aircraft condition, and no headwind (unless specified). Your actual performance will likely be worse than the chart. Add safety margins - consider 1.5x the chart distance as a conservative personal minimum, especially at high density altitude airports like Aspen.",
    "cramMode": "POH performance charts assume specific conditions. Actual performance usually worse than chart. Use safety margins - especially high altitude.",
    "reference": "14 CFR 91.103, POH Section 5",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q101",
    "title": "XC Planning - 91.103 â€œAll Available Informationâ€ (What Counts)",
    "category": "Weather & Services",
    "topic": "XC Planning - Preflight Requirements and Planning Discipline",
    "airports": "KAPA (Centennial) â†’ KCYS (Cheyenne)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a VFR cross-country from Centennial (KAPA) to Cheyenne (KCYS) for a rental checkout that starts at 2:00 PM. You check the departure and destination METARs/TAFs (both VFR), look at radar (clear), and glance at NOTAMs quickly.\n\nAt the counter, the line guy says, â€œCheyenneâ€™s runway lights have been weird lately and I heard something about construction.â€",
    "question": "Under 14 CFR 91.103, what information are you required to review for this flight, and whatâ€™s your practical checklist before you say â€˜goâ€™?",
    "correctAnswer": "91.103 requires I become familiar with *all available information* concerning the flight. Practically that means: weather reports/forecasts along the route, fuel requirements, runway lengths, performance data, known delays, and especially NOTAMs (runway/lighting/nav aids/closures). Iâ€™d do a structured briefing: route weather + alternates, NOTAMs for departure/enroute/destination, runway analysis (length/slope/wind), aircraft performance and weight & balance for todayâ€™s conditions, fuel plan with reserves, and a diversion plan. I donâ€™t treat â€œheard somethingâ€ as noise â€” I verify NOTAMs and current airport status.",
    "trapReasoning": "â€œIf METARs/TAFs are VFR and I have enough fuel, thatâ€™s basically 91.103 compliance.â€",
    "whyThisMatters": "91.103 is the foundation of safe XC planning and the FAAâ€™s expectation is that you donâ€™t cherry-pick the convenient parts. Many â€œsurprisesâ€ (closed runway, out-of-service lights, GPS interference, displaced threshold, inop AWOS) are discoverable before you launch. The DPE is looking for disciplined, repeatable planning â€” not â€œI checked the weather.â€",
    "cramMode": "91.103 = â€œall available info,â€ not â€œsome info.â€ Use a repeatable briefing: weather + NOTAMs + runway/perf + W&B + fuel + diversion plan.",
    "reference": "14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q102",
    "title": "XC Planning - Wind Correction & Groundspeed (Given Numbers)",
    "category": "Weather & Services",
    "topic": "XC Planning - Wind Triangle / E6B Practical Use",
    "airports": "KPAO (Palo Alto) â†’ KMRY (Monterey)",
    "aircraft": "Cessna 172",
    "scenario": "You plan a VFR leg with a true course of **090Â°**. Forecast winds aloft at your cruise altitude are **150Â° at 20 knots**. Your true airspeed is **105 KTAS**. Youâ€™re trying to make an arrival time window for a meeting, so your ETA matters.",
    "question": "Approximately what heading and groundspeed should you plan, and why?",
    "correctAnswer": "I have a significant crosswind and some headwind component. With a 60Â° wind angle difference (150 vs 090), crosswind is about 20 Ã— sin(60) â‰ˆ 17 knots and headwind is about 20 Ã— cos(60) â‰ˆ 10 knots. WCA â‰ˆ arcsin(17/105) â‰ˆ 9â€“10Â°. The wind will push me left, so I correct right: planned heading about **100Â°**. Groundspeed â‰ˆ 105 âˆ’ 10 â‰ˆ **95 knots**. This is planning-level accuracy; Iâ€™ll update in flight with actual winds.",
    "trapReasoning": "â€œWind only changes your groundspeed. If I fly 090Â°, Iâ€™ll track 090Â°.â€",
    "whyThisMatters": "XC planning isnâ€™t just â€œpick a line.â€ Wind correction keeps you on course and groundspeed drives fuel/time decisions. Many pilots get behind the airplane because they didnâ€™t plan a realistic groundspeed and then discover late that theyâ€™re burning daylight/fuel margin.",
    "cramMode": "Plan both: WCA keeps you on course; head/tailwind drives ETA. If crosswind is ~15% of TAS, expect ~9Â° correction.",
    "reference": "PHAK Chapter 15 (Navigation), AFH cross-country planning concepts",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q103",
    "title": "XC Planning - Fuel Plan (Taxi/Climb + Legal Reserves)",
    "category": "Weather & Services",
    "topic": "XC Planning - Fuel Requirements and Realistic Planning",
    "airports": "KSDL (Scottsdale) â†’ KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re departing Scottsdale (KSDL) for Prescott (KPRC) in the afternoon (day VFR). You plan:\n\n- Taxi + runup fuel: **0.5 gal**  \n- Climb fuel: **1.5 gal**  \n- Cruise: **22 minutes** at **9.0 GPH**  \n- Approach/landing allowance: **0.5 gal**\n\nYou have **12.0 gallons usable** in the tanks at engine start.",
    "question": "Is this legal under VFR fuel requirements? Is it smart?",
    "correctAnswer": "Day VFR requires enough fuel to reach the first point of intended landing plus **30 minutes** at normal cruising speed (91.151) â€” thatâ€™s the **regulatory minimum**, not a â€œgood plan.â€ My planned burn to land is: taxi/runup 0.5 + climb 1.5 + cruise (0.33 hr Ã— 9.0 â‰ˆ 3.0) + 0.5 â‰ˆ **5.5 gal**. That leaves 6.5 gal. At 9.0 GPH, 30 minutes reserve is 4.5 gal, so itâ€™s **legal** with margin. For a safer plan, Iâ€™d target something like **45â€“60 minutes** reserve (personal minimum) because delays, winds, go-arounds, and â€œclimb takes longerâ€ can erase the legal buffer fast.",
    "trapReasoning": "â€œIf I land with 30 minutes showing on the gauge, Iâ€™m good. Exact planning doesnâ€™t matter.â€",
    "whyThisMatters": "91.151 sets a legal minimum, but fuel planning errors compound fast: stronger headwinds, longer climb, delays, go-arounds. The DPE wants to hear that you compute fuel with realistic phases and build a margin instead of â€œI think itâ€™s enough.â€",
    "cramMode": "91.151 day VFR: land with 30-min reserve (night: 45) â€” thatâ€™s minimum legal. Plan taxi/climb too, then add a larger personal buffer (often 45â€“60 min).",
    "reference": "14 CFR 91.151",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.151"
  },
  {
    "id": "Q104",
    "title": "XC Performance - Density Altitude (Given DA) and Go/No-Go",
    "category": "Weather & Services",
    "topic": "XC Planning / Performance - Density Altitude Effects",
    "airports": "KFLG (Flagstaff) departure",
    "aircraft": "Cessna 172",
    "scenario": "Itâ€™s a hot summer afternoon at Flagstaff (KFLG). The computed **density altitude is 9,500 feet**. Youâ€™re near max gross with two adults, bags, and full fuel. The runway is long, but there are rising terrain and obstacles off the departure end.\n\nYour friend says, â€œRunway length is huge â€” weâ€™ll be fine.â€",
    "question": "What does high density altitude do to your takeoff/climb performance, and whatâ€™s your decision framework here?",
    "correctAnswer": "High density altitude reduces engine power, prop efficiency, and wing performance. That means longer takeoff roll, reduced climb rate, and poorer obstacle clearance. My framework: compute performance using the numbers available (or use conservative given data), reduce weight if needed, depart in cooler conditions, choose a runway/wind that helps, and refuse to launch if climb performance wonâ€™t out-climb terrain/obstacles with margin. â€œLong runwayâ€ doesnâ€™t fix â€œcanâ€™t climb.â€",
    "trapReasoning": "â€œIf the runway is long enough to take off, climb performance will take care of itself.â€",
    "whyThisMatters": "Many fatal high-DA accidents start with a normal-looking takeoff roll followed by a mushy climb into terrain. The checkride is looking for the connection: DA affects *both* takeoff distance and climb capability, and terrain makes climb margin the limiting factor.",
    "cramMode": "High DA = worse takeoff AND worse climb. Runway length doesnâ€™t guarantee obstacle clearance â€” performance margin does.",
    "reference": "PHAK Chapter 10 (Aircraft Performance), AFH performance principles",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q105",
    "title": "XC Performance - Takeoff Distance vs Runway Margin (Given Numbers)",
    "category": "Weather & Services",
    "topic": "XC Performance - Takeoff Planning and Safety Margins",
    "airports": "KASE (Aspen) departure",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re departing a short mountain runway. Based on todayâ€™s conditions and your computed weight, your takeoff performance calculation (from the data you were given) shows:\n\n- Ground roll: **1,650 ft**  \n- Distance to clear a 50-ft obstacle: **2,450 ft**\n\nThe runway available is **2,600 ft**. Thereâ€™s a slight tailwind component and the runway is sloped uphill.",
    "question": "Is this a go? What do you say to a DPE?",
    "correctAnswer": "No â€” the raw numbers leave almost no margin, and tailwind/slope/technique variability can easily erase that 150-ft difference. For performance, I want meaningful margin, not â€œit barely fits on paper.â€ Iâ€™d reduce weight, wait for cooler conditions, choose a better wind/runway, or donâ€™t go.",
    "trapReasoning": "â€œThe math says 2,450 and I have 2,600. Thatâ€™s enough.â€",
    "whyThisMatters": "Takeoff performance numbers are not guarantees; they assume precise technique and no surprises. Real-world factors (tailwind, slope, surface, pilot technique, engine health) can push actual performance beyond planned. A DPE wants conservative judgment: if a small error makes you hit trees, itâ€™s a no-go.",
    "cramMode": "If it â€œbarely works on paper,â€ it doesnâ€™t work. Performance planning needs margin for technique + conditions + uncertainty.",
    "reference": "AFH (Takeoff/Performance), PHAK Chapter 10",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q106",
    "title": "XC Performance - Landing Distance Reality Check (Given Numbers)",
    "category": "Weather & Services",
    "topic": "XC Performance - Landing Planning and Decision Making",
    "airports": "KSBP (San Luis Obispo)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re arriving with passengers and you want to â€œmake it work.â€ You compute landing performance (given data) for today:\n\n- Landing distance over 50 ft: **1,750 ft**  \n- Ground roll: **850 ft**\n\nThe runway available is **1,900 ft**. The runway is **wet** and winds are **8 knots tailwind** for the runway you wanted (other runway would be a headwind but has a displaced threshold and traffic).",
    "question": "Is this a smart landing plan? Whatâ€™s your decision?",
    "correctAnswer": "No. Wet surface and tailwind increase landing distance and reduce braking effectiveness, and I have minimal margin even in ideal conditions. I should use the runway with a headwind, divert, or delay. If I canâ€™t guarantee a safe stop with margin, I donâ€™t attempt it.",
    "trapReasoning": "â€œIf I fly a perfect short-field approach, I can beat the book numbers.â€",
    "whyThisMatters": "Tailwind and wet runway are classic â€œsilent multipliers.â€ Many runway overruns occur when pilots rely on best-case numbers while conditions degrade the stopping margin. A DPE wants the conservative decision: choose the runway that gives you the most margin, not the one thatâ€™s convenient.",
    "cramMode": "Wet + tailwind eats landing margin fast. If the numbers are tight in ideal conditions, theyâ€™re not safe in degraded conditions.",
    "reference": "PHAK Chapter 10, AFH (Landing performance)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q107",
    "title": "XC Planning - Weight & Balance (Legal but Forward CG)",
    "category": "Weather & Services",
    "topic": "XC Planning - CG Effects on Performance and Handling",
    "airports": "KTOA (Torrance) â†’ KSMO (Santa Monica)",
    "aircraft": "Cessna 172",
    "scenario": "You load the airplane with two adults in the front seats, full fuel, and no baggage. Your W&B math (given to you) shows youâ€™re **within gross weight** and **within the forward CG limit**, but youâ€™re close to the forward limit.\n\nYour friend says, â€œIf itâ€™s within the envelope, nothing changes.â€",
    "question": "What practical effects does a forward CG have, and how might it affect takeoff/landing performance?",
    "correctAnswer": "Forward CG increases stability but reduces elevator authority, increases stall speed slightly, and can require higher approach speeds and longer takeoff/landing distances. It can make rotation and flare harder. Even though itâ€™s legal, it may reduce my performance margin on short fields or in high DA. Iâ€™d consider redistributing weight (within limits) or adding margin by choosing a longer runway/cooler conditions.",
    "trapReasoning": "â€œCG only matters if itâ€™s out of limits. If itâ€™s inside, it doesnâ€™t affect performance.â€",
    "whyThisMatters": "W&B isnâ€™t a paperwork exercise â€” CG location changes how the airplane flies and how much runway you need. The DPE wants you to connect envelope legality to operational consequences.",
    "cramMode": "Forward CG = harder rotate/flare + longer takeoff/landing. Legal inside envelope can still reduce safety margin.",
    "reference": "PHAK Chapter 10 (Weight & Balance), AFH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q108",
    "title": "XC Planning - CG Shift In Flight (Passenger Moves)",
    "category": "Weather & Services",
    "topic": "XC Planning - In-Flight Risk from Weight Shift",
    "airports": "KRHV (San Jose Reid-Hillview) local flight",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re cruising along and your passenger in the back seat says theyâ€™re uncomfortable and wants to move to the baggage area â€œjust for a minuteâ€ to stretch. Youâ€™re in smooth air and theyâ€™re adamant.",
    "question": "What do you do, and why is this a bigger deal than it sounds?",
    "correctAnswer": "I do not allow passengers to move in a way that changes W&B or compromises safety. Moving aft can shift CG toward or beyond the aft limit, reducing stability and making stalls/spins harder to recover. Itâ€™s also a distraction and a risk of interference with controls. I keep them seated with belts fastened and address comfort on the ground.",
    "trapReasoning": "â€œItâ€™s a small airplane. One person moving a little bit canâ€™t matter.â€",
    "whyThisMatters": "In a light aircraft, a human moving a few feet can meaningfully shift CG. Aft CG reduces longitudinal stability and increases the risk of loss of control, especially at slow speeds. The DPE wants to hear that you manage passengers and keep the airplane within safe limits for the whole flight.",
    "cramMode": "Passengers donâ€™t roam. Weight shifts can change CG and stability fast. Keep belts on and people seated â€” comfort gets handled on the ground.",
    "reference": "PHAK Chapter 10, AFH (Passenger management concepts)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q109",
    "title": "XC Performance - Climb Gradient vs Obstacles (Given Numbers)",
    "category": "Weather & Services",
    "topic": "XC Performance - Obstacle Clearance Planning",
    "airports": "KSEZ (Sedona) departure",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re departing Sedona (KSEZ). Youâ€™re told the safe departure corridor requires clearing a ridge thatâ€™s **900 feet above the runway elevation** within **2.0 NM** of the departure end.\n\nBased on todayâ€™s conditions and weight, your expected climb rate is **450 FPM** and your groundspeed in the climb is **75 knots**.",
    "question": "Can you clear the ridge with margin?",
    "correctAnswer": "Compute climb gradient. 75 knots is 1.25 NM/min. In 2.0 NM, time is 2.0 / 1.25 = 1.6 minutes. At 450 FPM, altitude gained is 450 Ã— 1.6 â‰ˆ **720 feet**. Thatâ€™s less than the required 900 feet, and thatâ€™s before adding any safety margin. So itâ€™s a no-go as configured â€” I need lower weight, cooler temps, better winds, a different departure path, or I donâ€™t depart.",
    "trapReasoning": "â€œ450 FPM climb is fine. Itâ€™ll clear anything if I point the nose up.â€",
    "whyThisMatters": "Obstacle clearance is about climb *gradient*, not just a number on the VSI. High DA and weight reduce climb, and wind changes groundspeed. A DPE wants to see you convert climb performance into a real obstacle decision.",
    "cramMode": "Climb gradient = (FPM) / (NM per minute). If you canâ€™t out-climb terrain on paper with margin, donâ€™t launch.",
    "reference": "PHAK Chapter 10 (Performance), AFH climb performance principles",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q110",
    "title": "XC Planning - Terrain/MEF vs Cloud Bases (Route Selection)",
    "category": "Weather & Services",
    "topic": "XC Planning - Terrain Clearance and Weather Integration",
    "airports": "KBOI (Boise) â†’ KIDA (Idaho Falls)",
    "aircraft": "Cessna 172",
    "scenario": "Your direct route crosses areas where the sectional shows MEFs of **9,500â€“10,500 ft**. The forecast cloud bases along the route are **BKN085** (8,500 AGL in the valley areas, but lower near terrain). Youâ€™re VFR-only, and youâ€™re trying to arrive before the FBO closes.",
    "question": "How do you decide if this route is viable, and whatâ€™s your safer alternative if it isnâ€™t?",
    "correctAnswer": "I need to ensure I can maintain safe terrain clearance and VFR cloud clearances with margin. If MEFs are ~10,500 and cloud bases are effectively near or below my needed cruise altitude, the route becomes a trap: Iâ€™d be forced low into terrain or forced up into clouds. Safer alternatives: take a lower-terrain route even if longer, delay until ceilings lift, or stop short and reassess. â€œDirectâ€ isnâ€™t a requirement.",
    "trapReasoning": "â€œMEF is just a number. If the weather is â€˜VFR,â€™ I can always pick an altitude that works.â€",
    "whyThisMatters": "Terrain + ceilings is one of the most common VFR accident combinations. The DPE wants to hear that you integrate chart terrain information with forecast ceilings, and that you donâ€™t accept a route that forces you into scud running or cloud proximity.",
    "cramMode": "If terrain altitude and cloud bases squeeze the corridor, the route is a trap. Choose lower terrain routes, delay, or stop short â€” donâ€™t â€œmake it work.â€",
    "reference": "14 CFR 91.103, 14 CFR 91.155",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q111",
    "title": "XC Planning - â€œVFR Alternatesâ€ (What Are Your Real Outs?)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Alternates and Decision Points",
    "airports": "KPDK (Peachtree-DeKalb) â†’ KAHN (Athens)",
    "aircraft": "Cessna 172",
    "scenario": "Forecast shows scattered showers and ceilings lowering later. You say, â€œIf Athens goes down, Iâ€™ll just divert somewhere.â€\n\nYour DPE asks, â€œWhere exactly, and whatâ€™s your decision point?â€",
    "question": "Whatâ€™s a good answer?",
    "correctAnswer": "A good answer is specific: I identify at least 2â€“3 alternates with longer runways and services, check their forecast trends, and pick a point in the flight where I commit to divert/return if the trend is worse than expected. I also plan the fuel so the divert isnâ€™t â€œtheoretical.â€ Alternates arenâ€™t vibes â€” theyâ€™re locations with weather/runway/performance compatibility.",
    "trapReasoning": "â€œVFR doesnâ€™t require an alternate, so I donâ€™t need to plan one.â€",
    "whyThisMatters": "VFR flights still need alternates because weather and winds change. The DPE is testing whether youâ€™re proactive: you decide early, not when youâ€™re low on fuel under a lowering ceiling.",
    "cramMode": "VFR alternate isnâ€™t a rule â€” itâ€™s survival. Name them, check them, and set a divert/turn-back trigger before you launch.",
    "reference": "14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q112",
    "title": "XC Planning - Diversion Triggers (Stop the â€œCreepâ€)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Decision Making and Guardrails",
    "airports": "KDAL (Dallas Love) â†’ KTKI (McKinney)",
    "aircraft": "Cessna 172",
    "scenario": "You launch with a comfortable fuel margin. Enroute you get a stronger-than-forecast headwind and your groundspeed drops by 20 knots. Youâ€™re still legal, but your reserve is shrinking. Your passenger says, â€œWeâ€™re already halfway â€” just keep going.â€",
    "question": "What are your diversion triggers, and how do you communicate the decision?",
    "correctAnswer": "I set triggers before Iâ€™m emotionally invested: minimum fuel reserve at destination, maximum acceptable delay, minimum ceiling/visibility trend, and â€œno furtherâ€ points. If the headwind reduction puts me below my planned reserve, I divert early to refuel or turn back. I communicate calmly: â€œOur fuel margin is decreasing; weâ€™re landing to refuel to keep our reserve.â€ This is normal PIC behavior, not a debate.",
    "trapReasoning": "â€œAs long as itâ€™s still legal, itâ€™s okay to continue and see how it goes.â€",
    "whyThisMatters": "Accidents rarely start with a single huge mistake â€” they start with continuing as the margin shrinks. A DPE wants to hear that you use decision guardrails to prevent plan continuation bias.",
    "cramMode": "Set hard triggers: fuel reserve, time delay, weather trend. Divert early while options are plentiful â€” not late when youâ€™re committed.",
    "reference": "14 CFR 91.151, FAA Risk Management Handbook",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.151"
  },
  {
    "id": "Q113",
    "title": "XC Planning - VFR Flight Plan vs Flight Following",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Services and Search-and-Rescue Practicalities",
    "airports": "KCRG (Jacksonville Executive) â†’ KSSI (St. Simons Island)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re crossing marshy areas and coastline. Your passenger asks, â€œIf something happens, how will anyone find us?â€ You consider flight following and a VFR flight plan.",
    "question": "Whatâ€™s the difference, and whatâ€™s your best practice?",
    "correctAnswer": "Flight following is ATC traffic advisory service workload permitting; itâ€™s great but not guaranteed and itâ€™s not the same as a filed/activated VFR flight plan. A VFR flight plan (opened and closed) puts you in the system for search-and-rescue if youâ€™re overdue. Best practice: file and activate a VFR flight plan when flying remote areas, and also request flight following when available.",
    "trapReasoning": "â€œIf Iâ€™m talking to ATC, thatâ€™s the same as a flight plan. No need to file.â€",
    "whyThisMatters": "These are different tools. Flight following can end without you noticing (handoff missed, radio issues), and it doesnâ€™t automatically trigger SAR the way an overdue VFR flight plan can. The DPE is checking whether you understand how to improve survivability beyond â€œhope someone notices.â€",
    "cramMode": "Flight following â‰  flight plan. File/activate/close VFR flight plans for SAR; use flight following as an added layer when you can.",
    "reference": "AIM 5-1 (Flight Plans), 14 CFR 91.103",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap5_section_1.html"
  },
  {
    "id": "Q114",
    "title": "XC Navigation - Lost Procedure (Practical, Not Panic)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Lost Procedures and Workload Management",
    "airports": "KSQL (San Carlos) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re VFR and you realize you canâ€™t positively identify your position. The visibility is hazy, youâ€™re near Class B shelves, and your passenger starts asking questions. Youâ€™re not in immediate danger, but youâ€™re behind the airplane.",
    "question": "Whatâ€™s your step-by-step lost procedure?",
    "correctAnswer": "First: aviate â€” stabilize altitude/heading and reduce workload. Then navigate: use the sectional (rivers, highways, coastline), verify with GPS if available, tune a VOR if appropriate, and identify nearby airports. Communicate early if needed: request flight following or ask ATC for a position check. If uncertainty persists, land at the nearest suitable airport and re-brief. I donâ€™t â€œwanderâ€ near complex airspace.",
    "trapReasoning": "â€œIâ€™ll keep flying until something looks familiar. No need to bother ATC.â€",
    "whyThisMatters": "Getting lost is manageable if you act early. It becomes dangerous when you delay, drift into airspace, or let task saturation build. A DPE expects a calm, structured response.",
    "cramMode": "Lost? Aviate, navigate, communicate â€” early. Use GPS/VOR/landmarks, ask ATC for a position check, and land to reset if needed.",
    "reference": "AIM 5-3 (Pilotage/Dead Reckoning), PHAK navigation guidance",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap5_section_3.html"
  },
  {
    "id": "Q115",
    "title": "XC Planning - GPS Interference / Outage NOTAM",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Navigation Resilience",
    "airports": "KLAX area practice flight",
    "aircraft": "Cessna 172",
    "scenario": "During preflight you see a NOTAM for **GPS interference** in your area during your planned time window. Your plan was â€œGPS directâ€ with minimal pilotage prep because youâ€™re in a hurry.\n\nYour friend says, â€œGPS is always there. Itâ€™ll be fine.â€",
    "question": "How does this change your plan, and whatâ€™s the DPE-grade answer?",
    "correctAnswer": "I donâ€™t rely on GPS as the only nav method when interference is expected. I plan pilotage checkpoints, have VOR frequencies available if equipped, keep paper/backup charts accessible, and plan a route that avoids complex airspace where precise nav is critical. If I canâ€™t maintain situational awareness without GPS, I delay or choose a simpler flight.",
    "trapReasoning": "â€œA GPS interference NOTAM is just for IFR approaches. For VFR it doesnâ€™t matter.â€",
    "whyThisMatters": "Losing GPS doesnâ€™t end the flight â€” but losing *situational awareness* can. A DPE wants to see that you build resilience: donâ€™t let a single point of failure (GPS) be your whole plan.",
    "cramMode": "GPS outage NOTAM = plan for no GPS. Pilotage checkpoints + VOR backup + simpler route/airspace. Donâ€™t make GPS your only plan.",
    "reference": "14 CFR 91.103, AIM GPS NOTAM guidance",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q116",
    "title": "XC Planning - Destination NOTAM (Runway Lights Out at Night)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - NOTAMs and Night Planning",
    "airports": "KICT (Wichita) â†’ KEMP (Emporia)",
    "aircraft": "Cessna 172",
    "scenario": "You plan to arrive near the end of civil twilight for a dinner reservation. Weather is VFR. You then see a destination NOTAM: â€œ**RWY 18/36 MIRL OTS**â€ (runway edge lights out of service). Thereâ€™s no tower and the area is dark outside the city.",
    "question": "Is this still a good plan? Whatâ€™s your decision?",
    "correctAnswer": "Even if legal, itâ€™s a poor plan. With runway lights out at night, landing becomes difficult or unsafe, especially at an unfamiliar, unlit field. The smart choice is to arrive earlier while thereâ€™s still usable light, pick a different airport with functioning lighting, or cancel. I donâ€™t accept a â€œblind landingâ€ risk to keep a reservation.",
    "trapReasoning": "â€œI have a landing light. If I can see the runway at the last second, Iâ€™m fine.â€",
    "whyThisMatters": "Night operations amplify risk. NOTAMs exist to prevent exactly this kind of surprise. A DPE wants you to prioritize safety over schedule and show you understand that a runway isnâ€™t just pavement â€” itâ€™s also lighting, markings, and visual cues.",
    "cramMode": "Runway lights OTS + night arrival = donâ€™t force it. Choose a lit alternate or arrive earlier. Landing light is not runway lighting.",
    "reference": "14 CFR 91.103, AIM airport lighting basics",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q117",
    "title": "XC Planning - Stadium TFR (The â€œQuick Hopâ€ Trap)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - TFR Awareness and Planning Discipline",
    "airports": "KHPN (Westchester County) local area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a short VFR hop near a stadium on a Sunday afternoon. A friend texts you, â€œGame starts at 1 PM â€” come watch!â€ You planned to â€œjust go flyâ€ without a full briefing because itâ€™s local.",
    "question": "Whatâ€™s your TFR risk here, and whatâ€™s your process to avoid it?",
    "correctAnswer": "Stadium TFRs can activate around major sporting events and can easily trap â€œlocalâ€ pilots who skip a briefing. My process: check NOTAMs/TFRs every flight (even local), use FAA-approved sources/EFB TFR overlays, and if thereâ€™s any doubt, re-route well clear or donâ€™t go. I never assume â€œlocal = safe.â€",
    "trapReasoning": "â€œTFRs are rare. If Iâ€™m not near DC, I donâ€™t worry about them.â€",
    "whyThisMatters": "TFR busts are serious: interception risk, enforcement action, and itâ€™s a checkride-grade ADM failure. The DPE wants to hear that you have a repeatable preflight flow that includes TFRs every time.",
    "cramMode": "Local flights still need full preflight. TFRs can pop up (stadiums/VIP). Check TFRs every flight and route wide if unsure.",
    "reference": "14 CFR 91.103, 14 CFR 91.145",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.145"
  },
  {
    "id": "Q118",
    "title": "XC Performance - â€œLighter Is Always Saferâ€ (Forward CG Trap)",
    "category": "Aircraft Systems",
    "topic": "XC Planning / Performance - Weight Reduction Tradeoffs",
    "airports": "KAPA (Centennial) departure",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re worried about density altitude and decide to remove baggage and reduce fuel. The airplane becomes much lighter, but now the loading is close to the **forward CG limit**.\n\nYour friend says, â€œLighter always means safer and better performance.â€",
    "question": "Is that always true?",
    "correctAnswer": "Lower weight generally improves takeoff/climb, but forward CG can increase takeoff/landing distance and make rotation/flare harder. So â€œlighterâ€ can improve one performance dimension while hurting controllability at slow speeds. The safe approach is balanced: reduce weight while keeping CG in a good range and ensuring sufficient fuel reserves.",
    "trapReasoning": "â€œCG is secondary. If weight goes down, every performance metric improves.â€",
    "whyThisMatters": "This tests correlation-level thinking: performance isnâ€™t one number. The DPE wants to see that you can identify a new risk created by a â€œgoodâ€ decision (weight reduction) and manage both.",
    "cramMode": "Weight down usually helps, but CG matters. Forward CG can make rotate/flare harder and lengthen takeoff/landing â€” manage both weight and CG.",
    "reference": "PHAK Chapter 10, AFH performance concepts",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q119",
    "title": "XC Performance - Leaning for Takeoff (High-Elevation Departure)",
    "category": "Aircraft Systems",
    "topic": "XC Performance - Mixture Management and Power",
    "airports": "KAEG (Double Eagle II, Albuquerque) departure",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re departing a high-elevation airport on a warm day. A pilot on the ramp says, â€œDonâ€™t lean on the ground â€” itâ€™ll make the engine run hot.â€ You notice the airplane feels sluggish on the takeoff roll during a previous flight here.",
    "question": "What do you do with the mixture for takeoff at high density altitude, and why?",
    "correctAnswer": "At high density altitude, the mixture can be overly rich and reduce power. I follow the POH procedure to lean for maximum RPM (or maximum power) during runup/takeoff configuration when appropriate for a normally aspirated engine. The goal is best power, not â€œfull rich by habit.â€ If Iâ€™m unsure, I consult the POH and ask an instructor â€” but I donâ€™t ignore the power loss risk.",
    "trapReasoning": "â€œFull rich is always safest. Leaning on the ground is dangerous and unnecessary.â€",
    "whyThisMatters": "Mixture mismanagement is a performance killer at DA. The DPE wants to hear that you understand why power is reduced at altitude and that you use POH-based technique rather than superstition.",
    "cramMode": "High DA + full rich can rob power. Use POH leaning technique for best power at high-elevation takeoffs.",
    "reference": "AFH (Engine operation/mixture), POH procedures",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q120",
    "title": "XC Planning - VFR Cruising Altitudes (91.159 Applied)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Altitude Selection and Compliance",
    "airports": "KHSV (Huntsville) â†’ KCHA (Chattanooga)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning to cruise above 3,000 feet AGL on a magnetic course of **090Â°**. You want smooth air and better radio reception. Your friend suggests **6,500 MSL** because â€œit sounds right.â€",
    "question": "What altitude(s) are appropriate and why?",
    "correctAnswer": "Per 91.159, when flying VFR above 3,000 AGL: for magnetic course 0â€“179Â°, use odd thousands + 500 (e.g., 3,500; 5,500; 7,500). For 180â€“359Â°, use even thousands + 500. Since my course is 090Â°, I plan an odd + 500 altitude that also respects terrain and airspace (e.g., 5,500 or 7,500 depending on MEFs and clouds).",
    "trapReasoning": "â€œVFR altitudes are optional. Any altitude is fine as long as youâ€™re not in controlled airspace.â€",
    "whyThisMatters": "This is a simple rule that prevents head-on conflicts and shows planning professionalism. The DPE is checking whether you apply regulations to a real flight plan, not just recite them.",
    "cramMode": "Above 3,000 AGL: 0â€“179Â° = odd + 500; 180â€“359Â° = even + 500. Then verify terrain/airspace/weather.",
    "reference": "14 CFR 91.159",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.159"
  },
  {
    "id": "Q121",
    "title": "XC Planning - Night XC Fuel Reserve (Day Departure, Night Arrival)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Fuel Reserve Rules and Traps",
    "airports": "KABQ (Albuquerque) â†’ KROW (Roswell)",
    "aircraft": "Cessna 172",
    "scenario": "You depart in late afternoon (still daylight) but your ETA is 45 minutes after sunset. Your fuel plan leaves you landing with about **35 minutes** of reserve based on your burn.\n\nYour friend says, â€œWe departed in the day, so day fuel reserve applies.â€",
    "question": "Is that correct? What reserve should you plan for?",
    "correctAnswer": "No. The fuel reserve requirement depends on the conditions under which youâ€™re operating and planning to land. For night VFR, 91.151 requires **45 minutes** reserve at normal cruising speed. If Iâ€™m planning to arrive at night, I plan the night reserve. If my plan only leaves 35 minutes, I need more fuel, a fuel stop, or I donâ€™t go.",
    "trapReasoning": "â€œRules are based on departure conditions. If you take off in daylight, day rules apply.â€",
    "whyThisMatters": "This is a classic DPE trap: pilots anchor on departure and ignore what the flight will become. Planning must cover the whole operation, especially as daylight ends and options shrink.",
    "cramMode": "If youâ€™ll be operating/arriving at night, plan night reserves: 45 minutes. Donâ€™t anchor on â€œwe departed during the day.â€",
    "reference": "14 CFR 91.151",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.151"
  },
  {
    "id": "Q122",
    "title": "XC Planning - Oxygen Awareness (Legal vs Smart)",
    "category": "Aircraft Systems",
    "topic": "XC Planning - Physiology and Performance",
    "airports": "KDEN (Denver) â†’ KHDN (Hayden)",
    "aircraft": "Cessna 172",
    "scenario": "You plan to cruise at **11,500 MSL** for terrain clearance and better winds. Itâ€™s a 2.5-hour leg. You and your passenger feel â€œa little offâ€ at altitude on past flights.",
    "question": "What does 91.211 require, and whatâ€™s the smart operational choice?",
    "correctAnswer": "Legally, 91.211 requires oxygen for crew above 12,500 MSL for more than 30 minutes, and continuously above 14,000; passengers must have oxygen available above 15,000. At 11,500, itâ€™s not legally required, but it can still be smart to use oxygen depending on symptoms, time, and individual susceptibility â€” especially at night. If anyone feels impaired, I descend and/or use supplemental oxygen if available.",
    "trapReasoning": "â€œIf oxygen isnâ€™t legally required, it canâ€™t help. Feeling off is just anxiety.â€",
    "whyThisMatters": "Hypoxia is subtle and varies by person. The DPE wants to see you separate legal minimums from safe physiology and make conservative choices when symptoms appear.",
    "cramMode": "Legal oxygen starts at 12,500 (>30 min), but smart oxygen can start lower. If symptoms show up, descend â€” donâ€™t debate it.",
    "reference": "14 CFR 91.211",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-C/section-91.211"
  },
  {
    "id": "Q44",
    "title": "Airport Ops/Signs - Hold Short Line vs ILS Critical Area (Towered)",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Runway Incursion Avoidance",
    "airports": "KPDX (Portland)",
    "aircraft": "Cessna 172",
    "scenario": "Itâ€™s a rainy evening and youâ€™re taxiing for departure at Portland (KPDX). Ground clears you: â€œTaxi to Runway 28L via A, hold short of Runway 28L.â€ As you approach the runway, you see a set of yellow hold short lines, and farther ahead you also see a different set of ladder-style markings with an ILS sign nearby. Youâ€™re running late and feel pressure to â€œkeep it movingâ€ because airliners are behind you.",
    "question": "Where do you stop, and whatâ€™s the practical difference between these two hold positions?",
    "correctAnswer": "I stop at the runway hold short lines when instructed to hold short of the runway. The ILS critical area hold position is a separate protected area used to prevent interference with the ILS signal; ATC will specifically instruct â€œhold short of ILS critical areaâ€ (or similar) if that applies. If Iâ€™m told to hold short of the runway, I hold short of the runway; I donâ€™t roll past the runway hold line just because Iâ€™m â€œnot on the runway yet.â€",
    "trapReasoning": "â€œThe ILS critical area line is the real runway hold line, so I can taxi past the first one if Iâ€™m careful.â€",
    "whyThisMatters": "Runway incursions happen on the ground, often due to rushing and assuming. The DPE wants disciplined taxi: read back hold short instructions, stop at the correct marking, and never â€œcreepâ€ across a runway hold line. Legal vs safe: even if you think you can stop quickly, crossing a hold line without clearance is both unsafe and potentially a violation depending on what you were cleared to do.",
    "cramMode": "Hold short means hold short. Stop at the runway hold line unless cleared to cross. ILS critical area is separate and requires specific instruction.",
    "reference": "AIM (Airport Marking Aids and Signs)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q45",
    "title": "Airport Ops/Signs - Runway Status Lights / â€œIt Looks Clearâ€",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Visual Cues vs Clearance",
    "airports": "KSEA (Seattle Tacoma)",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re holding short at a runway at night. You see red in-pavement lights (runway status lights) ahead and a runway crossing sign. The controller is busy. Your passenger says, â€œItâ€™s obviously clearâ€”just go.â€ Youâ€™re feeling time pressure because youâ€™re trying to make a reservation time.",
    "question": "What do you do if lights/signs suggest â€œstopâ€ but youâ€™re tempted because the runway looks clear?",
    "correctAnswer": "I stop and wait for an explicit clearance. I donâ€™t enter or cross a runway without a clearance at a towered airport, and I treat â€œstopâ€ indications (including red runway status lights) as a strong safety cue. If Iâ€™m unsure, I ask ATC to clarify. The correct move is to pause, not to improvise.",
    "trapReasoning": "â€œIf I can visually confirm itâ€™s clear, I can cross and sort it out later.â€",
    "whyThisMatters": "Many runway incursions start with â€œit looked clear.â€ The checkride is testing disciplined surface ops: stop, ask, and comply with clearancesâ€”especially at night when depth perception and closure rates are worse. Legal vs safe: being right visually doesnâ€™t replace a clearance and doesnâ€™t protect you from an aircraft you didnâ€™t see.",
    "cramMode": "On the surface: stop when unsure, ask ATC, and never assume a runway is yours because it looks clear.",
    "reference": "AIM (Runway Incursion Avoidance)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q46",
    "title": "Airport Ops/Signs - Back-Taxi and CTAF Calls (Non-Towered)",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Non-Towered Runway Use",
    "airports": "KBIH (Bishop, CA)",
    "aircraft": "Cessna 172",
    "scenario": "You arrive at a non-towered airport with a single runway and limited taxiways. The only way to reach the departure end is to back-taxi on the runway. Winds are light. A faster aircraft announces inbound on a 2-mile final. Youâ€™re feeling pressure because youâ€™ve been waiting a while and your passenger is impatient.",
    "question": "How do you safely execute a back-taxi, and what do you do when someone is on short final?",
    "correctAnswer": "I treat the runway like an active movement area: I make clear CTAF calls (â€œentering runway, back-taxiing Runway â€¦â€), I visually clear both directions, and I keep my runway time as short as practical. If someone is on short final, I do not enterâ€”I wait. If Iâ€™m already on the runway and an aircraft is suddenly short final, I expedite clear/off the runway only if safe; otherwise I stop and communicate.",
    "trapReasoning": "â€œNon-towered means no rulesâ€”just announce and go if you think you can make it.â€",
    "whyThisMatters": "Non-towered operations depend on communication and sequencing. The DPE wants you to prioritize collision avoidance and right-of-way, not ego or impatience. Legal vs safe: even if you could technically back-taxi quickly, the safe answer is to avoid creating a conflict with an aircraft on final.",
    "cramMode": "Back-taxi = runway time. Clear, announce, and donâ€™t enter with traffic on short final.",
    "reference": "AIM (Non-Towered Airport Operations)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q47",
    "title": "Airport Ops/Signs - â€œTaxi Into Position and Holdâ€ vs â€œLine Up and Waitâ€",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Phraseology Awareness",
    "airports": "KTPA (Tampa Intl)",
    "aircraft": "DA40",
    "scenario": "During a towered departure briefing, your instructor mentions you might hear â€œline up and wait.â€ Youâ€™ve also heard older pilots say â€œposition and hold.â€ Youâ€™re anxious because you donâ€™t want to mess up comms on your checkride.",
    "question": "If tower says â€œline up and wait,â€ what exactly are you cleared to doâ€”and what are you not cleared to do?",
    "correctAnswer": "â€œLine up and waitâ€ clears me to taxi onto the runway and line up on the centerline, then stop and wait for takeoff clearance. It does not clear me for takeoff. If anything is unclear, I ask before rolling.",
    "trapReasoning": "â€œOnce Iâ€™m on the runway, Iâ€™m basically clearedâ€”if it looks good I can just go.â€",
    "whyThisMatters": "This is a classic DPE surface-ops trap: correct readback and restraint. The safe/legal line is strict: runway entry only as cleared, and takeoff only with an explicit takeoff clearance at a towered airport.",
    "cramMode": "Line up and wait = enter runway and hold. Takeoff requires a separate takeoff clearance.",
    "reference": "AIM (ATC Phraseology)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q48",
    "title": "Airport Ops/Signs - Closed Runway Markings and NOTAM Reality",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Closed Runway / Construction",
    "airports": "KAPA (Centennial)",
    "aircraft": "Cessna 172",
    "scenario": "You taxi out and notice large yellow â€œXâ€ markings near a runway entrance. The airport diagram in your EFB also shows a runway closed segment, but youâ€™re not sure if itâ€™s â€œjust for big jets.â€ Youâ€™re under pressure because you already delayed once and donâ€™t want to return to parking.",
    "question": "How do you treat runway closure markings, and what do you do if your clearance seems to conflict?",
    "correctAnswer": "A yellow â€œXâ€ indicates a runway (or portion) is closed. I do not use a closed runway. If ATC gives an instruction that appears to conflict, I stop and clarifyâ€”controllers can make mistakes, and Iâ€™m still responsible as PIC. I verify with NOTAMs/ATIS and ask for alternate routing.",
    "trapReasoning": "â€œIf tower cleared me, it must be openâ€”so the X is probably old or for someone else.â€",
    "whyThisMatters": "Runway closures are safety-critical. The DPE wants you to show PIC responsibility: stop, verify, and resolve the conflict before moving into a hazard area. Legal vs safe: even with a clearance, operating on a closed surface can be unsafe and may violate local restrictions/NOTAMs.",
    "cramMode": "Yellow X = closed. Stop and clarify any conflict; PIC is still responsible.",
    "reference": "AIM (Airport Markings/NOTAMs), 14 CFR 91.103",
    "link": "https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103 | https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q49",
    "title": "Airport Ops/Signs - Hot Spots on Airport Diagrams",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Pre-Taxi Briefing",
    "airports": "KPHX (Phoenix Sky Harbor)",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re at a complex airport for the first time. Your taxi clearance includes several intersections. The airport diagram shows â€œHS-1â€ and â€œHS-2â€ hot spot boxes near your route. Youâ€™re feeling pressure because you donâ€™t want to sound confused on frequency.",
    "question": "What is a hot spot, and how does it change how you taxi?",
    "correctAnswer": "A hot spot is a historically confusing or high-risk area for runway incursions. It doesnâ€™t change the clearance, but it changes my mindset: I slow down, brief the route, verify signage/markings, and Iâ€™m ready to stop and ask for progressive taxi if needed. I prioritize accuracy over speed.",
    "trapReasoning": "â€œHot spots are just informationalâ€”no action needed.â€",
    "whyThisMatters": "Hot spots are there because pilots have made mistakes there. The DPE is testing whether you use the airport diagram proactively and can manage workload on the ground.",
    "cramMode": "Hot spot = slow down, brief, verify, and ask if unsure. Taxi is a phase of flight.",
    "reference": "AIM (Hot Spots/Airport Diagrams), FAA Airport Diagram Symbology",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q50",
    "title": "Airport Ops/Signs - Runway Lighting: Edge vs Centerline vs REIL",
    "category": "Airspace & Regs",
    "topic": "Airport Operations - Night Visual Cues",
    "airports": "KAVL (Asheville)",
    "aircraft": "Cessna 172",
    "scenario": "Night arrival to a larger non-towered airport. You see white runway edge lights, a set of bright strobes at the threshold, and green lights near the start. Your passenger says, â€œThose flashing lights must mean the runway is closed.â€ Youâ€™re a little fatigued after a long day.",
    "question": "What do you need to enter Class B?",
    "correctAnswer": "REIL (Runway End Identifier Lights) are flashing lights used to help identify the runway end/threshold. Runway edge lights outline the runway edges; threshold lights are green facing the approach side and help identify the runway beginning. To confirm correct runway: verify heading on final, match runway number/geometry to the diagram, and cross-check GPS/EFB (if used) without fixating.",
    "trapReasoning": "â€œFlashing lights mean closed runwayâ€”avoid it.â€",
    "whyThisMatters": "At night, misidentifying a runway is a real hazard. The DPE wants practical cross-checks (heading, diagram, visual cues) rather than guessing based on one cue.",
    "cramMode": "Night runway ID: verify heading, diagram, and cues. REIL helps identify the runway end; it doesnâ€™t mean closed.",
    "reference": "AIM (Airport Lighting Aids), PHAK (Airport Operations)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q214",
    "title": "Airport Ops/Signs - Runway Guard Lights (What They Mean)",
    "category": "Navigation",
    "topic": "Airport Operations - Runway Incursion Cues",
    "airports": "KAPA (Centennial)",
    "aircraft": "Cessna 172",
    "scenario": "At night taxiing at a busy airport, you approach a runway intersection. You see a row of flashing yellow lights embedded in the pavement on each side of the taxiway, and you also see hold-short markings ahead. You feel pressure to keep taxiing because youâ€™re â€˜not on the runway yet.â€™",
    "question": "What are runway guard lights, and how do you use them in your taxi scan?",
    "correctAnswer": "Runway guard lights are an attention-getting warning that youâ€™re approaching a runway holding position. They donâ€™t authorize movement; theyâ€™re a cue to slow down, identify the runway/hold-short point on the diagram, and confirm I have a clearance to cross/enter. I treat them as a â€˜last chanceâ€™ incursion cue: stop at the hold-short line unless cleared.",
    "trapReasoning": "â€œIf the flashing yellows are on, it means the runway is active so I should hurry across.â€",
    "whyThisMatters": "Runway incursions often happen when pilots rely on one cue or rush. The DPE wants you to recognize runway-approach cues (lights, signs, markings) and default to stopping unless you have an explicit clearance.",
    "cramMode": "Runway guard lights = runway nearby. Slow down, verify, and stop at the hold-short line unless cleared.",
    "reference": "AIM (Runway Incursion Avoidance, Airport Lighting/Markings), PHAK (Airport Ops)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q215",
    "title": "Airport Ops/Signs - Read the Signs (Red/White vs Yellow/Black)",
    "category": "Navigation",
    "topic": "Airport Operations - Signs and Markings",
    "airports": "KSDL (Scottsdale)",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re taxiing and see a sign with white numbers on a red background near an intersection, and another sign with black letters on a yellow background pointing directions. Youâ€™re a little behind the airplane and tempted to just follow the other aircraft.",
    "question": "What do red/white runway signs mean vs yellow/black taxi signs, and whatâ€™s your correct behavior?",
    "correctAnswer": "Red with white characters are mandatory instruction signsâ€”most importantly runway holding position signs. I treat them as a hard stop: I do not proceed past the associated marking without a clearance. Yellow with black characters are guidance/information (taxiway location/direction) to help navigation on the surface.",
    "trapReasoning": "â€œSigns are just guidanceâ€”markings matter more, so I can ignore the colors.â€",
    "whyThisMatters": "Surface ops are an ACS special emphasis area because incursions happen fast. The DPE wants you to show you can decode signs quickly and default to stopping at mandatory signs/hold-short markings.",
    "cramMode": "Red/white = mandatory (stop/hold). Yellow/black = guidance (where you are/where to go).",
    "reference": "AIM (Airport Signs and Markings), PHAK (Airport Ops)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q216",
    "title": "Airport Ops/Signs - Displaced Threshold vs Blast Pad (Where Can You Land?)",
    "category": "Navigation",
    "topic": "Airport Operations - Runway Markings and Usable Distance",
    "airports": "KSAN (San Diego)",
    "aircraft": "Cessna 172",
    "scenario": "On short final you notice the runway threshold is displaced (white arrows leading to the threshold bars). Thereâ€™s also pavement before the threshold that looks usable. Your passenger says, â€œWe can land earlier to get more stopping distance, right?â€",
    "question": "What does a displaced threshold mean for landing vs takeoff, and how do you decide what pavement is usable?",
    "correctAnswer": "A displaced threshold means the portion of runway before the threshold is **not available for landing** in that direction. It may be available for takeoff and for landing rollout from the opposite direction, depending on the markings and declared distances. I use the markings (arrows/threshold bars) and the published runway distances (TORA/TODA/ASDA/LDA) to understand whatâ€™s usable, rather than guessing from the windshield.",
    "trapReasoning": "â€œIf itâ€™s paved and looks like runway, I can land on it.â€",
    "whyThisMatters": "This is a classic checkride item: runway markings communicate structural/obstacle constraints. The DPE wants you to respect the landing threshold and use declared distances instead of improvising.",
    "cramMode": "Displaced threshold: donâ€™t land before the threshold in that direction. Use markings + declared distances to know whatâ€™s usable.",
    "reference": "AIM (Runway Markings/Declared Distances), PHAK (Airport Ops)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q217",
    "title": "Airport Ops/Signs - Progressive Taxi (Professional, Not Embarrassing)",
    "category": "Navigation",
    "topic": "Airport Operations - ATC Services and Risk Management",
    "airports": "KDEN (Denver Intl)",
    "aircraft": "DA40",
    "scenario": "You land at a large airport youâ€™ve never visited. Taxi instructions come fast and include multiple taxiways. Youâ€™re unsure you can execute it correctly and you feel embarrassed asking for help.",
    "question": "What do you say, and whatâ€™s the safe taxi mindset here?",
    "correctAnswer": "I slow down, stop if needed in a safe location, and ask for progressive taxi: â€œGround, [callsign], request progressive taxi.â€ I can also ask to repeat instructions or request â€˜say againâ€™ for a specific segment. The safe mindset is: accuracy over speedâ€”never let frequency pressure push you into guessing.",
    "trapReasoning": "â€œIf I ask for progressive taxi, ATC will be annoyed, so Iâ€™ll just keep moving and figure it out.â€",
    "whyThisMatters": "Wrong-surface taxi events are often a pride/pressure problem. The DPE wants you to demonstrate youâ€™ll ask early and stop rather than improvise on the ground.",
    "cramMode": "Slow down, stop if needed, and ask for progressive taxi or a repeat. Donâ€™t guess on the surface.",
    "reference": "AIM (Progressive Taxi / Surface Movement), PHAK (Airport Ops/Risk)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q218",
    "title": "Airport Ops/Signs - â€˜Heads Down Taxiâ€™ (Sterile Taxi Discipline)",
    "category": "Navigation",
    "topic": "Airport Operations - Attention Management",
    "airports": "KPAO (Palo Alto)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re taxiing out while trying to brief your passenger, set up the GPS, and find a frequency. You feel behind and start looking inside for long stretches while the airplane rolls. Another pilot later says, â€œTaxi is low risk â€” just keep it slow.â€",
    "question": "Whatâ€™s your task-management rule on the ground to prevent runway incursions?",
    "correctAnswer": "Taxi is a critical phase: I prioritize outside scan and runway awareness. If I need to do heads-down tasks (GPS/frequencies/checklists), I stop the airplane first in a safe spot, then do the task. I use a â€˜sterile taxiâ€™ mindset: no unnecessary conversation and no configuration changes while crossing or approaching runway environments.",
    "trapReasoning": "â€œIf I taxi slowly, I can safely do heads-down tasks while moving.â€",
    "whyThisMatters": "Incursions donâ€™t require speedâ€”they require distraction. The DPE wants a disciplined rule that prevents â€˜rolling while thinkingâ€™ near runways.",
    "cramMode": "If you need to go heads-down, stop. Use a sterile taxi mindset near runwaysâ€”eyes outside first.",
    "reference": "AIM (Runway Incursion Avoidance), PHAK (Airport Ops/Risk)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q248",
    "title": "Airport Ops/Signs - Taxiway Centerline vs Edge Lights (Night Taxi Confusion)",
    "category": "Emergency Ops",
    "topic": "Airport Operations - Lighting and Markings",
    "airports": "KDSM (Des Moines)",
    "aircraft": "Cessna 172",
    "scenario": "Night taxi after landing. You see green centerline lights and blue edge lights, but your passenger points to a different set of lights and says, â€œIs that the runway?â€ Youâ€™re tired and want to taxi quickly to parking.",
    "question": "How do you avoid wrong-surface taxiing at night?",
    "correctAnswer": "I slow down, use the airport diagram, confirm signage and markings, and identify runway vs taxiway cues (runway edge lights are typically white; taxiway edge lights are blue; taxiway centerline lights are green). If unsure, I stop and re-orient rather than continuing.",
    "trapReasoning": "â€œIf Iâ€™m moving slowly, I can just guess and correct later.â€",
    "whyThisMatters": "At night, wrong-surface events happen when pilots rush and rely on one cue. The DPE wants disciplined verification and willingness to stop.",
    "cramMode": "Night taxi: slow down, use diagram/signs, and stop if unsureâ€”donâ€™t guess.",
    "reference": "AIM (Airport Lighting/Markings), PHAK (Airport Ops)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q249",
    "title": "Airport Ops/Signs - Runway Crossing Clearance (Readback Discipline)",
    "category": "Emergency Ops",
    "topic": "Airport Operations - Clearances",
    "airports": "KBUR (Hollywood Burbank)",
    "aircraft": "PA-28-161",
    "scenario": "Ground says: â€œTaxi to Runway 15 via B. Cross Runway 8 at B.â€ You read back only â€œTaxi to 15 via B.â€ Youâ€™re feeling pressure because the frequency is busy and you donâ€™t want a correction.",
    "question": "Whatâ€™s the correct readback habit and why?",
    "correctAnswer": "I read back all hold short and runway crossing instructions clearly. If Iâ€™m missing a critical part, I ask. I do not cross any runway unless I have an explicit crossing clearance at a towered airport.",
    "trapReasoning": "â€œIf they didnâ€™t correct me, Iâ€™m cleared to cross.â€",
    "whyThisMatters": "Misunderstood runway crossings are a major incursion cause. The DPE wants you to show youâ€™ll force clarity rather than assume.",
    "cramMode": "Crossing a runway requires an explicit clearance. Read back hold short/crossing instructions every time.",
    "reference": "AIM (Runway Incursion Avoidance), 14 CFR 91.129",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.129"
  },
  {
    "id": "Q250",
    "title": "Airport Ops/Signs - â€˜Make the High-Speed Turnoffâ€™ (Brake/Control Risk)",
    "category": "Emergency Ops",
    "topic": "Airport Operations - Post-Landing Decision Making",
    "airports": "KPDX (Portland)",
    "aircraft": "Cessna 172",
    "scenario": "After landing, tower says, â€œTurn left at Taxiway E if able.â€ Youâ€™re still fast and the turnoff is approaching quickly. You feel pressure because an airliner is behind you and you donâ€™t want to be â€˜that guy.â€™",
    "question": "Do you force the turnoff? Whatâ€™s the safe response?",
    "correctAnswer": "No. I only make a turnoff when I can do it safely under control. I can reply â€œunableâ€ and continue to a farther exit. Forcing a high-speed turnoff risks loss of directional control and brake overheating. Safety beats convenience.",
    "trapReasoning": "â€œTower asked, so I have to do it even if itâ€™s aggressive.â€",
    "whyThisMatters": "Controllers request; pilots decide. The DPE wants you to show you wonâ€™t trade control for courtesy.",
    "cramMode": "If you canâ€™t safely make an exit, say â€˜unableâ€™ and take the next one.",
    "reference": "AIM (Taxi/Runway Safety), PHAK (Airport Ops)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q123",
    "title": "Navigation - Lost Procedure (VFR): â€œConfidently Lostâ€",
    "category": "Aircraft Systems",
    "topic": "Navigation - VFR Lost Procedures",
    "airports": "KHSV (Huntsville) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re on a VFR cross-country and realize the ground features donâ€™t match your planned checkpoints. Your passenger asks if youâ€™re lost. You feel pressure because you donâ€™t want to admit it and youâ€™re close to a Class C shelf.",
    "question": "Whatâ€™s your immediate, step-by-step lost procedure?",
    "correctAnswer": "Aviate: stabilize, climb if appropriate for better reception/visibility, and conserve fuel. Navigate: use the â€œ5 Câ€™sâ€ style processâ€”Climb, Conserve, Communicate, Confess, Comply. I cross-check heading/time, use pilotage with prominent features, and use nav aids (VOR/GPS) to reorient. Communicate early with ATC/Flight Service if needed.",
    "trapReasoning": "â€œIâ€™ll keep going a little longer until I recognize something.â€",
    "whyThisMatters": "The risk is drifting into airspace, terrain, or fuel trouble while denial builds. The DPE wants early admission and structured recovery, not hoping it fixes itself.",
    "cramMode": "Lost? Stabilize + climb + communicate early. Donâ€™t delay the confessionâ€”fix it before it becomes an emergency.",
    "reference": "PHAK (Navigation), AIM (Radar Services/VFR Advisories)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q124",
    "title": "Navigation - VOR Check Requirements and Practical Options",
    "category": "Aircraft Systems",
    "topic": "Navigation - VOR Operational Checks",
    "airports": "KAPA (Centennial) â†’ KCOS (Colorado Springs)",
    "aircraft": "PA-28-161",
    "scenario": "You plan to navigate primarily by VOR today to prove you can do it. A friend asks, â€œDid you do a VOR check?â€ You havenâ€™t done one in a while, and youâ€™re scheduled to meet your instructor for a stage check in an hour.",
    "question": "When is a VOR check required, and how would you do it?",
    "correctAnswer": "A VOR check is required only if I plan to use VOR equipment for IFR operations. For VFR, itâ€™s not required by regulation, but I still want reasonable confidence itâ€™s working before I rely on it. Practical check methods include a VOT, a ground checkpoint, an airborne checkpoint, or a dual-VOR comparison (within tolerances).",
    "trapReasoning": "â€œAny time you use a VOR for navigation, you must do an official VOR check.â€",
    "whyThisMatters": "This tests regulatory precision: IFR has specific VOR check requirements, VFR doesnâ€™tâ€”yet ADM still says donâ€™t blindly trust a nav source. Legal vs safe can differ.",
    "cramMode": "VOR check is an IFR requirement. VFR: not required, but verify equipment before you bet the flight on it.",
    "reference": "AIM (VOR Checks)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q125",
    "title": "Navigation - GPS â€˜Direct-Toâ€™ vs Flight Plan (Situational Awareness)",
    "category": "Aircraft Systems",
    "topic": "Navigation - GPS/EFB Use and Monitoring",
    "airports": "KSQL (San Carlos) â†’ KSTS (Santa Rosa)",
    "aircraft": "DA40",
    "scenario": "You enter a direct-to to your destination while climbing out. Your passenger asks a question and you realize you havenâ€™t verified airspace along the direct track. Youâ€™re under pressure because NorCal is busy and you donâ€™t want to sound unsure.",
    "question": "Whatâ€™s the risk of â€˜direct-toâ€™ thinking, and how do you manage it safely?",
    "correctAnswer": "Direct-to can hide airspace, terrain, and alternates because you stop thinking in segments/checkpoints. I manage it by verifying the route on the chart, setting appropriate altitudes, using checkpoints anyway, and using flight following. GPS is a tool, not the plan.",
    "trapReasoning": "â€œGPS direct-to is always safer because itâ€™s simpler.â€",
    "whyThisMatters": "This is about automation complacency. The DPE wants you to show youâ€™re still navigating with the big picture: airspace, terrain, fuel, outsâ€”while using GPS to assist.",
    "cramMode": "GPS helps, but you still plan: chart review, checkpoints, altitude, and outs. Donâ€™t let direct-to erase situational awareness.",
    "reference": "PHAK (Navigation/Risk Management), AIM (GPS Basics)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q126",
    "title": "Navigation - Pilotage vs Dead Reckoning: When Each Breaks",
    "category": "Aircraft Systems",
    "topic": "Navigation - Techniques and Failure Modes",
    "airports": "KSGJ (St. Augustine) area",
    "aircraft": "Cessna 172",
    "scenario": "You planned a pilotage-heavy route using highways and shorelines. Halfway through, haze reduces visibility and the shoreline looks washed out. Youâ€™re trying to stay on schedule for a meeting.",
    "question": "Whatâ€™s your plan to stay oriented when pilotage degrades?",
    "correctAnswer": "I shift to a layered nav approach: verify time/fuel (dead reckoning), use headings with wind correction, and use nav aids (VOR/GPS) to back up what I see. If visibility is degrading toward my minimums, I divert early or return rather than pressing into worsening conditions.",
    "trapReasoning": "â€œPilotage is what VFR pilots doâ€”if I canâ€™t see the landmarks, Iâ€™ll just keep looking harder.â€",
    "whyThisMatters": "Pilotage is great until it isnâ€™t. The DPE wants you to demonstrate redundancy and conservative decision-making as visibility trends down.",
    "cramMode": "Use layers: pilotage + DR + nav aids. If visibility is trending down, divert earlyâ€”donâ€™t press.",
    "reference": "PHAK (Navigation), 14 CFR 91.103",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q127",
    "title": "Navigation - Magnetic vs True: â€˜Headingâ€™ Errors in Practice",
    "category": "Aircraft Systems",
    "topic": "Navigation - Practical Compass/Heading Concepts",
    "airports": "KICT (Wichita) area",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re briefing a cross-country and your buddy says, â€œJust fly the true course on the sectional.â€ You notice the variation in your area is significant. Youâ€™re under time pressure and tempted to skip the conversion steps.",
    "question": "Explain what you actually set on the heading indicator and why variation matters.",
    "correctAnswer": "Sectionals show true course lines. To fly the correct magnetic heading, I apply variation (true to magnetic) and then apply wind correction. What I â€˜set and flyâ€™ is a magnetic heading on the DG/HSI, corrected for wind. Skipping variation can produce a meaningful off-course error over distance.",
    "trapReasoning": "â€œVariation is smallâ€”close enough doesnâ€™t matter for PPL flights.â€",
    "whyThisMatters": "Over a longer leg, â€˜smallâ€™ errors become big. The DPE wants you to show you understand the chain: True course â†’ magnetic course â†’ wind-corrected heading.",
    "cramMode": "True on the chart, magnetic in the cockpit. Apply variation, then wind correction, then fly the heading.",
    "reference": "PHAK (Navigation)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q128",
    "title": "Navigation - Using a VOR Radial Correctly (FROM vs TO Trap)",
    "category": "Aircraft Systems",
    "topic": "Navigation - VOR Interpretation",
    "airports": "KOKC (Oklahoma City) practice area",
    "aircraft": "Cessna 172",
    "scenario": "You tune a VOR and set the OBS to 090. The needle centers with a FROM flag. Your passenger says, â€œGreatâ€”weâ€™re on the 090 heading to the station.â€ Youâ€™re being evaluated and feel pressure to answer confidently.",
    "question": "How do you confirm you're on the correct radial and navigating accurately?",
    "correctAnswer": "VOR radials are defined as courses *from* the station. If I have the 090 selected with a FROM indication and centered needle, Iâ€™m on the 090 radialâ€”meaning Iâ€™m east of the station. If I want to fly *to* the station from there, Iâ€™d fly a 270 course to the station (with a TO indication when set correctly).",
    "trapReasoning": "â€œ090 selected means fly heading 090 to the station.â€",
    "whyThisMatters": "This is a classic VOR trap. The DPE wants you to understand the geometry, not just twist knobs: radials are FROM; TO/FROM matters.",
    "cramMode": "Radials are FROM the station. To go TO, use the reciprocal course with a TO indication.",
    "reference": "AIM (VOR), PHAK (Navigation)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q129",
    "title": "Navigation - DME / GPS Distance: What It Actually Measures",
    "category": "Aircraft Systems",
    "topic": "Navigation - Slant Range Concept",
    "airports": "KABQ (Albuquerque) area",
    "aircraft": "DA40",
    "scenario": "Youâ€™re overhead a VOR/DME at 6,000 feet AGL and your distance readout shows about 1.0 NM. Your friend says, â€œThatâ€™s wrongâ€”youâ€™re directly over it.â€ Youâ€™re trying to sound confident on a stage check.",
    "question": "What are the regulatory requirements and practical considerations for VOR checks?",
    "correctAnswer": "DME and GPS show slant-range distance (the straight-line distance) to the station/waypoint. When youâ€™re overhead, horizontal distance is near zero but you still have vertical distance, so the readout wonâ€™t be zero until youâ€™re extremely low. This is normal.",
    "trapReasoning": "â€œDistance is measured along the ground only.â€",
    "whyThisMatters": "Understanding what the instrument is really telling you prevents bad decisions (like â€˜chasingâ€™ a distance number).",
    "cramMode": "Overhead doesnâ€™t mean â€˜0.0â€™â€”slant range includes altitude.",
    "reference": "AIM (DME/GPS Basics)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q130",
    "title": "Navigation - Diversion on the Fly (Time/Fuel Math Under Pressure)",
    "category": "Aircraft Systems",
    "topic": "Navigation - Diversion Planning",
    "airports": "KDSM (Des Moines) area",
    "aircraft": "Cessna 172",
    "scenario": "Enroute, ceilings are lowering and you decide to divert. Youâ€™re stressed and tempted to â€˜just follow the GPSâ€™ without calculating anything. You have a passenger appointment you donâ€™t want to miss.",
    "question": "Whatâ€™s the minimum diversion math you do before committing?",
    "correctAnswer": "I pick the divert airport, turn toward it, and immediately compute: new heading (rough), distance, groundspeed estimate, ETA, and fuel required. I verify terrain/airspace and I communicate early if Iâ€™m with ATC. Even with GPS, I confirm it makes sense.",
    "trapReasoning": "â€œIf the GPS says itâ€™s 20 minutes away, I donâ€™t need to compute anything.â€",
    "whyThisMatters": "Diversions are where situational awareness collapses. The DPE wants you to show you can still do basic time/fuel/heading thinking under stress.",
    "cramMode": "Divert = turn + time/fuel/ETA check + airspace/terrain check + communicate. GPS assists, it doesnâ€™t replace judgment.",
    "reference": "PHAK (Navigation), 14 CFR 91.103",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q241",
    "title": "Navigation - Sectional Clues: MEFs, Frequencies, and â€˜Whatâ€™s Under Me?â€™",
    "category": "Emergency Ops",
    "topic": "Navigation - Sectional Interpretation",
    "airports": "KASE (Aspen) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re planning a VFR route near mountainous terrain. Your passenger asks, â€œHow do you know how high the terrain is?â€ Youâ€™re under pressure to brief quickly and launch before winds pick up.",
    "question": "What sectional items do you use to plan terrain clearance and comms?",
    "correctAnswer": "I use the sectionalâ€™s Maximum Elevation Figures (MEFs) to understand terrain/obstacle clearance in each quadrangle, plus spot elevations/obstacle symbols. For comms, I note FSS/CTAF/tower/approach frequencies, and I plan altitudes that keep me clear of terrain and within airspace/weather limits.",
    "trapReasoning": "â€œMEF is a recommended cruising altitude I can ignore.â€",
    "whyThisMatters": "Terrain clearance is a leading risk in mountains. The DPE wants you to show you can extract practical planning data from the sectional, not just look at airspace rings.",
    "cramMode": "Use MEF/spot elevations for terrain, and plan comms/frequencies before you need them.",
    "reference": "PHAK (Navigation), 14 CFR 91.103",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q242",
    "title": "Navigation - VOR Intercept vs Track (Wind Correction Reality)",
    "category": "Emergency Ops",
    "topic": "Navigation - Tracking a Course",
    "airports": "KICT (Wichita) â†’ KHUT (Hutchinson)",
    "aircraft": "PA-28-161",
    "scenario": "You intercept a VOR course and the CDI centers, but a few minutes later youâ€™re drifting off again due to crosswind. You feel pressure because you told your instructor you can â€˜track perfectly.â€™",
    "question": "When should you declare an emergency, and what are the immediate steps?",
    "correctAnswer": "Intercepting is getting to the course; tracking is staying on it. In wind, I fly a wind-corrected headingâ€”usually a small crabâ€”so the CDI stays centered. I make small corrections, wait, and avoid chasing the needle.",
    "trapReasoning": "â€œOnce it centers, I just fly the course number.â€",
    "whyThisMatters": "This tests understanding of heading vs course vs track. The DPE wants controlled corrections, not needle-chasing.",
    "cramMode": "Course number isnâ€™t a heading. Track with wind correction and small, patient corrections.",
    "reference": "PHAK (Navigation), AIM (VOR)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q243",
    "title": "Navigation - GPS â€˜Nearestâ€™ in a Real Diversion (Donâ€™t Just Tap It)",
    "category": "Emergency Ops",
    "topic": "Navigation - Diversion Decision Making",
    "airports": "KROW (Roswell) area",
    "aircraft": "DA40",
    "scenario": "Weather lowers ahead and you decide to divert. You hit â€˜Nearestâ€™ on the GPS/EFB and it offers several airports. Your passenger says, â€œJust pick the closest.â€ You feel pressure to decide fast.",
    "question": "What factors do you check before committing to the â€˜nearestâ€™ airport?",
    "correctAnswer": "I confirm runway length/width, wind/runway alignment, fuel availability, terrain, airspace, and whether the airport is actually suitable (lighting if near night, services, NOTAMs if available). Nearest by distance isnâ€™t always the safest choice.",
    "trapReasoning": "â€œNearest is always bestâ€”distance is the only factor.â€",
    "whyThisMatters": "Diversions fail when pilots choose an unsuitable field in a hurry. The DPE wants you to show you can do a quick suitability screen.",
    "cramMode": "Nearest is a starting point. Check runway, wind, terrain, airspace, and services before committing.",
    "reference": "PHAK (Navigation/ADM), 14 CFR 91.103",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q244",
    "title": "Navigation - Magnetic Compass Errors in Turbulence (Donâ€™t Chase It)",
    "category": "Emergency Ops",
    "topic": "Navigation - Compass Limitations",
    "airports": "KDSM (Des Moines) practice area",
    "aircraft": "Cessna 172",
    "scenario": "In turbulence, your heading indicator drifts and you glance at the magnetic compass. It swings wildly when you accelerate or turn. You feel pressure because you want an exact heading.",
    "question": "What do you do and what are your immediate priorities?",
    "correctAnswer": "The magnetic compass has acceleration and turning errors and lags/oscillates, especially in turbulence. I use the DG/heading indicator as primary and periodically re-sync it in smooth air, or use GPS track and outside references. I avoid chasing a swinging compass.",
    "trapReasoning": "â€œThe compass is the most accurate, so I should follow it continuously.â€",
    "whyThisMatters": "Chasing the compass leads to poor control and disorientation. The DPE wants you to understand the toolâ€™s limits and use it correctly.",
    "cramMode": "Donâ€™t chase the compass. Use DG/GPS/outside, then re-check compass in steady, level flight.",
    "reference": "PHAK (Navigation)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q245",
    "title": "Navigation - Asking ATC for Help (VFR) Before Itâ€™s an Emergency",
    "category": "Emergency Ops",
    "topic": "Navigation - Communication as a Tool",
    "airports": "KLEX (Lexington) area",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re not lost yet, but youâ€™re uncertain about your position and you see an approaching Class C shelf. You feel embarrassed and hesitate to call ATC.",
    "question": "What do you say and what services can you request?",
    "correctAnswer": "I call approach/center and state the situation early: my callsign, altitude, and that Iâ€™m VFR requesting flight following and/or a position check. If needed I can request vectors to remain clear of airspace or to an airport. Early communication keeps it simple.",
    "trapReasoning": "â€œIf I call ATC without being in trouble, Iâ€™m wasting their time.â€",
    "whyThisMatters": "DPEs like proactive use of resources. Asking early prevents airspace violations and reduces workload.",
    "cramMode": "Call early. Position check and vectors are normalâ€”donâ€™t wait until youâ€™re lost.",
    "reference": "AIM (Radar Services), 14 CFR 91.103",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q246",
    "title": "Navigation - Checkpoint Selection: â€˜Anything Worksâ€™ (No)",
    "category": "Emergency Ops",
    "topic": "Navigation - Pilotage Practicality",
    "airports": "KSGF (Springfield, MO) â†’ KJLN (Joplin)",
    "aircraft": "Cessna 172",
    "scenario": "You plan checkpoints that are tiny roads and small ponds. Enroute, everything looks similar. You feel pressure because you donâ€™t want to stop and re-plan.",
    "question": "What makes a good checkpoint and why?",
    "correctAnswer": "A good checkpoint is prominent, unique, and easy to identify from the air (river bend, highway intersection, large town, lake shape), and itâ€™s on or near my course line with a reasonable spacing (often 10â€“15 minutes). The point is quick identification and cross-checking, not perfection.",
    "trapReasoning": "â€œAny feature on the chart is a checkpoint.â€",
    "whyThisMatters": "Poor checkpoints create uncertainty and lead to â€˜confidently lost.â€™ The DPE wants practical pilotage habits that reduce workload.",
    "cramMode": "Pick big, unique, easy-to-see checkpoints spaced by timeâ€”not tiny features youâ€™ll miss.",
    "reference": "PHAK (Navigation), 14 CFR 91.103",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.103"
  },
  {
    "id": "Q247",
    "title": "Navigation - GPS Failure: â€˜Iâ€™m Doneâ€™ (Backup Layers)",
    "category": "Emergency Ops",
    "topic": "Navigation - Redundancy",
    "airports": "KLVK (Livermore) area",
    "aircraft": "DA40",
    "scenario": "Your GPS/EFB freezes and wonâ€™t reboot. You were relying heavily on it for airspace awareness. You feel pressure because you donâ€™t want to admit you were dependent on it.",
    "question": "Whatâ€™s your immediate plan to continue safely?",
    "correctAnswer": "I revert to the sectional and my planned checkpoints/headings. I use pilotage and time/fuel tracking, and if needed I use VORs or request flight following for traffic/airspace help. If the loss meaningfully increases risk (complex airspace), I divert or return rather than pressing.",
    "trapReasoning": "â€œIf GPS fails, the flight is over and I must keep going anyway.â€",
    "whyThisMatters": "This tests layered planning. The DPE wants to see you can continue safely without one toolâ€”and can choose to divert if workload becomes unsafe.",
    "cramMode": "Plan in layers so a GPS failure is inconvenient, not dangerous. Divert if complexity exceeds your comfort.",
    "reference": "PHAK (Navigation/Risk), AIM (Radar Services)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html"
  },
  {
    "id": "Q166",
    "title": "Aerodynamics - Load Factor Raises Stall Speed (Given Bank Angles)",
    "category": "XC Planning & Perf",
    "topic": "Stalls - Accelerated Stall Concept (Load Factor)",
    "airports": "KSDL (Scottsdale) practice area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re in the pattern and you overshoot final. You steepen the bank to â€œsave it.â€ Your DPE asks: â€œWhat happens to stall speed as bank angle increases?â€ Youâ€™re given: at 0Â° bank, stall speed is 48 KIAS. Consider 45Â° and 60Â° bank.",
    "question": "Youâ€™re in the pattern and you overshoot final. You steepen the bank to â€œsave it.â€ Your DPE asks: â€œWhat happens to stall speed as bank angle increases?",
    "correctAnswer": "As bank angle increases in a level turn, load factor increases, which increases the stall speed. At ~45Â° bank, load factor is about 1.4 G, so stall speed increases by âˆš1.4 â‰ˆ 1.18 â†’ ~57 KIAS. At ~60Â° bank, load factor is 2.0 G, stall speed increases by âˆš2 â‰ˆ 1.41 â†’ ~68 KIAS. In the pattern, that means a â€œsafeâ€ speed can become an accelerated stall if I steepen the turn.",
    "trapReasoning": "â€œStall speed is fixed. If Iâ€™m above 48 KIAS, I canâ€™t stall.â€",
    "whyThisMatters": "This is a base-to-final killer: pilots steepen the turn and sometimes add rudder, increasing AoA and load factor, then stall/spin close to the ground. The DPE wants correlation-level understanding, not a memorized stall speed.",
    "cramMode": "Steeper turn = higher load factor = higher stall speed (stall speed scales with âˆšG). Pattern is no place for steep saves.",
    "reference": "AFH (Stalls/accelerated stalls), PHAK Chapter 5 (Aerodynamics)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q167",
    "title": "Aerodynamics - â€œSteep Turn to Make Finalâ€ at Pattern Altitude",
    "category": "XC Planning & Perf",
    "topic": "Stalls/Spins - Base-to-Final Risk",
    "airports": "KCRQ (McClellan-Palomar)",
    "aircraft": "PA-28-161",
    "scenario": "You overshoot final with a tailwind on base. You feel pressure because thereâ€™s traffic behind you. You consider a 50â€“60Â° bank to salvage the approach.",
    "question": "Whatâ€™s the correct decision and why?",
    "correctAnswer": "Go around. The correct decision is to abandon an unstable approach rather than steepen the bank at low altitude. Steep turns raise stall speed, reduce margin, and often lead to cross-controlled input. A go-around is normal and safer than trying to â€œsave it.â€",
    "trapReasoning": "â€œIf Iâ€™m coordinated, a steep turn close to the ground is fine â€” itâ€™s just pilot skill.â€",
    "whyThisMatters": "The DPE is testing judgment, not bravado. â€œSaving itâ€ is where stalls/spins happen. A professional pilot chooses the go-around early.",
    "cramMode": "Overshoot final? Donâ€™t steepen to save it â€” go around. Low altitude + steep turn = stall/spin setup.",
    "reference": "AFH (Approach/stabilized approach concepts), PHAK aerodynamics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q168",
    "title": "Aerodynamics - Skid vs Slip on Base-to-Final (Spin Entry)",
    "category": "XC Planning & Perf",
    "topic": "Stalls/Spins - Coordination and Yaw",
    "airports": "KSDL (Scottsdale)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re turning from base to final and notice youâ€™re going to overshoot. You add inside rudder to â€œtighten it upâ€ while holding bank angle. The airplane starts to feel mushy.",
    "question": "Is this a skid or a slip, and why is it dangerous?",
    "correctAnswer": "Inside rudder in a turn tends to create a **skid** (too much yaw into the turn). In a skid, the airplaneâ€™s tendency at the stall is to roll and yaw aggressively â€” a classic spin entry. Close to the ground, thereâ€™s no time to recover. The correct response is reduce angle of attack (lower the nose), level wings as needed, and go around.",
    "trapReasoning": "â€œMore rudder always helps you turn tighter safely.â€",
    "whyThisMatters": "The DPE is testing whether you understand the aerodynamic reason behind the base-to-final stall/spin accident pattern: skidding turns at low altitude.",
    "cramMode": "Inside rudder to â€œtightenâ€ base-to-final = skid = spin setup. Fix with AoA reduction and go around.",
    "reference": "AFH (Spins), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q169",
    "title": "Aerodynamics - Cross-Controlled Stall Recognition",
    "category": "XC Planning & Perf",
    "topic": "Stalls - Cross-Control Inputs and Wing Drop",
    "airports": "KPAO (Palo Alto) practice area",
    "aircraft": "DA40",
    "scenario": "In slow flight, youâ€™re holding excessive rudder in one direction and opposite aileron to â€œkeep it straight.â€ The stall horn chirps and the airplane rolls unexpectedly.",
    "question": "Whatâ€™s happening aerodynamically, and whatâ€™s your recovery?",
    "correctAnswer": "Cross-control creates unequal lift/drag on the wings and can put one wing at a higher angle of attack than the other. Near the stall, that wing stalls first and drops. Recovery: reduce AoA (lower the nose), level wings with coordinated controls, add power as appropriate, and re-establish coordinated flight. Donâ€™t fight the roll with more aileron at the stall.",
    "trapReasoning": "â€œIf a wing drops, add opposite aileron while holding rudder â€” that will stop it.â€",
    "whyThisMatters": "The DPE wants to see stall recovery fundamentals: AoA is the root cause. Adding aileron at/near the stall can worsen the wing drop.",
    "cramMode": "Wing drop near stall = one wing stalled first. Fix AoA first, then coordinate. Donâ€™t aileron-fight a stalled wing.",
    "reference": "AFH (Stall recognition/recovery), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q170",
    "title": "Aerodynamics - CG Effects on Stability and Spin Recoverability",
    "category": "XC Planning & Perf",
    "topic": "Stability - CG Location and Handling",
    "airports": "KAPA (Centennial) practice area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re loaded near the aft CG limit (legal). The airplane feels â€œlighterâ€ in pitch. Your friend says, â€œAft CG is better â€” it reduces stall speed and improves performance.â€",
    "question": "Whatâ€™s the tradeoff and why does a DPE care?",
    "correctAnswer": "Aft CG can reduce required tail downforce and may slightly reduce stall speed, but it also reduces longitudinal stability and can make stall/spin characteristics worse and recovery more difficult. The DPE cares because â€œlegalâ€ doesnâ€™t equal â€œsame handling,â€ and aft CG reduces safety margin in slow flight and stalls.",
    "trapReasoning": "â€œAft CG is always good. If itâ€™s within limits, thereâ€™s no downside.â€",
    "whyThisMatters": "This tests correlation-level understanding: performance and stability trade off. Aft CG can make the airplane more sensitive and less forgiving.",
    "cramMode": "Aft CG may feel better but reduces stability and can worsen stall/spin recovery. Legal â‰  forgiving.",
    "reference": "PHAK Chapter 10 (Weight & Balance), AFH stability basics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q171",
    "title": "Aerodynamics - Ground Effect and â€œWhy Wonâ€™t It Land?â€",
    "category": "XC Planning & Perf",
    "topic": "Lift/Drag - Ground Effect and Float",
    "airports": "KSMO (Santa Monica)",
    "aircraft": "PA-28-161",
    "scenario": "On final youâ€™re a little fast. Over the runway, the airplane â€œfloats foreverâ€ and wonâ€™t settle. Youâ€™re running out of runway and you feel pressure to force it down.",
    "question": "Whatâ€™s happening and what should you do?",
    "correctAnswer": "Ground effect reduces induced drag and increases lift efficiency near the surface, which can extend the float when youâ€™re fast. The correct action is to go around if you canâ€™t land within the first third/appropriate touchdown zone. Forcing it down leads to hard landings and loss of control.",
    "trapReasoning": "â€œPush the nose down and plant it. The runway is right there.â€",
    "whyThisMatters": "This tests stabilized approach discipline and understanding of ground effect. A DPE expects you to go around rather than salvage an unstable landing.",
    "cramMode": "Fast in ground effect = long float. Donâ€™t force it down â€” go around if youâ€™re not landing in your zone.",
    "reference": "AFH (Landings/ground effect), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q172",
    "title": "Aerodynamics - Gust Factor on Approach (Energy Management)",
    "category": "XC Planning & Perf",
    "topic": "Approach - Gust Additives Without Over-Speeding",
    "airports": "KPDX (Portland)",
    "aircraft": "Cessna 172",
    "scenario": "Winds are 220 at 12G22. Youâ€™re on final and feel the airspeed fluctuating. Your friend says, â€œAdd 15 knots and youâ€™ll be safe.â€",
    "question": "Whatâ€™s the right approach to gusty winds?",
    "correctAnswer": "Use a modest gust additive (commonly half the gust factor) while staying within safe approach speed and not exceeding flap limitations/landing distance constraints. Maintain a stabilized approach, be ready for wind shear, and avoid carrying excessive extra speed that leads to float and runway overrun. If conditions are outside your proficiency, divert.",
    "trapReasoning": "â€œMore airspeed always equals more safety.â€",
    "whyThisMatters": "Too much speed creates different risks (float, long landing, loss of control). The DPE wants balanced energy management.",
    "cramMode": "In gusts, add a little (often half the gust factor), not a lot. Keep it stabilized; extra speed trades one risk for another.",
    "reference": "AFH (Crosswind/gusty landings), PHAK risk management",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q173",
    "title": "Aerodynamics - Left-Turning Tendencies (Takeoff Scenario)",
    "category": "XC Planning & Perf",
    "topic": "Propeller Effects - P-Factor/Torque/Slipstream/Gyro",
    "airports": "KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "On takeoff roll and initial climb, the airplane consistently yaws and rolls left unless you apply right rudder. Your passenger says, â€œIs something broken?â€",
    "question": "On takeoff roll and initial climb, the airplane consistently yaws and rolls left unless you apply right rudder. Your passenger says, â€œIs something broken?",
    "correctAnswer": "Left-turning tendencies come from torque reaction, P-factor (high AoA in climb), spiraling slipstream hitting the tail, and gyroscopic precession. The fix is simple: anticipate and apply the correct right rudder and coordinated control inputs. Itâ€™s normal, not a defect.",
    "trapReasoning": "â€œIf it turns left, just hold right aileron. Rudder isnâ€™t that important.â€",
    "whyThisMatters": "This tests coordination and aerodynamics understanding. Many pilots underuse rudder, especially in takeoff/climb when it matters most.",
    "cramMode": "Takeoff/climb wants right rudder. Left-turning tendencies are normal prop effects â€” coordinate with rudder, not just aileron.",
    "reference": "PHAK Chapter 5, AFH (Takeoff/climb coordination)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q174",
    "title": "Aerodynamics - Adverse Yaw (Why the Nose Goes the Wrong Way)",
    "category": "XC Planning & Perf",
    "topic": "Coordination - Adverse Yaw and Rudder Use",
    "airports": "KPAO (Palo Alto) practice area",
    "aircraft": "DA40",
    "scenario": "In a shallow turn, you roll in aileron and the nose initially yaws opposite the turn. Your friend says, â€œThatâ€™s weird â€” shouldnâ€™t it yaw into the turn?â€",
    "question": "What is adverse yaw and how do you counter it?",
    "correctAnswer": "Adverse yaw occurs because the down-going aileron increases lift and drag on that wing, pulling the nose opposite the intended turn. You counter it with coordinated rudder in the direction of the turn (or rely on differential ailerons/frise ailerons partially). The practical answer: step on the ball.",
    "trapReasoning": "â€œRudder is only for crosswinds. Turns are an aileron job.â€",
    "whyThisMatters": "Poor coordination increases drag, worsens stall behavior, and sets up skid/spin risks in the pattern. The DPE is checking coordination mindset.",
    "cramMode": "Ailerons create adverse yaw â€” rudder coordinates the turn. Step on the ball; donâ€™t fly turns with only your hands.",
    "reference": "PHAK Chapter 5, AFH coordination basics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q175",
    "title": "Aerodynamics - Induced vs Parasite Drag (Why Best Glide Exists)",
    "category": "XC Planning & Perf",
    "topic": "Drag - Total Drag Curve and Energy Management",
    "airports": "KSDL (Scottsdale) practice area",
    "aircraft": "Cessna 172",
    "scenario": "Your DPE asks, â€œWhy is there a best glide speed? Why not glide as slow as possible to stay up longer?â€",
    "question": "Your DPE asks, â€œWhy is there a best glide speed? Why not glide as slow as possible to stay up longer?",
    "correctAnswer": "At slow speeds, induced drag is high; at high speeds, parasite drag is high. Best glide occurs near the speed for minimum total drag, giving the best lift-to-drag ratio and maximum distance. Flying slower increases induced drag and can steepen the descent; flying faster increases parasite drag and also steepens descent.",
    "trapReasoning": "â€œSlower always means less sink. So slower is always better for glide.â€",
    "whyThisMatters": "This is correlation-level: the DPE wants you to connect aerodynamic theory to an emergency procedure youâ€™ll actually use.",
    "cramMode": "Best glide = minimum total drag / best L/D. Too slow (induced drag) or too fast (parasite drag) both worsen glide.",
    "reference": "PHAK Chapter 5, AFH (Glide performance)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q176",
    "title": "Aerodynamics - Best Glide with Headwind/Tailwind (Airspeed vs Groundspeed)",
    "category": "Airport Ops/Signs",
    "topic": "Glide - Misconceptions About Wind",
    "airports": "KDEN (Denver) practice area",
    "aircraft": "DA40",
    "scenario": "Engine failure scenario: you have a strong headwind. Your friend says, â€œFly faster than best glide into a headwind and slower with a tailwind.â€",
    "question": "Is that correct? How do you explain it?",
    "correctAnswer": "Best glide is primarily an **airspeed** for best L/D. Wind affects groundspeed and where you can reach, not the fundamental best-L/D airspeed. You may adjust speed slightly for strategy (penetration/controllability/terrain) or to reach a chosen landing area, but the core is: maintain best glide airspeed for the airplane unless thereâ€™s a specific reason to deviate.",
    "trapReasoning": "â€œWind changes best glide speed the same way it changes best cruise speed.â€",
    "whyThisMatters": "The DPE wants you to separate airspeed (aerodynamics) from groundspeed (navigation). Over-correcting glide speed can waste altitude and reduce options.",
    "cramMode": "Best glide is an airspeed. Wind changes where youâ€™ll reach, not the airplaneâ€™s L/D. Fly best glide unless a specific strategy requires small adjustments.",
    "reference": "AFH (Emergency operations), PHAK aerodynamics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q177",
    "title": "Aerodynamics - Density Altitude Illusion (TAS vs IAS)",
    "category": "Airport Ops/Signs",
    "topic": "Performance/Aero - True Airspeed vs Indicated",
    "airports": "KFLG (Flagstaff)",
    "aircraft": "Cessna 172",
    "scenario": "At high density altitude, the airplane â€œfeels fastâ€ on the ground and uses more runway than you expect. Your friend says, â€œBut I rotated at the same indicated airspeed as always â€” performance should be the same.â€",
    "question": "Explain the IAS vs TAS relationship and why it matters for takeoff/landing.",
    "correctAnswer": "Indicated airspeed relates to dynamic pressure and is what the wing â€œfeels,â€ but true airspeed increases with altitude/temperature. At high DA, to get the same IAS, the airplane is moving faster over the ground (higher TAS), so takeoff/landing distances increase. Thatâ€™s why high DA eats runway even when your indicated numbers look normal.",
    "trapReasoning": "â€œSame IAS means same runway performance.â€",
    "whyThisMatters": "This is a classic PPL correlation question: connect DA to actual ground distance and energy. The DPE wants you to understand why book performance changes.",
    "cramMode": "High DA = higher TAS for the same IAS. Same indicated speeds, longer ground distances â€” more runway and more energy.",
    "reference": "PHAK Chapter 10 (Performance), PHAK Chapter 5 (Airspeed concepts)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q178",
    "title": "Aerodynamics - Stall at Any Speed (Angle of Attack)",
    "category": "Airport Ops/Signs",
    "topic": "Stalls - Angle of Attack vs Airspeed",
    "airports": "KSDL (Scottsdale) practice area",
    "aircraft": "PA-28-161",
    "scenario": "Your friend says, â€œStalls only happen below 50 knots.â€ The DPE asks you to explain how an airplane can stall at 80 knots.",
    "question": "How do you answer?",
    "correctAnswer": "A stall happens when the wing exceeds its critical **angle of attack**, not at a specific airspeed. In a steep turn or pull-up, load factor increases, requiring higher AoA for the same lift, and you can reach critical AoA at a much higher airspeed â€” an accelerated stall.",
    "trapReasoning": "â€œAirspeed determines stall. AoA is just theory.â€",
    "whyThisMatters": "This is foundational: it explains why low-altitude steep turns and abrupt maneuvers can stall unexpectedly. The DPE wants you to think in AoA, not just knots.",
    "cramMode": "Stall = critical AoA, not a magic speed. Higher G or abrupt pull-up can stall you at high airspeed.",
    "reference": "PHAK Chapter 5, AFH (Stalls)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q179",
    "title": "Aerodynamics - Dutch Roll / Yaw Stability (PPL Level)",
    "category": "Airport Ops/Signs",
    "topic": "Stability - Yaw/Roll Coupling",
    "airports": "KDEN (Denver) practice area",
    "aircraft": "DA40",
    "scenario": "In light turbulence, the airplane starts a subtle oscillation: yawing left-right with a slight rolling motion. Your passenger feels queasy. Your friend says, â€œThatâ€™s aileron instability.â€",
    "question": "What is Dutch roll at a basic level and whatâ€™s the practical pilot action?",
    "correctAnswer": "Dutch roll is a coupled yaw/roll oscillation related to directional and dihedral effects. Practically, I damp it with coordinated rudder input or a yaw damper (if equipped) and avoid over-controlling with ailerons. In light aircraft itâ€™s usually mild; the key is smooth coordination and not chasing it.",
    "trapReasoning": "â€œFix it with ailerons only. Rudder makes it worse.â€",
    "whyThisMatters": "This tests whether you understand coordination and stability at a basic level and can manage passenger comfort without creating worse oscillations.",
    "cramMode": "Dutch roll is yaw/roll coupling. Dampen with coordination (rudder), donâ€™t chase it with aggressive ailerons.",
    "reference": "PHAK Chapter 5 (Stability), AFH basics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q180",
    "title": "Aerodynamics - Wing Drop in a Stall (Cause + Correction)",
    "category": "Airport Ops/Signs",
    "topic": "Stalls - Asymmetry and Proper Recovery",
    "airports": "KAPA (Centennial) practice area",
    "aircraft": "Cessna 172",
    "scenario": "During a power-off stall, the left wing drops. Your instinct is to add opposite aileron to pick it up. The DPE asks what you should do.",
    "question": "Whatâ€™s the correct recovery and why?",
    "correctAnswer": "First reduce AoA (lower the nose) and use rudder to keep coordination. Excessive aileron at the stall can increase AoA on the down-going wing and worsen the stall. Once flying again, level the wings smoothly. The key is AoA reduction first.",
    "trapReasoning": "â€œAilerons fix wing drop. Just pick the wing up first.â€",
    "whyThisMatters": "Wing drop is common and not automatically a spin â€” but wrong control inputs can create one. The DPE wants correct stall recovery fundamentals.",
    "cramMode": "Wing drop at stall: AoA down first, keep coordinated, then level wings. Donâ€™t aileron-fight a stalled wing.",
    "reference": "AFH (Stall recovery), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q181",
    "title": "Aerodynamics - Spins: Why Uncoordinated Stalls Matter",
    "category": "Airport Ops/Signs",
    "topic": "Stalls/Spins - Prevention Mindset",
    "airports": "KPRC (Prescott) practice area",
    "aircraft": "PA-28-161",
    "scenario": "Your friend says, â€œTrainers wonâ€™t spin unless you really try.â€ Youâ€™re in the pattern with distractions and a tendency to use rudder to â€œhelp turns.â€",
    "question": "Whatâ€™s your prevention-focused answer?",
    "correctAnswer": "Spins come from a stall plus yaw (uncoordinated flight). Trainers can and do spin if you stall while skidding, especially base-to-final. The prevention is coordination, stabilized approaches, avoiding steep â€œsaves,â€ and using go-arounds. I donâ€™t treat â€œit wonâ€™t spinâ€ as protection.",
    "trapReasoning": "â€œOnly aerobatic planes spin. Normal training planes just mush.â€",
    "whyThisMatters": "Base-to-final spin accidents are real. The DPE wants you to respect the aerodynamic conditions that create spins and show prevention judgment.",
    "cramMode": "Spin = stall + yaw. Prevent with coordination and go-arounds â€” especially in the pattern.",
    "reference": "AFH (Spins), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q182",
    "title": "Aerodynamics - Wake Turbulence Behind a Heavy (Go-Around Decision)",
    "category": "Airport Ops/Signs",
    "topic": "Wake Turbulence - Vortices and Avoidance",
    "airports": "KPHX (Phoenix)",
    "aircraft": "Cessna 172",
    "scenario": "Tower sequences you behind a heavy jet on final. Youâ€™re cleared to land. The jet touches down long. You feel pressure to continue because you have a clearance.",
    "question": "What do you do and where do you aim?",
    "correctAnswer": "I avoid wake turbulence by staying above the heavyâ€™s glidepath and landing beyond its touchdown point (or upwind of its track if crosswind). If spacing or conditions are uncomfortable, I request additional separation or go around. A landing clearance is not a requirement to land.",
    "trapReasoning": "â€œATC cleared me, so separation and wake safety are handled for me.â€",
    "whyThisMatters": "Wake turbulence can flip small airplanes, especially in calm winds. The DPE wants you to take ownership of wake avoidance and be willing to go around.",
    "cramMode": "Behind heavy: stay above their path and land past their touchdown. If unsure, request separation or go around â€” clearance isnâ€™t obligation.",
    "reference": "AIM wake turbulence guidance, PHAK risk management",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/chap7_section_3.html"
  },
  {
    "id": "Q183",
    "title": "Aerodynamics - Wind Shear on Short Final (Energy Response)",
    "category": "Airport Ops/Signs",
    "topic": "Energy Management - Shear Recognition",
    "airports": "KDEN (Denver)",
    "aircraft": "DA40",
    "scenario": "On short final in gusty conditions, your airspeed suddenly drops 10 knots and sink rate increases. Youâ€™re tempted to pull back to â€œhold the glidepath.â€",
    "question": "Whatâ€™s the correct aerodynamic response?",
    "correctAnswer": "Recognize this as energy loss. Pulling back increases AoA and risks a stall close to the ground. Correct response is add power promptly, maintain appropriate attitude, and be ready to go around. Preserve airspeed and controllability first.",
    "trapReasoning": "â€œIf Iâ€™m low, I should pull to get back on glidepath.â€",
    "whyThisMatters": "Wind shear kills by stealing airspeed/energy. The DPE wants you to protect AoA margin and use power/go-around rather than pitching into a stall.",
    "cramMode": "Shear = energy loss. Donâ€™t pitch up to fix low â€” add power, protect airspeed, and go around if unstable.",
    "reference": "AFH (Approach/energy management), Aviation Weather Handbook (Wind shear)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q184",
    "title": "Aerodynamics - Microburst Energy Management (Aero Perspective)",
    "category": "Airport Ops/Signs",
    "topic": "Energy Management - Headwind-to-Tailwind Trap",
    "airports": "KMCO (Orlando)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re on final with a strong headwind. Suddenly, you get a big airspeed gain, then a sharp loss and sink â€” classic microburst profile. You feel the urge to pull hard and â€œsave it.â€",
    "question": "Whatâ€™s the right response in a light trainer?",
    "correctAnswer": "Go around early if thereâ€™s any doubt. In a microburst, energy can be lost faster than a trainer can recover. The correct response is maximum available power, maintain a safe pitch attitude to preserve airspeed, and execute an escape/go-around while you still have altitude. If the cues are present, the best answer is to not be on final in the first place: divert/hold.",
    "trapReasoning": "â€œIf I pull harder, Iâ€™ll keep the airplane from sinking.â€",
    "whyThisMatters": "Pulling increases AoA and can stall the airplane while the microburst continues pushing you down. The DPE wants a conservative decision: avoid the environment and go around early.",
    "cramMode": "Microburst steals energy fast. Donâ€™t pull to â€œfight sink.â€ Power + airspeed margin + early go-around/divert.",
    "reference": "Aviation Weather Handbook (Microbursts), AFH energy management",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q185",
    "title": "Aerodynamics - Lift Equation (Conceptual Application)",
    "category": "Airport Ops/Signs",
    "topic": "Lift - What Variables You Can Actually Control",
    "airports": "KFLG (Flagstaff)",
    "aircraft": "Cessna 172",
    "scenario": "Your DPE asks, â€œOn a hot day at high altitude, what parts of the lift equation get worse, and what can the pilot actually change?â€",
    "question": "How do you answer?",
    "correctAnswer": "Air density (Ï) decreases with altitude and heat, reducing lift for a given IAS/AoA. Weight (W) is higher if loaded heavy. The pilot can control AoA (through pitch), airspeed, and configuration (flaps) to manage CL, and can reduce weight. But reduced density means you need higher true airspeed for the same indicated performance and longer distances. The practical answer: reduce weight, increase runway margin, and respect performance limits.",
    "trapReasoning": "â€œHot air reduces power only. Aerodynamics are the same.â€",
    "whyThisMatters": "This tests whether you can connect basic physics to performance decisions. The DPE wants â€œwhat changes and what I do about it.â€",
    "cramMode": "Hot/high = lower density = worse lift and performance. You canâ€™t change density, but you can change weight, speed, and configuration â€” and add margin.",
    "reference": "PHAK Chapter 5 & 10, AFH performance concepts",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q186",
    "title": "Aerodynamics - Propwash Effects in Low-Speed Control",
    "category": "Airport Ops/Signs",
    "topic": "Control - Propwash and Control Authority",
    "airports": "KSGU (St. George)",
    "aircraft": "PA-28-161",
    "scenario": "During slow flight with power, you notice the controls feel more effective than at the same airspeed with idle power. Your friend says, â€œControls only depend on airspeed.â€",
    "question": "Why does power change control feel at low speed?",
    "correctAnswer": "Propwash increases airflow over parts of the wing and tail, improving control authority even at low indicated airspeeds. Thatâ€™s why power-on stalls and slow flight can feel different. The practical implication: donâ€™t assume the same control effectiveness will exist if power is reduced unexpectedly.",
    "trapReasoning": "â€œIf airspeed is the same, control effectiveness is identical regardless of power.â€",
    "whyThisMatters": "This helps explain why stalls/spins can happen when pilots pull power abruptly or lose power near the stall â€” the control margin changes.",
    "cramMode": "Power can boost control authority via propwash. If power drops, controls can feel mushier at the same IAS â€” protect your margins.",
    "reference": "PHAK Chapter 5, AFH (Stalls/slow flight)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q187",
    "title": "Aerodynamics - Flaps: Lift/Drag/Pitch + Go-Around Handling",
    "category": "Airport Ops/Signs",
    "topic": "Configuration - Flap Effects and Go-Around Safety",
    "airports": "KCRQ (McClellan-Palomar)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re on short final with full flaps. You decide to go around. The airplane balloons and you feel behind the trim. Your friend says, â€œJust retract flaps immediately to reduce drag.â€",
    "question": "Whatâ€™s the correct flap/attitude strategy and why?",
    "correctAnswer": "Go-around: add full power, control pitch to avoid excessive AoA, manage right rudder, and retract flaps in stages per POH to avoid sudden sink and to manage climb performance. Flaps change lift, drag, and pitch moment; dumping them can remove lift abruptly and cause sink close to the ground.",
    "trapReasoning": "â€œFlaps are drag. Remove drag instantly for best climb.â€",
    "whyThisMatters": "Go-arounds fail when pilots get surprised by pitch changes and configuration effects. The DPE wants a controlled, staged configuration management answer.",
    "cramMode": "Go-around: power, pitch, rudder, then flaps in stages. Donâ€™t dump flaps low â€” you can lose lift and sink.",
    "reference": "AFH (Go-arounds), POH procedures",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q188",
    "title": "Aerodynamics - Ice Contamination and Lift Loss (Aero Concept)",
    "category": "Airport Ops/Signs",
    "topic": "Lift - Why â€œA Little Iceâ€ Is a Big Deal",
    "airports": "KROC (Rochester)",
    "aircraft": "DA40",
    "scenario": "You see a thin rough coating on the leading edge after flying near cold moisture. It looks minor. Your friend says, â€œThatâ€™s nothing â€” just a little frost-like texture.â€",
    "question": "Why is even small contamination dangerous aerodynamically?",
    "correctAnswer": "Ice/contamination changes the airfoil shape and roughens the surface, disrupting airflow, reducing lift, increasing drag, and increasing stall speedâ€”often dramatically. It can also reduce control effectiveness. Even small amounts can turn a normal approach into a stall/overrun event. The safe decision is to exit icing conditions and land.",
    "trapReasoning": "â€œIf itâ€™s thin and you can still fly, itâ€™s safe to continue.â€",
    "whyThisMatters": "This tests correlation-level understanding: the problem is airflow quality, not thickness. The DPE wants conservative action with icing cues.",
    "cramMode": "Ice changes the wing. Small contamination can massively reduce lift and raise stall speed. Donâ€™t negotiate with ice â€” get out and land.",
    "reference": "Aviation Weather Handbook (Icing), PHAK aerodynamics basics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation"
  },
  {
    "id": "Q189",
    "title": "Aerodynamics - Spiral Dive vs Spin (Recognition)",
    "category": "Airport Ops/Signs",
    "topic": "Upsets - Recognizing Different Loss-of-Control Modes",
    "airports": "KSDL (Scottsdale) practice area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re distracted and the airplane enters a steep descending turn. Airspeed is increasing rapidly and the G-load feels heavy. Your friend says, â€œWeâ€™re spinning!â€",
    "question": "Is it a spin or a spiral dive, and whatâ€™s the recovery logic?",
    "correctAnswer": "Increasing airspeed with a steep descending turn suggests a **spiral dive**, not a spin (spins tend to have lower airspeed and stalled wings). Recovery: reduce bank (level wings) while managing G-load, then reduce power and smoothly recover to level flight without overstressing the airplane. In a spin, the first step is reduce AoA with forward elevator and stop yaw with rudder. Correct identification matters.",
    "trapReasoning": "â€œAny steep descending turn is a spin. Pull back to stop it.â€",
    "whyThisMatters": "Pulling back in a spiral dive increases G-load and can overstress the aircraft. The DPE wants you to recognize airspeed cues and apply the correct recovery.",
    "cramMode": "Spin = stalled wings, lower airspeed. Spiral dive = not stalled, airspeed builds fast. Donâ€™t pull â€” roll wings level and recover smoothly.",
    "reference": "AFH (Spins/spiral dives), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q190",
    "title": "Aerodynamics - Va Misunderstanding (Why It Changes With Weight)",
    "category": "Airport Ops/Signs",
    "topic": "Maneuvering Speed - Structural Margin and Stall Margin",
    "airports": "KDEN (Denver)",
    "aircraft": "PA-28-161",
    "scenario": "Youâ€™re lighter than usual after burning fuel. You hit turbulence and your friend says, â€œVa is fixed â€” just slow to the number in the POH.â€",
    "question": "Is Va fixed? Explain what changes with weight and why it matters.",
    "correctAnswer": "Va decreases with lower weight because stall speed decreases, so the speed at which the wing stalls before the structure is overstressed is lower. POH Va is usually published at max gross; at lighter weights, the appropriate Va is lower. Practically, you slow down more when light in turbulence.",
    "trapReasoning": "â€œVa is a single magic number that protects the airplane at any weight.â€",
    "whyThisMatters": "This tests structural/aerodynamic linkage. The DPE wants you to understand Va as a concept, not a memorized speed.",
    "cramMode": "Va goes down when weight goes down. POH Va is often max gross â€” lighter airplane needs a lower Va in turbulence.",
    "reference": "AFH (Maneuvering speed), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q191",
    "title": "Aerodynamics - Maneuvering Speed in Turbulence (Operational Use)",
    "category": "Navigation",
    "topic": "Turbulence - Using Va Correctly",
    "airports": "KSLC (Salt Lake City)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re in moderate turbulence and the airplane is getting bumped. Your friend says, â€œSlow to Va and youâ€™re immune to turbulence damage.â€",
    "question": "What is Va actually protecting you from, and what does it not protect you from?",
    "correctAnswer": "Va helps protect against structural overload from **full, abrupt control deflections** (one-axis assumptions). It does not make you immune to turbulence, does not protect against multiple-axis loading, and does not protect if you make abrupt inputs beyond assumptions. You still fly smoothly, avoid severe turbulence, and slow further if needed.",
    "trapReasoning": "â€œVa is a shield. Once youâ€™re below it, nothing can hurt the airplane.â€",
    "whyThisMatters": "The DPE wants correct operational understanding: Va is part of a strategy, not a guarantee.",
    "cramMode": "Va reduces risk from abrupt inputs, not all turbulence. Fly smooth, avoid severe, and remember Va assumptions can be exceeded.",
    "reference": "AFH (Va), PHAK turbulence guidance",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q192",
    "title": "Aerodynamics - Turning Tendencies in Climb vs Cruise (Coordination)",
    "category": "Navigation",
    "topic": "Coordination - Why Rudder Needs Change",
    "airports": "KPRC (Prescott)",
    "aircraft": "Cessna 172",
    "scenario": "In climb you need a lot of right rudder. In cruise you need much less. Your passenger says, â€œWhy canâ€™t we just trim the rudder once and forget it?â€",
    "question": "In climb you need a lot of right rudder. In cruise you need much less. Your passenger says, â€œWhy canâ€™t we just trim the rudder once and forget it?",
    "correctAnswer": "Left-turning tendencies are strongest at high power and high AoA (climb), and reduce as AoA decreases and power changes (cruise). Torque, P-factor, and slipstream effects vary with configuration. Thatâ€™s why rudder input changes across phases of flight.",
    "trapReasoning": "â€œThe airplane should be rigged to fly straight. If rudder changes, something is wrong.â€",
    "whyThisMatters": "This tests whether you understand coordination as an active skill, not a one-time adjustment.",
    "cramMode": "More power + higher AoA = more left-turn tendency = more right rudder. Coordination changes with phase of flight.",
    "reference": "PHAK Chapter 5, AFH takeoff/climb coordination",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q193",
    "title": "Aerodynamics - Descending Turns and Stall Trap (Low Altitude)",
    "category": "Navigation",
    "topic": "Energy/AoA - Why Descending Turns Can Still Stall",
    "airports": "KCRQ (McClellan-Palomar)",
    "aircraft": "PA-28-161",
    "scenario": "On base, youâ€™re high and fast. You pull power to descend, then tighten the turn. You feel safe because youâ€™re descending, not climbing. The stall warning chirps.",
    "question": "How can you stall while descending, and what do you do?",
    "correctAnswer": "Stall is about AoA, not whether youâ€™re climbing. In a turn, load factor increases required lift, and if you pull to tighten or maintain glidepath while slow, AoA can exceed critical. Recovery: reduce AoA (lower nose), add power if needed, level wings as appropriate, and go around.",
    "trapReasoning": "â€œStalls only happen when youâ€™re climbing or nose-high.â€",
    "whyThisMatters": "Pattern stalls happen because pilots believe â€œdescending = safe.â€ The DPE wants AoA-based thinking and go-around discipline.",
    "cramMode": "You can stall anytime AoA exceeds critical â€” even descending. Tightening turns low is a trap; fix AoA and go around.",
    "reference": "PHAK Chapter 5, AFH (Stalls)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q194",
    "title": "Aerodynamics - â€œStretching the Glideâ€ After Engine Failure",
    "category": "Navigation",
    "topic": "Glide - Angle of Attack and Drag Trap",
    "airports": "KSDL (Scottsdale) practice area",
    "aircraft": "Cessna 172",
    "scenario": "Engine fails and the runway you want is â€œalmostâ€ reachable. You feel tempted to raise the nose to stretch the glide.",
    "question": "Why is that dangerous and whatâ€™s the correct technique?",
    "correctAnswer": "Raising the nose increases AoA and induced drag, reducing glide distance and potentially leading to a stall/spin. The correct technique is to pitch for best glide, pick a reachable landing area, and manage energy with coordinated turns and configuration. You donâ€™t negotiate with physics â€” you fly the airplane at its best L/D.",
    "trapReasoning": "â€œIf I just hold it up a little longer, I can make the runway.â€",
    "whyThisMatters": "â€œStretching the glideâ€ is a common fatal error. The DPE wants you to commit to best glide and choose a reachable option rather than stalling short.",
    "cramMode": "Donâ€™t stretch the glide. Best glide wins distance; nose-up adds induced drag and can stall you short.",
    "reference": "AFH (Engine-out procedures), PHAK aerodynamics",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q195",
    "title": "Aerodynamics - Integrated Aero Scenario (Load Factor + Coordination + Gusts)",
    "category": "Navigation",
    "topic": "Aerodynamics Integration - Checkride-Level Synthesis",
    "airports": "KPRC (Prescott)",
    "aircraft": "DA40",
    "scenario": "Youâ€™re in the pattern with gusty winds. You overshoot final and feel pressure from traffic behind you. You consider steepening the bank and adding inside rudder to â€œtightenâ€ the turn while carrying extra speed for gusts.",
    "question": "Whatâ€™s the correct decision and how do you justify it aerodynamically?",
    "correctAnswer": "Go around. Gusts already create airspeed variability. Steep bank raises stall speed (load factor), and inside rudder risks a skid/spin entry. The combination is exactly the base-to-final accident recipe. The aerodynamically correct choice is a stabilized go-around and re-entry rather than trying to salvage the approach.",
    "trapReasoning": "â€œIf Iâ€™m faster for gusts, I can safely steepen the turn and tighten it with rudder.â€",
    "whyThisMatters": "This is correlation-level: it combines load factor, AoA, coordination, and gust energy management. The DPE wants the conservative operational choice grounded in aerodynamic reasoning.",
    "cramMode": "Gusts + steep turn + rudder â€œtightenâ€ = stall/spin recipe. Go around early and keep the approach stabilized.",
    "reference": "AFH (Stalls/spins/approach control), PHAK Chapter 5",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q226",
    "title": "Emergency Ops - Engine Fire In Flight",
    "category": "Aerodynamics",
    "topic": "Emergency - Fire Priorities",
    "airports": "KPDK (Peachtree-DeKalb) area",
    "aircraft": "Cessna 172",
    "scenario": "In cruise, you smell smoke and see a flicker of flame near the cowling seam. Your passenger panics. Youâ€™re near an airport but not directly overhead.",
    "question": "Whatâ€™s your immediate action plan?",
    "correctAnswer": "Aviate first: maintain control and best glide if power is reduced. I execute the POH engine-fire checklist (fuel selector off, mixture idle cut-off, mags off, master off as appropriate), increase airspeed to blow out flames if recommended, and commit to an immediate landingâ€”this is land ASAP, not â€˜land as soon as practical.â€™ I declare an emergency.",
    "trapReasoning": "â€œIâ€™ll troubleshoot to confirm itâ€™s real before shutting anything off.â€",
    "whyThisMatters": "Fire is time-critical. The DPE wants decisive checklist execution and an immediate landing plan.",
    "cramMode": "Fire = checklist + land immediately. Declare early.",
    "reference": "AFH (Emergency Procedures), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q227",
    "title": "Emergency Ops - Cabin Fire / Electrical Smoke",
    "category": "Aerodynamics",
    "topic": "Emergency - Electrical Fire Response",
    "airports": "KPAO (Palo Alto)",
    "aircraft": "DA40",
    "scenario": "You smell electrical burning and see light smoke from behind the panel. Youâ€™re tempted to keep radios on because youâ€™re in busy airspace.",
    "question": "Whatâ€™s your priority and how do you manage comms?",
    "correctAnswer": "I prioritize stopping the fire source: follow the POH (master off, avionics off, isolate circuits if possible), use ventilation to clear smoke, and land as soon as possible. If I must communicate, I can do brief radio calls on battery only after smoke is controlled, but not at the expense of fire control.",
    "trapReasoning": "â€œKeep everything on so ATC can help; smoke isnâ€™t a big deal.â€",
    "whyThisMatters": "Smoke can incapacitate you fast. The DPE wants priorities: fire control > comms convenience.",
    "cramMode": "Smoke = treat as fire. Kill the source, ventilate, land soon.",
    "reference": "AFH (Emergency Procedures)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q228",
    "title": "Emergency Ops - Engine Roughness: â€˜Fix It With Carb Heatâ€™ (Correct Use)",
    "category": "Aerodynamics",
    "topic": "Emergency - Engine Roughness Decision",
    "airports": "KDTW (Detroit) area",
    "aircraft": "PA-28-161",
    "scenario": "In cruise, the engine runs rough and RPM drops. Youâ€™re over mixed terrain with airports nearby. Youâ€™re tempted to keep going because itâ€™s only 15 minutes home.",
    "question": "Whatâ€™s your troubleshooting order and decision trigger?",
    "correctAnswer": "I fly the airplane and set up for a possible forced landing (nearest suitable airport identified). Then I apply the checklist: carb heat (if applicable), mixture adjust, fuel selector, fuel pump (if equipped), primer locked, mags check if time permits. If roughness persists, I land at the nearest suitable airport rather than pressing on.",
    "trapReasoning": "â€œIf it improves a little, Iâ€™ll just continue.â€",
    "whyThisMatters": "Small improvements can mask a worsening failure. The DPE wants you to bias toward landing while you still have power and options.",
    "cramMode": "Roughness: identify a landing option first, then checklist. If not fully resolved, land soon.",
    "reference": "AFH (Abnormal/Emergency), PHAK (Powerplant)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q229",
    "title": "Emergency Ops - Alternator Failure at Night (Emergency vs Practical)",
    "category": "Aerodynamics",
    "topic": "Emergency - Electrical Failure Management",
    "airports": "KABQ (Albuquerque)",
    "aircraft": "Cessna 172",
    "scenario": "Night cross-country: LOW VOLTS light comes on and voltage drops. Youâ€™re 35 minutes from destination and 10 minutes from a nearby airport. Your passenger says, â€œKeep going; weâ€™ll be fine.â€",
    "question": "Whatâ€™s the conservative decision?",
    "correctAnswer": "I shed load, run the checklist, and land at the nearest suitable airport while I still have lights and radios. At night, losing electrical can quickly become an emergency due to loss of lighting and comms. I donâ€™t press.",
    "trapReasoning": "â€œItâ€™s still running; we can finish and fix it later.â€",
    "whyThisMatters": "Night adds dependency on electrical systems. The DPE wants you to recognize how the risk changes with conditions.",
    "cramMode": "At night, electrical failures become urgentâ€”land while you still have options.",
    "reference": "PHAK (Electrical), AFH (Night/Emergencies)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q230",
    "title": "Emergency Ops - Door Open After Takeoff (Priorities)",
    "category": "Aerodynamics",
    "topic": "Emergency - Minor Abnormal vs Distraction",
    "airports": "KORL (Orlando Exec)",
    "aircraft": "Cessna 172",
    "scenario": "Shortly after takeoff, the door pops open. Itâ€™s loud and distracting. Your passenger grabs at it. Youâ€™re low and climbing out over suburban terrain.",
    "question": "What do you do?",
    "correctAnswer": "I keep flying the airplane: maintain climb speed and control, donâ€™t try to force the door closed at low altitude. Once safe, I level off if needed, slow, and return for a normal landing. I brief the passenger not to interfere with controls.",
    "trapReasoning": "â€œImmediately try to slam the door shut while climbing.â€",
    "whyThisMatters": "This tests priorities. Many incidents become accidents because the pilot fixates on a minor issue at low altitude.",
    "cramMode": "Door open is not an emergency. Fly, climb, then come back and land normally.",
    "reference": "AFH (Abnormal/Emergency Procedures)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q231",
    "title": "Emergency Ops - Radio Failure (Towered): Light Gun / Predictable Behavior",
    "category": "Aerodynamics",
    "topic": "Communications - NORDO at a Towered Airport (VFR)",
    "airports": "KCRQ (McClellan-Palomar)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re inbound to a towered airport. Your radio suddenly goes deadâ€”no sidetone, no receive. Youâ€™re already in the downwind and you know tower is sequencing traffic. You feel pressure because you donâ€™t want to create a mess or fail the checkride.",
    "question": "What do you do to safely and legally land?",
    "correctAnswer": "I keep flying a predictable pattern, look for light gun signals from the tower, and avoid doing anything sudden. If possible, I troubleshoot quickly (volume, audio panel, alternate/COM2, headset plug). I squawk 7600 if equipped. I comply with light gun signals, land when cleared by signal, and clear the runway. If safety requires immediate landing, I do so while remaining as predictable as possible.",
    "trapReasoning": "â€œIf my radio dies, I should immediately leave the area and fly home.â€",
    "whyThisMatters": "A comm failure at a towered airport is manageable if you stay predictable and use light signals. The DPE wants you to know the concept and not panic into creating a traffic conflict.",
    "cramMode": "NORDO VFR at towered: stay predictable, watch for light signals, squawk 7600, land when signaled.",
    "reference": "AIM (Light Gun Signals/Comm Failure), 14 CFR 91.129",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-B/section-91.129"
  },
  {
    "id": "Q232",
    "title": "Emergency Ops - Brake Failure / No Brakes on Taxi In",
    "category": "Aerodynamics",
    "topic": "Landing/Taxi - Abnormal Braking",
    "airports": "KAPA (Centennial)",
    "aircraft": "PA-28-161",
    "scenario": "After landing, you apply brakes to make the first turnoff and the pedals go to the floor. You still have runway left, but an airplane is on short final behind you. You feel pressure to clear the runway quickly.",
    "question": "Whatâ€™s your immediate plan?",
    "correctAnswer": "I keep the airplane tracking straight, use aerodynamic braking (hold nose off), reduce speed, and use gentle turning/rolling resistance. If I canâ€™t safely clear the runway, I continue straight to a safe stop rather than forcing a high-speed turnoff. I communicate as able and accept that I may block the runway brieflyâ€”safety first.",
    "trapReasoning": "â€œI need to make the first turnoff no matter what, or Iâ€™ll cause a runway incursion.â€",
    "whyThisMatters": "Forcing a quick turn with no brakes can cause a loss of control. The DPE wants you to prioritize staying on the pavement under control over social pressure.",
    "cramMode": "No brakes: aerodynamic braking + straight-ahead stop beats a rushed high-speed exit.",
    "reference": "AFH (Abnormal/Emergency Landing), PHAK (Airport Ops)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q233",
    "title": "Emergency Ops - Vacuum/Attitude Indicator Failure in Marginal VFR",
    "category": "Aerodynamics",
    "topic": "Instrument Failure - Decision to Land",
    "airports": "KHVN (New Haven)",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re VFR under a 2,500-foot ceiling with haze. The attitude indicator slowly tumbles and the heading indicator begins to drift. Youâ€™re not instrument rated. You feel pressure to continue because youâ€™re only 20 minutes from home.",
    "question": "Whatâ€™s your safest decision and why?",
    "correctAnswer": "I treat this as a partial-panel situation with increased risk of spatial disorientationâ€”especially in marginal visibility. I maintain VFR by keeping a strong outside scan, cross-checking the turn coordinator, airspeed, altimeter, and VSI, and I divert to the nearest suitable airport to land while conditions are still manageable.",
    "trapReasoning": "â€œIf Iâ€™m VFR, instrument failures donâ€™t matter.â€",
    "whyThisMatters": "Even VFR pilots can become disoriented in haze/flat light. The DPE wants you to recognize when a â€˜systemsâ€™ issue becomes an operational risk and to choose the conservative landing.",
    "cramMode": "Partial panel + marginal VFR = land soon. Keep eyes outside and use remaining instruments.",
    "reference": "PHAK (Instruments/Spatial Disorientation), AFH (Instrument Failures)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q234",
    "title": "Emergency Ops - Passenger Incapacitation (Non-Pilot) and Diversion",
    "category": "Aerodynamics",
    "topic": "Medical - PIC Decision and Priorities",
    "airports": "KBOI (Boise) â†’ KTWF (Twin Falls)",
    "aircraft": "DA40",
    "scenario": "Cruise at 6,500 MSL. Your passenger becomes pale, confused, and begins vomiting. They insist theyâ€™re fine, but youâ€™re worried. You feel pressure because youâ€™re close to destination and donâ€™t want to â€˜overreact.â€™",
    "question": "What do you do and what do you communicate?",
    "correctAnswer": "I treat it as a time-sensitive medical issue: stabilize the airplane, provide ventilation, consider oxygen if available, and divert to the nearest suitable airport. I advise ATC of a medical situation and request priority handling if needed. The safest answer is to get on the ground and get help.",
    "trapReasoning": "â€œIâ€™ll just continue; itâ€™s only a short time left.â€",
    "whyThisMatters": "Medical issues can worsen rapidly, and in-flight workload can spike. The DPE wants conservative judgment: land early when health is uncertain.",
    "cramMode": "Medical uncertainty: land early. Declare/request priority as neededâ€”get help on the ground.",
    "reference": "FAA Risk Management Handbook, 14 CFR 91.3",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/risk_management_handbook | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.3"
  },
  {
    "id": "Q235",
    "title": "Emergency Ops - Engine Failure Over Water (Near Shore)",
    "category": "Aerodynamics",
    "topic": "Forced Landing - Overwater Options",
    "airports": "KEYW (Key West) area",
    "aircraft": "Cessna 172",
    "scenario": "Youâ€™re flying along the Florida Keys shoreline when the engine quits. You have beaches/spit islands nearby but also boats and shallow water. You feel pressure because your passenger is panicking and asking â€˜what are you doing?!â€™",
    "question": "Where do you aim and what are your priorities?",
    "correctAnswer": "I pitch for best glide, pick the best landing area within reach (prefer land if practical and safe), and commit early. If landing on water is necessary, I choose into the wind with the smoothest surface, brief passengers (doors unlatched if appropriate, belts tight), and prepare for egress. I transmit MAYDAY and squawk 7700 if able.",
    "trapReasoning": "â€œAlways ditch in water even if land is closeâ€”itâ€™s softer.â€",
    "whyThisMatters": "Ditching is high risk; land is usually preferred if reachable without increasing risk. The DPE wants a calm, structured forced-landing plan and passenger management.",
    "cramMode": "Engine out: best glide, pick a spot early (land if practical), brief passengers, communicate/7700.",
    "reference": "AFH (Forced Landings/DITCHING)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q236",
    "title": "Emergency Ops - Electrical Smoke Then Clears (Continue Trap)",
    "category": "Emergency Ops",
    "topic": "Abnormal - Treat as Real Until Proven Otherwise",
    "airports": "KHSV (Huntsville)",
    "aircraft": "PA-28-161",
    "scenario": "You smell electrical smoke for 20 seconds, then it clears. Everything appears normal again. Youâ€™re tempted to continue because you donâ€™t want to divert and explain the delay.",
    "question": "Do you continue? Whatâ€™s the conservative decision path?",
    "correctAnswer": "I treat it as a real electrical/fire risk. I follow the checklist (reduce load, isolate/secure as appropriate), monitor for recurrence, and divert to land as soon as practical. If smoke returns, it becomes land ASAP. Continuing without diagnosing or landing is poor risk management.",
    "trapReasoning": "â€œIf it goes away, itâ€™s solved.â€",
    "whyThisMatters": "Intermittent electrical faults can reappear as fire. The DPE wants you to resist plan continuation bias and choose a conservative landing.",
    "cramMode": "Smoke isnâ€™t â€˜fixedâ€™ because it stopped. Treat it as seriousâ€”divert and land soon.",
    "reference": "AFH (Electrical Fire/Smoke), PHAK (Electrical)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q237",
    "title": "Emergency Ops - Bird Strike After Takeoff (Continue vs Return)",
    "category": "Emergency Ops",
    "topic": "Abnormal - Performance/Control Assessment",
    "airports": "KHPN (White Plains)",
    "aircraft": "Cessna 172",
    "scenario": "Right after takeoff, you hit a bird. You hear a loud thump and feel a vibration. The engine seems to run, but youâ€™re not sure. You feel pressure because thereâ€™s traffic behind you and you donâ€™t want to disrupt the pattern.",
    "question": "How do you decide whether to continue or return?",
    "correctAnswer": "I keep the airplane flying, assess controllability and engine performance, and choose the conservative option: return and land as soon as practical if thereâ€™s any doubt about damage or vibration. If performance is degraded or controls are affected, I declare an emergency and land ASAP.",
    "trapReasoning": "â€œIf the engine is still running, keep goingâ€”donâ€™t overreact.â€",
    "whyThisMatters": "Bird strikes can damage props, windscreens, and control surfaces. The DPE wants you to bias toward landing while you still have power and options.",
    "cramMode": "After a strike: fly first, assess, then land soon if thereâ€™s any doubtâ€”donâ€™t press.",
    "reference": "AFH (Abnormal/Emergency), PHAK (Aeromedical/Distraction)",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/phak"
  },
  {
    "id": "Q238",
    "title": "Emergency Ops - Trim Runaway / Stuck Trim (Control and Landing)",
    "category": "Emergency Ops",
    "topic": "Flight Controls - Abnormal Trim",
    "airports": "KPDK (Peachtree-DeKalb)",
    "aircraft": "DA40",
    "scenario": "On climbout, the airplane suddenly pitches nose-down and the trim wheel moves without your input. You can hold it with force, but itâ€™s fatiguing. You feel pressure because youâ€™re close to Class B shelves and busy airspace.",
    "question": "What do you do to keep control and land safely?",
    "correctAnswer": "I immediately hold attitude with the yoke, disconnect the autopilot/trim system if applicable, and use the checklist. I reduce workload (level off, reduce speed to reduce control forces), declare as needed, and return to land. I avoid fighting it into a complex environmentâ€”land at the nearest suitable airport.",
    "trapReasoning": "â€œJust keep trimming the other way until it stops.â€",
    "whyThisMatters": "Runaway trim can quickly lead to loss of control or pilot exhaustion. The DPE wants decisive disconnect actions and a conservative landing plan.",
    "cramMode": "Trim runaway: hold attitude, disconnect, slow to reduce forces, and land soon.",
    "reference": "AFH (Flight Control Malfunctions), POH",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q239",
    "title": "Emergency Ops - Wind Shear on Short Final (Energy + Go-Around)",
    "category": "Emergency Ops",
    "topic": "Approach/Landing - Wind Shear Response",
    "airports": "KDEN (Denver)",
    "aircraft": "Cessna 172",
    "scenario": "On short final, airspeed suddenly drops 15 knots and sink rate increases. You add power but youâ€™re low. You feel pressure to â€˜make the landingâ€™ because youâ€™re already committed.",
    "question": "What do you do?",
    "correctAnswer": "I execute an immediate go-around if performance allows: full power, pitch for a safe airspeed, and avoid excessive pitch that could lead to a stall. I follow the go-around procedure and consider declaring wind shear to ATC. If the airplane cannot climb due to severe shear, I minimize sink and land straight ahead under control.",
    "trapReasoning": "â€œHold the approach and just pull back to get the airspeed back.â€",
    "whyThisMatters": "Wind shear is an energy problem. Pulling back increases AoA and can cause a stall close to the ground. The DPE wants â€˜power + correct pitch + go-around earlyâ€™ thinking.",
    "cramMode": "Wind shear: add power, manage pitch, go around earlyâ€”donâ€™t yank to â€˜saveâ€™ it.",
    "reference": "AIM (Wind Shear), AFH (Go-Arounds)",
    "link": "https://www.faa.gov/air_traffic/publications/atpubs/aim_html/index.html | https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook"
  },
  {
    "id": "Q240",
    "title": "Emergency Ops - Emergency Descent for Smoke/Medical",
    "category": "Emergency Ops",
    "topic": "Emergency - Rapid Descent Planning",
    "airports": "KABQ (Albuquerque) area",
    "aircraft": "PA-28-161",
    "scenario": "At 9,500 MSL, smoke begins to build and your passenger is coughing. You need to get down quickly but youâ€™re also worried about overspeeding and losing control in turbulence.",
    "question": "When do you initiate an emergency descent and how do you do it safely?",
    "correctAnswer": "If smoke/medical requires immediate action, I initiate a rapid descent while maintaining control: power reduction as appropriate, configure per POH if recommended, use a steep descending turn if needed to stay near a landing option, and avoid exceeding limitations (Vne, flap speed). I communicate as able, declare an emergency, and land as soon as possible.",
    "trapReasoning": "â€œAn emergency descent means â€˜dive to the ground as fast as possible.â€™â€",
    "whyThisMatters": "This tests controlled urgency: fast doesnâ€™t mean uncontrolled. The DPE wants you to descend quickly while still respecting aircraft limits and keeping a plan to land.",
    "cramMode": "Emergency descent = urgency with control: stay within limits and aim to land ASAP.",
    "reference": "AFH (Emergency Procedures), 14 CFR 91.3",
    "link": "https://www.faa.gov/regulations_policies/handbooks_manuals/aviation/airplane_handbook | https://www.ecfr.gov/current/title-14/chapter-I/subchapter-F/part-91/subpart-A/section-91.3"
  }
];

// Helper functions
function getQuestionsByCategory(category) {
    return ALL_QUESTIONS.filter(q => q.category === category);
}

function getAllCategories() {
    return [...new Set(ALL_QUESTIONS.map(q => q.category))].sort();
}

function getRandomQuestions(count, excludeIds = []) {
    const available = ALL_QUESTIONS.filter(q => !excludeIds.includes(q.id));
    return [...available].sort(() => Math.random() - 0.5).slice(0, count);
}

function getQuestionById(id) {
    return ALL_QUESTIONS.find(q => q.id === id);
}

const questions = ALL_QUESTIONS;

        const QUESTION_IDS = questions.map(q => q.id);
        const QUESTIONS_BY_ID = new Map(questions.map(q => [q.id, q]));

        function getQuestion(id) {
            return QUESTIONS_BY_ID.get(id);
        }
        
        // Show app
        function startApp() {
            document.getElementById('landing-screen').classList.add('hidden');
            document.getElementById('app-screen').classList.add('active');
            updateStats();
            
            // Show onboarding on first visit
            const hasSeenOnboarding = localStorage.getItem('ppl-seen-onboarding');
            if (!hasSeenOnboarding) {
                document.getElementById('onboarding-overlay').classList.remove('hidden');
            }
        }
        
        // Close onboarding
        function closeOnboarding() {
            document.getElementById('onboarding-overlay').classList.add('hidden');
            localStorage.setItem('ppl-seen-onboarding', 'true');
        }
        
        // Check if all questions completed
        function checkCompletion() {
            const totalQuestions = questions.length;
            const studiedCount = Object.keys(progress).length;
            
            if (studiedCount === totalQuestions) {
                showCompletionScreen();
            }
        }
        
        // Show completion screen
        function showCompletionScreen() {
            let correct = 0, unsure = 0, wrong = 0;
            
            for (let key in progress) {
                if (progress[key] === 'correct') correct++;
                else if (progress[key] === 'unsure') unsure++;
                else if (progress[key] === 'wrong') wrong++;
            }
            
            const percentage = Math.round((correct / questions.length) * 100);
            
            let message = '';
            if (percentage >= 80) {
                message = "Outstanding! You're showing checkride-ready knowledge. Keep this momentum going!";
            } else if (percentage >= 60) {
                message = "Good progress! Review the questions you missed and you'll be checkride-ready.";
            } else {
                message = "Keep studying! Focus on the questions marked 'Need Practice' to strengthen your weak areas.";
            }
            
            const completionHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 64px; margin-bottom: 16px;">ðŸŽ‰</div>
                    <h2 style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 800; color: #1e3a8a; margin-bottom: 16px;">
                        Practice Complete!
                    </h2>
                    <div style="font-size: 72px; font-weight: 800; background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 16px;">
                        ${percentage}%
                    </div>
                    <p style="color: #64748b; font-size: 18px; line-height: 1.6; max-width: 500px; margin: 0 auto 32px;">
                        ${message}
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; max-width: 400px; margin: 0 auto 32px;">
                        <div style="background: #f0fdf4; padding: 16px; border-radius: 12px; border: 2px solid #bbf7d0;">
                            <div style="font-size: 32px; font-weight: 800; color: #16a34a;">${correct}</div>
                            <div style="font-size: 12px; color: #16a34a; font-weight: 600;">MASTERED</div>
                        </div>
                        <div style="background: #fffbeb; padding: 16px; border-radius: 12px; border: 2px solid #fde68a;">
                            <div style="font-size: 32px; font-weight: 800; color: #d97706;">${unsure}</div>
                            <div style="font-size: 12px; color: #d97706; font-weight: 600;">REVIEW</div>
                        </div>
                        <div style="background: #fef2f2; padding: 16px; border-radius: 12px; border: 2px solid #fecaca;">
                            <div style="font-size: 32px; font-weight: 800; color: #dc2626;">${wrong}</div>
                            <div style="font-size: 12px; color: #dc2626; font-weight: 600;">PRACTICE</div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(59,130,246,0.1) 0%, rgba(37,99,235,0.1) 100%); border: 2px solid rgba(59,130,246,0.3); border-radius: 16px; padding: 24px; margin-bottom: 24px;">
                        <div style="font-size: 24px; margin-bottom: 8px;">ðŸ’¡</div>
                        <h3 style="font-size: 20px; font-weight: 700; color: #1e3a8a; margin-bottom: 8px;">What's Next?</h3>
                        <p style="font-size: 14px; color: #64748b; margin-bottom: 16px;">
                            ${wrong > 0 ? 
                                `Focus on the <strong>${wrong} questions</strong> you got wrong. Use <strong>Review Wrong Answers</strong> mode to master them.` : 
                                percentage >= 80 ? 
                                    `You're ready! Take the <strong>Mock Checkride</strong> to test yourself under real exam pressure.` :
                                    `Try <strong>Random Mode</strong> again to test your recall, then review any missed questions.`
                            }
                        </p>
                    </div>
                    
                    <div style="display: flex; gap: 12px; justify-content: center;">
                        <button type="button" onclick="backToModes()" style="padding: 16px 32px; background: rgba(59,130,246,0.1); color: #1e40af; border: 2px solid rgba(59,130,246,0.3); border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif;">
                            â† Back to Modes
                        </button>
                        ${wrong > 0 ? 
                            `<button type="button" onclick="closeCompletion(); startMode('review');" style="padding: 16px 32px; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; box-shadow: 0 4px 20px rgba(59,130,246,0.3);">
                                Review Wrong Answers â†’
                            </button>` :
                            percentage >= 80 ?
                                `<button type="button" onclick="closeCompletion(); startMockCheckride();" style="padding: 16px 32px; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; box-shadow: 0 4px 20px rgba(239,68,68,0.3);">
                                    Take Mock Checkride â†’
                                </button>` :
                                `<button type="button" onclick="closeCompletion(); startMode('random');" style="padding: 16px 32px; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; box-shadow: 0 4px 20px rgba(59,130,246,0.3);">
                                    Try Random Mode â†’
                                </button>`
                        }
                    </div>
                </div>
            `;
            
            // Insert into question card
            const questionCard = document.getElementById('question-card');
            questionCard.innerHTML = completionHTML;
        }
        
        // Close completion screen
        function closeCompletion() {
            backToModes();
        }
        
        // Show upgrade modal
        function showUpgradeModal(feature) {
            const modal = document.getElementById('upgrade-overlay');
            const title = document.getElementById('upgrade-title');
            const subtitle = document.getElementById('upgrade-subtitle');
            
            if (feature === 'mock') {
                title.textContent = 'Mock Checkride Simulator';
                subtitle.textContent = 'Practice under real checkride pressure with timed exams';
            } else if (feature === 'review') {
                title.textContent = 'Review Wrong Answers Mode';
                subtitle.textContent = 'Focus on your weak areas with targeted practice';
            } else if (feature === 'insights') {
                title.textContent = 'Performance Insights';
                subtitle.textContent = 'Get detailed analytics on your study patterns';
            } else if (feature === 'export') {
                title.textContent = 'Export Progress Report';
                subtitle.textContent = 'Download your performance data as PDF';
            }
            
            modal.classList.remove('hidden');
        }
        
        // Close upgrade modal
        function closeUpgradeModal() {
            document.getElementById('upgrade-overlay').classList.add('hidden');
        }
        
        // Upgrade now (redirect to purchase page)
        function upgradeNow() {
            // Replace with your actual Gumroad link
            window.open('https://gumroad.com/pplcheckride', '_blank');
        }
        
        // Mock Checkride Variables
        let mockTimer = null;
        let mockTimeRemaining = 30 * 60; // 30 minutes
        let mockQuestions = [];
        let mockCurrentIndex = 0;
        let mockResults = [];
        
        // Start Mock Checkride (show briefing)
        function startMockCheckride() {
            // Hide mode selection
            document.getElementById('mode-selection').classList.add('hidden');
            document.getElementById('main-reset-container').classList.add('hidden');
            document.getElementById('stats-dashboard').classList.add('hidden');
            
            // Show briefing
            const briefing = document.getElementById('mock-briefing');
            briefing.classList.remove('hidden');
            briefing.classList.add('active');
        }
        
        // Cancel Mock Checkride
        function cancelMockCheckride() {
            const briefing = document.getElementById('mock-briefing');
            briefing.classList.remove('active');
            briefing.classList.add('hidden');
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('main-reset-container').classList.remove('hidden');
            document.getElementById('stats-dashboard').classList.remove('hidden');
        }
        
        // Exit mock checkride during exam
        function exitMockCheckride() {
            // console.log('exitMockCheckride - showing modal');
            // Show custom confirmation modal
            document.getElementById('exit-mock-overlay').classList.remove('hidden');
        }
        
        function closeExitConfirmation() {
            // console.log('Exit cancelled');
            document.getElementById('exit-mock-overlay').classList.add('hidden');
        }
        
        function closeNoWrongAnswersModal() {
            // console.log('Closing no wrong answers modal');
            document.getElementById('no-wrong-answers-overlay').classList.add('hidden');
        }
        
        function confirmExitMock() {
            // console.log('Exit confirmed - proceeding');
            
            // Hide modal
            document.getElementById('exit-mock-overlay').classList.add('hidden');
            
            // Stop timer immediately
            if (window.mockTimer) {
                clearInterval(window.mockTimer);
                window.mockTimer = null;
                // console.log('Timer stopped');
            }
            
            // Hide exam screen
            const examScreen = document.getElementById('mock-exam-screen');
            examScreen.classList.remove('active');
            examScreen.classList.add('hidden');
            // console.log('Exam screen hidden');
            
            // Show mode selection
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('main-reset-container').classList.remove('hidden');
            document.getElementById('stats-dashboard').classList.remove('hidden');
            // console.log('Mode selection shown');
            
            // Reset exam state
            mockCurrentIndex = 0;
            mockResults = [];
            // console.log('Exit complete');
        }
        
        // Begin Mock Checkride (start timer and exam)
        function beginMockCheckride() {
            // Category-stratified random selection (30 total)
            // Uses category proportions without hard-coded index ranges.
            function pickMockQuestionIds(count) {
                const byCategory = {};
                for (const q of questions) {
                    const category = (q.category || 'Uncategorized').toString();
                    (byCategory[category] ||= []).push(q.id);
                }

                // Shuffle each category bucket
                for (const category of Object.keys(byCategory)) {
                    const arr = byCategory[category];
                    for (let i = arr.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [arr[i], arr[j]] = [arr[j], arr[i]];
                    }
                }

                const selected = [];
                while (selected.length < count) {
                    const categories = Object.keys(byCategory).filter(c => byCategory[c].length > 0);
                    if (categories.length === 0) break;

                    // Weighted pick by remaining size
                    const total = categories.reduce((sum, c) => sum + byCategory[c].length, 0);
                    let r = Math.random() * total;
                    let chosen = categories[categories.length - 1];
                    for (const c of categories) {
                        r -= byCategory[c].length;
                        if (r <= 0) {
                            chosen = c;
                            break;
                        }
                    }

                    const id = byCategory[chosen].pop();
                    if (id) selected.push(id);
                }

                return selected;
            }

            mockQuestions = pickMockQuestionIds(30);
            
            mockCurrentIndex = 0;
            mockResults = [];
            mockTimeRemaining = 30 * 60; // 30 minutes
            
            // Hide briefing, show exam
            const briefing = document.getElementById('mock-briefing');
            briefing.classList.remove('active');
            briefing.classList.add('hidden');
            
            const examScreen = document.getElementById('mock-exam-screen');
            examScreen.classList.remove('hidden');
            examScreen.classList.add('active');
            
            // Start timer
            startMockTimer();
            
            // Load first question
            loadMockQuestion();
        }
        
        // Start timer
        function startMockTimer() {
            mockTimer = setInterval(() => {
                mockTimeRemaining--;
                
                const minutes = Math.floor(mockTimeRemaining / 60);
                const seconds = mockTimeRemaining % 60;
                const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                document.getElementById('timer-display').textContent = display;
                
                // Warning colors
                const timerEl = document.getElementById('mock-timer');
                if (mockTimeRemaining <= 300) { // 5 minutes
                    timerEl.style.background = 'rgba(239,68,68,0.25)';
                    timerEl.style.borderColor = 'rgba(239,68,68,0.5)';
                }
                
                // Time's up
                if (mockTimeRemaining <= 0) {
                    clearInterval(mockTimer);
                    endMockCheckride();
                }
            }, 1000);
        }
        
        // Load mock question
        function loadMockQuestion() {
            const questionId = mockQuestions[mockCurrentIndex];
            const q = getQuestion(questionId);

            if (!q) return;

            function formatInline(text) {
                const t = (text || '').toString();
                return t.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
            }

            function paragraphs(text) {
                const raw = (text || '').toString().trim();
                if (!raw) return '';
                return raw
                    .split(/\n\s*\n/g)
                    .map(p => `<p style="margin-bottom: 10px;">${formatInline(p)}</p>`)
                    .join('');
            }

            function primaryLink(linkField) {
                const raw = (linkField || '').toString().trim();
                if (!raw) return '';
                return raw.split('|')[0].trim();
            }
            
            document.getElementById('mock-q-num').textContent = `Question ${mockCurrentIndex + 1} of ${mockQuestions.length}`;
            const titleHtml = q.title ? `<div style="font-weight: 800; font-size: 18px; margin-bottom: 10px; color: #0f172a;">${formatInline(q.title)}</div>` : '';
            const scenarioHtml = q.scenario ? `<div style="color:#334155; font-size: 14px; line-height: 1.7; margin-bottom: 14px;">${paragraphs(q.scenario)}</div>` : '';
            const questionHtml = (q.question || '').toString().trim()
                ? `<div style="background:#eff6ff; border: 1px solid #93c5fd; border-radius: 10px; padding: 14px; color:#1e3a8a; font-weight:700;">â“ ${formatInline(q.question)}</div>`
                : '';
            document.getElementById('mock-question-text').innerHTML = `${titleHtml}${scenarioHtml}${questionHtml}`;
            
            // Populate answer (hidden initially)
            const why = q.whyThisMatters ? `<div style="margin-top: 14px; padding-top: 14px; border-top: 1px solid rgba(15,23,42,0.08); color:#334155; font-size: 13px; line-height: 1.7;">${paragraphs(q.whyThisMatters)}</div>` : '';
            document.getElementById('mock-answer-text').innerHTML = `${formatInline(q.correctAnswer || '')}${why}`;
            document.getElementById('mock-reference-text').textContent = q.reference || '';
            document.getElementById('mock-reference-link').href = primaryLink(q.link) || '#';
            
            // Reset visibility - hide answer, show thinking space
            document.getElementById('mock-thinking-space').classList.remove('hidden');
            document.getElementById('mock-answer-section').classList.add('hidden');
            
            // Update progress bar
            const progress = ((mockCurrentIndex + 1) / mockQuestions.length) * 100;
            document.getElementById('mock-progress-fill').style.width = progress + '%';
        }
        
        // Reveal answer in mock exam
        function revealMockAnswer() {
            // Hide thinking space/reveal button
            document.getElementById('mock-thinking-space').classList.add('hidden');
            
            // Show answer section with rating buttons
            document.getElementById('mock-answer-section').classList.remove('hidden');
        }
        
        // Rate question in mock exam
        function mockRateQuestion(rating) {
            const questionId = mockQuestions[mockCurrentIndex];
            mockResults.push({
                questionId: questionId,
                rating: rating
            });
            
            // Move to next question or end
            mockCurrentIndex++;
            if (mockCurrentIndex < mockQuestions.length) {
                loadMockQuestion();
            } else {
                // All questions answered
                clearInterval(mockTimer);
                endMockCheckride();
            }
        }
        
        // End mock checkride and show results
        function endMockCheckride() {
            // Hide exam screen
            const examScreen = document.getElementById('mock-exam-screen');
            examScreen.classList.remove('active');
            examScreen.classList.add('hidden');
            
            // Calculate results
            let correct = 0, unsure = 0, wrong = 0;
            mockResults.forEach(result => {
                if (result.rating === 'correct') correct++;
                else if (result.rating === 'unsure') unsure++;
                else if (result.rating === 'wrong') wrong++;
            });

            // Persist mock results into overall progress (keyed by question ID)
            for (const result of mockResults) {
                if (!result.questionId) continue;
                progress[result.questionId] = result.rating;
                touchQuestion(result.questionId);
            }
            saveProgress();
            
            const percentage = Math.round((correct / mockQuestions.length) * 100);
            const timeUsed = 1800 - mockTimeRemaining;
            const minutesUsed = Math.floor(timeUsed / 60);
            const secondsUsed = timeUsed % 60;

            // Save mock attempt to backend (if Cloud Sync enabled)
            saveMockCheckrideResult(correct, mockQuestions.length, timeUsed, mockQuestions).catch(() => {});
            
            let passFail = '';
            let message = '';
            let scoreColor = '';
            let animationClass = '';
            let containerStyle = '';
            
            if (percentage >= 80) { // 24/30 questions - checkride ready
                passFail = '<div style="font-size: 64px; margin-bottom: 16px;" class="mega-bounce">ðŸŽ‰âœ¨ðŸŽ‰</div><div style="color: #16a34a; font-size: 32px; font-weight: 900; margin-bottom: 16px; text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);" class="epic-celebrate">YOU PASSED!</div>';
                message = "ðŸ”¥ Outstanding performance! You demonstrated checkride-ready knowledge. You'd likely pass the real oral exam! ðŸ”¥";
                scoreColor = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                animationClass = 'score-explode';
                containerStyle = 'background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(5, 150, 105, 0.05) 100%); border: 3px solid #10b981;';
            } else if (percentage >= 70) { // 21-23/30 questions - needs more work
                passFail = '<div style="font-size: 48px; margin-bottom: 16px;" class="fade-in-slow">âš ï¸</div><div style="color: #d97706; font-size: 28px; font-weight: 800; margin-bottom: 16px;" class="fade-in-slow">MARGINAL</div>';
                message = "You're close, but need more review. Focus on the questions you got wrong before your checkride.";
                scoreColor = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
                animationClass = 'fade-in-slow';
                containerStyle = '';
            } else { // Below 70% - not ready
                passFail = '<div style="font-size: 48px; margin-bottom: 16px;" class="shake-animation">âŒ</div><div style="color: #dc2626; font-size: 28px; font-weight: 800; margin-bottom: 16px;" class="shake-animation">NOT READY</div>';
                message = "You need more study time. Review the fundamentals and practice more before attempting a checkride.";
                scoreColor = 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';
                animationClass = 'shake-animation';
                containerStyle = '';
            }
            
            // Build results HTML
            const resultsHTML = `
                <div style="margin-bottom: 20px;">
                    <button type="button" onclick="backToModesFromMock()" style="padding: 12px 24px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3); border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; backdrop-filter: blur(10px);">
                        â† Back to Modes
                    </button>
                </div>
                <div style="background: rgba(255,255,255,0.95); border-radius: 20px; padding: 48px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); ${containerStyle}">
                    <h2 style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 800; color: #1e3a8a; text-align: center; margin-bottom: 24px;">
                        Mock Checkride Complete
                    </h2>
                    
                    ${passFail}
                    
                    <div class="${animationClass}" style="font-size: 96px; font-weight: 900; background: ${scoreColor}; -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; margin-bottom: 16px; ${percentage >= 80 ? 'text-shadow: 0 0 40px rgba(16, 185, 129, 0.3);' : ''}">
                        ${percentage}%
                    </div>
                    
                    <p style="color: #64748b; font-size: 16px; line-height: 1.6; text-align: center; max-width: 500px; margin: 0 auto 32px;">
                        ${message}
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 32px;">
                        <div style="background: #f0fdf4; padding: 20px; border-radius: 12px; border: 2px solid #bbf7d0; text-align: center;">
                            <div style="font-size: 36px; font-weight: 800; color: #16a34a;">${correct}</div>
                            <div style="font-size: 11px; color: #16a34a; font-weight: 600; text-transform: uppercase;">Correct</div>
                        </div>
                        <div style="background: #fffbeb; padding: 20px; border-radius: 12px; border: 2px solid #fde68a; text-align: center;">
                            <div style="font-size: 36px; font-weight: 800; color: #d97706;">${unsure}</div>
                            <div style="font-size: 11px; color: #d97706; font-weight: 600; text-transform: uppercase;">Unsure</div>
                        </div>
                        <div style="background: #fef2f2; padding: 20px; border-radius: 12px; border: 2px solid #fecaca; text-align: center;">
                            <div style="font-size: 36px; font-weight: 800; color: #dc2626;">${wrong}</div>
                            <div style="font-size: 11px; color: #dc2626; font-weight: 600; text-transform: uppercase;">Wrong</div>
                        </div>
                        <div style="background: #f8fafc; padding: 20px; border-radius: 12px; border: 2px solid #cbd5e1; text-align: center;">
                            <div style="font-size: 24px; font-weight: 800; color: #475569;">${minutesUsed}:${secondsUsed.toString().padStart(2, '0')}</div>
                            <div style="font-size: 11px; color: #475569; font-weight: 600; text-transform: uppercase;">Time Used</div>
                        </div>
                    </div>
                    
                    <div style="background: #f8fafc; border-radius: 12px; padding: 24px; margin-bottom: 24px;">
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 16px;">ðŸ“‹ Review Your Answers</h3>
                        <div id="mock-review-list"></div>
                    </div>
                    
                    <div style="display: flex; gap: 16px;">
                        <button type="button" onclick="backToModesFromMock()" style="flex: 1; padding: 16px; background: rgba(59,130,246,0.1); color: #1e40af; border: 2px solid rgba(59,130,246,0.3); border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif;">
                            â† Back to Modes
                        </button>
                        <button type="button" onclick="startMockCheckride()" style="flex: 1; padding: 16px; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; box-shadow: 0 4px 20px rgba(239,68,68,0.3);">
                            Try Again
                        </button>
                    </div>
                </div>
            `;
            
            // Show results
            const resultsEl = document.getElementById('mock-results');
            resultsEl.innerHTML = resultsHTML;
            resultsEl.classList.remove('hidden');
            resultsEl.classList.add('active');
            
            // Build review list
            let reviewHTML = '';
            mockResults.forEach((result, index) => {
                const q = getQuestion(result.questionId);
                const statusColor = result.rating === 'correct' ? '#16a34a' : result.rating === 'unsure' ? '#d97706' : '#dc2626';
                const statusBg = result.rating === 'correct' ? '#f0fdf4' : result.rating === 'unsure' ? '#fffbeb' : '#fef2f2';
                const statusIcon = result.rating === 'correct' ? 'âœ…' : result.rating === 'unsure' ? 'âš ï¸' : 'âŒ';
                const statusText = result.rating === 'correct' ? 'Mastered' : result.rating === 'unsure' ? 'Review Needed' : 'Need Practice';

                const promptText = q ? (q.title || q.question || q.id || '') : '';
                const modelAnswer = q ? (q.correctAnswer || '') : '';
                const refText = q ? (q.reference || '') : '';
                const refLink = q ? ((q.link || '').toString().split('|')[0].trim()) : '#';
                
                reviewHTML += `
                    <div style="background: ${statusBg}; border: 2px solid ${statusColor}40; border-radius: 12px; padding: 20px; margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; gap: 12px;">
                            <div style="flex: 1;">
                                <div style="color: #64748b; font-size: 12px; font-weight: 600; margin-bottom: 4px;">QUESTION ${index + 1}</div>
                                <strong style="color: #1e293b; font-size: 15px; line-height: 1.5;">${promptText}</strong>
                            </div>
                            <span style="background: ${statusColor}; color: white; padding: 6px 12px; border-radius: 8px; font-weight: 700; font-size: 12px; white-space: nowrap;">${statusIcon} ${statusText}</span>
                        </div>
                        <div style="background: white; border-radius: 8px; padding: 16px; margin-top: 12px;">
                            <div style="color: #0f172a; font-weight: 600; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px; color: #059669;">MODEL ANSWER</div>
                            <div style="color: #334155; font-size: 14px; line-height: 1.7;">
                                ${modelAnswer}
                            </div>
                            <a href="${refLink}" target="_blank" style="display: inline-flex; align-items: center; gap: 6px; margin-top: 12px; padding: 8px 14px; background: #eff6ff; border: 1px solid #93c5fd; border-radius: 8px; color: #1e40af; text-decoration: none; font-size: 13px; font-weight: 600;">
                                ðŸ“– ${refText}
                            </a>
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('mock-review-list').innerHTML = reviewHTML;
        }
        
        // Back to modes from mock results
        function backToModesFromMock() {
            const resultsEl = document.getElementById('mock-results');
            resultsEl.classList.remove('active');
            resultsEl.classList.add('hidden');
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('main-reset-container').classList.remove('hidden');
            document.getElementById('stats-dashboard').classList.remove('hidden');
            
            // Reset mock state
            mockCurrentIndex = 0;
            mockResults = [];
            mockQuestions = [];
        }
        
        // Try again - restart mock checkride
        function tryAgainMockCheckride() {
            // Hide results
            const resultsEl = document.getElementById('mock-results');
            resultsEl.classList.remove('active');
            resultsEl.classList.add('hidden');
            
            // Reset mock state
            mockCurrentIndex = 0;
            mockResults = [];
            mockQuestions = [];
            
            // Show briefing again
            startMockCheckride();
        }
        
        // End session immediately - show results with current progress
        function endSessionNow() {
            // Stop the timer
            clearInterval(mockTimer);
            
            // End the checkride and show results
            endMockCheckride();
        }
        
        // State
        let currentMode = null;
        let currentIndex = 0;
        let questionOrder = []; // array of question IDs (e.g., "Q12")

        function safeJsonParse(raw, fallback) {
            if (!raw) return fallback;
            try { return JSON.parse(raw); } catch { return fallback; }
        }

        function migrateLegacyProgressIfNeeded() {
            const existing = localStorage.getItem(STORAGE.progressV2);
            if (existing) return;

            const legacy = safeJsonParse(localStorage.getItem(STORAGE.legacyProgress), null);
            if (!legacy || typeof legacy !== 'object') return;

            const migrated = {};
            for (const [indexStr, rating] of Object.entries(legacy)) {
                const idx = Number(indexStr);
                const q = questions[idx];
                if (!q || !q.id) continue;
                if (rating !== 'correct' && rating !== 'unsure' && rating !== 'wrong') continue;
                migrated[q.id] = rating;
            }

            localStorage.setItem(STORAGE.progressV2, JSON.stringify(migrated));
            // keep legacy for rollback/debug
        }

        function loadProgressV2() {
            migrateLegacyProgressIfNeeded();
            const saved = safeJsonParse(localStorage.getItem(STORAGE.progressV2), {});
            return (saved && typeof saved === 'object') ? saved : {};
        }

        function loadAttemptsV2() {
            const saved = safeJsonParse(localStorage.getItem(STORAGE.attemptsV2), {});
            return (saved && typeof saved === 'object') ? saved : {};
        }

        function loadUpdatedV2() {
            const saved = safeJsonParse(localStorage.getItem(STORAGE.updatedV2), {});
            return (saved && typeof saved === 'object') ? saved : {};
        }

        let progress = loadProgressV2();
        let attempts = loadAttemptsV2();
        let updated = loadUpdatedV2();

        function touchQuestion(questionId) {
            attempts[questionId] = (attempts[questionId] || 0) + 1;
            updated[questionId] = new Date().toISOString();
        }

        // Save progress
        function saveProgress() {
            localStorage.setItem(STORAGE.progressV2, JSON.stringify(progress));
            localStorage.setItem(STORAGE.attemptsV2, JSON.stringify(attempts));
            localStorage.setItem(STORAGE.updatedV2, JSON.stringify(updated));
            updateStats();
        }
        
        // Update stats display
        function updateStats() {
            let correct = 0, unsure = 0, wrong = 0, studied = 0;
            
            for (let key in progress) {
                studied++;
                if (progress[key] === 'correct') correct++;
                else if (progress[key] === 'unsure') unsure++;
                else if (progress[key] === 'wrong') wrong++;
            }
            
            document.getElementById('stat-correct').textContent = correct;
            document.getElementById('stat-unsure').textContent = unsure;
            document.getElementById('stat-wrong').textContent = wrong;
            document.getElementById('stat-progress').textContent = studied;
            
            // Update progress bar
            const progressPercent = (studied / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progressPercent + '%';
        }
        
        // Start mode
        function startMode(mode) {
            // console.log('startMode called with mode:', mode);
            currentMode = mode;
            currentIndex = 0;
            
            // Setup question order
            if (mode === 'review') {
                // console.log('Review mode - checking for wrong answers');
                // Only show questions marked as wrong
                questionOrder = QUESTION_IDS.filter(id => progress[id] === 'wrong');
                
                // console.log('Wrong answers found:', questionOrder.length);
                
                // If no wrong answers, show message
                if (questionOrder.length === 0) {
                    // console.log('No wrong answers - showing modal');
                    document.getElementById('no-wrong-answers-overlay').classList.remove('hidden');
                    return;
                }
            } else if (mode === 'random') {
                questionOrder = [...QUESTION_IDS];
                // Fisher-Yates shuffle
                for (let i = questionOrder.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [questionOrder[i], questionOrder[j]] = [questionOrder[j], questionOrder[i]];
                }
            } else {
                questionOrder = [...QUESTION_IDS];
            }
            
            // Show/hide elements
            document.getElementById('mode-selection').classList.add('hidden');
            document.getElementById('main-reset-container').classList.add('hidden');
            document.getElementById('control-bar').classList.remove('hidden');
            document.getElementById('progress-container').classList.remove('hidden');
            document.getElementById('question-card').classList.remove('hidden');
            
            loadQuestion();
        }
        
        // Load question
        function loadQuestion() {
            // Safety check
            if (!questionOrder || questionOrder.length === 0 || currentIndex >= questionOrder.length) {
                // console.error('Invalid question order or index');
                return;
            }
            
            const questionId = questionOrder[currentIndex];
            const q = getQuestion(questionId);
            
            // Double safety check
            if (!q) {
                // console.error('Question not found:', questionId);
                return;
            }
            
            // Save scroll position
            const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
            
            document.getElementById('q-num').textContent = q.id || String(questionId);
            
            function formatInline(text) {
                const t = (text || '').toString();
                return t.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
            }

            function paragraphs(text) {
                const raw = (text || '').toString().trim();
                if (!raw) return '';
                return raw
                    .split(/\n\s*\n/g)
                    .map(p => `<p>${formatInline(p)}</p>`)
                    .join('');
            }

            function primaryLink(linkField) {
                const raw = (linkField || '').toString().trim();
                if (!raw) return '';
                return raw.split('|')[0].trim();
            }

            const titleHtml = q.title ? `<div style="font-weight: 800; font-size: 20px; color: #0f172a; margin-bottom: 10px;">${formatInline(q.title)}</div>` : '';
            const scenarioHtml = q.scenario ? `<div class="scenario-narrative">${paragraphs(q.scenario)}</div>` : '';
            const hasQuestionText = Boolean((q.question || '').toString().trim());
            const questionHtml = hasQuestionText ? `
                <div class="dpe-question">
                    <span class="question-icon">â“</span>
                    <div>${formatInline(q.question)}</div>
                </div>
            ` : '';

            const questionHTML = `${titleHtml}${scenarioHtml}${questionHtml}`;

            const trapHtml = q.trapReasoning ? `
                <div class="trap-section">
                    <div class="trap-header">
                        <span>âš ï¸</span>
                        <span>Common Trap</span>
                    </div>
                    <div class="trap-quote">${formatInline(q.trapReasoning)}</div>
                </div>
            ` : '';

            const whyHtml = q.whyThisMatters ? `
                <div class="why-section">
                    <div class="why-header">
                        <span>ðŸ“Œ</span>
                        <span>Why This Matters</span>
                    </div>
                    <div class="why-content">
                        ${paragraphs(q.whyThisMatters)}
                    </div>
                </div>
            ` : '';

            const cramHtml = q.cramMode ? `
                <div class="quick-recall">
                    <div class="recall-label">
                        <span>ðŸ’¡</span>
                        <span>Quick Recall</span>
                    </div>
                    <div class="recall-content">${formatInline(q.cramMode)}</div>
                </div>
            ` : '';

            const answerHTML = `
                <div class="answer-label">MODEL ANSWER</div>
                <div class="correct-answer-box">
                    <div class="answer-content">${formatInline(q.correctAnswer || '')}</div>
                </div>
                ${trapHtml ? `<div class="section-divider"></div>${trapHtml}` : ''}
                ${whyHtml ? `<div class="section-divider"></div>${whyHtml}` : ''}
                ${cramHtml ? `<div class="section-divider"></div>${cramHtml}` : ''}
            `;
            
            document.getElementById('question-text').innerHTML = questionHTML;
            document.getElementById('answer-text').innerHTML = answerHTML;
            document.getElementById('reference-text').textContent = q.reference || '';
            document.getElementById('reference-link').href = primaryLink(q.link) || '#';
            
            // Hide answer section
            document.getElementById('answer-section').classList.add('hidden');
            document.getElementById('show-answer-btn').classList.remove('hidden');
            
            // Update nav buttons
            document.getElementById('prev-btn').disabled = currentIndex === 0;
            document.getElementById('next-btn').disabled = currentIndex === questionOrder.length - 1;
            
            // Restore scroll position
            window.scrollTo(0, scrollPosition);
        }
        
        // Toggle Details function for regulatory details
        function toggleDetails(button) {
            const whySection = button.closest('.why-section');
            const details = whySection.querySelector('.regulatory-details');
            const arrow = button.querySelector('.details-arrow');
            
            if (details.classList.contains('hidden')) {
                details.classList.remove('hidden');
                arrow.classList.add('expanded');
            } else {
                details.classList.add('hidden');
                arrow.classList.remove('expanded');
            }
        }
        
        // Show answer
        function showAnswer() {
            document.getElementById('answer-section').classList.remove('hidden');
            document.getElementById('show-answer-btn').classList.add('hidden');
        }
        
        // Rate question
        function rateQuestion(rating) {
            const questionId = questionOrder[currentIndex];
            progress[questionId] = rating;
            touchQuestion(questionId);
            saveProgress();
            
            // Check if all questions are completed
            checkCompletion();
            
            // Auto-advance to next question (only if not at end of current mode)
            if (currentIndex < questionOrder.length - 1) {
                nextQuestion();
            }
        }
        
        // Navigation
        function nextQuestion() {
            if (currentIndex < questionOrder.length - 1) {
                currentIndex++;
                loadQuestion();
            }
        }
        
        function prevQuestion() {
            if (currentIndex > 0) {
                currentIndex--;
                loadQuestion();
            }
        }
        
        // Back to modes
        function backToModes() {
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('main-reset-container').classList.remove('hidden');
            document.getElementById('control-bar').classList.add('hidden');
            document.getElementById('progress-container').classList.add('hidden');
            document.getElementById('question-card').classList.add('hidden');
            currentMode = null;
        }
        
        // Reset progress (bulletproof version)
        function resetProgress(event) {
            // Store the button reference for later
            window.resetButtonRef = event;
            // Show confirmation modal
            document.getElementById('reset-confirmation-overlay').classList.remove('hidden');
        }
        
        // Reset progress from main page
        function resetProgressMainPage(event) {
            // Store the button reference for later
            window.resetButtonRef = event;
            // Show confirmation modal
            document.getElementById('reset-confirmation-overlay').classList.remove('hidden');
        }
        
        // Close reset confirmation
        function closeResetConfirmation() {
            document.getElementById('reset-confirmation-overlay').classList.add('hidden');
            window.resetButtonRef = null;
        }
        
        // Confirm reset
        function confirmReset() {
            // Clear everything
            progress = {};
            attempts = {};
            updated = {};
            localStorage.removeItem(STORAGE.progressV2);
            localStorage.removeItem(STORAGE.attemptsV2);
            localStorage.removeItem(STORAGE.updatedV2);
            localStorage.removeItem(STORAGE.legacyProgress);
            updateStats();
            
            // Close modal
            document.getElementById('reset-confirmation-overlay').classList.add('hidden');
            
            // Show feedback on original button if available
            if (window.resetButtonRef && window.resetButtonRef.currentTarget) {
                const btn = window.resetButtonRef.currentTarget;
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ Progress Reset!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            }
            
            window.resetButtonRef = null;
        }
        
        // Export progress as JSON
        function exportProgress() {
            // Get current progress data
            const exportData = {
                exportDate: new Date().toISOString(),
                appVersion: "1.0",
                totalQuestions: questions.length,
                progress: progress,
                stats: {
                    studied: Object.keys(progress).length,
                    correct: Object.values(progress).filter(p => p === 'correct').length,
                    unsure: Object.values(progress).filter(p => p === 'unsure').length,
                    wrong: Object.values(progress).filter(p => p === 'wrong').length
                }
            };
            
            // Convert to JSON string
            const jsonString = JSON.stringify(exportData, null, 2);
            
            // Create blob and download
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ppl-oral-exam-progress-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Show success message
            showCustomAlert('âœ… Progress Exported!', 'Your progress has been downloaded as a JSON file. You can import this later to restore your progress.');
        }
        
        // Show Performance Insights
        function showPerformanceInsights() {
            // Calculate stats
            let correct = 0, unsure = 0, wrong = 0;
            const studied = Object.keys(progress).length;
            
            for (let key in progress) {
                if (progress[key] === 'correct') correct++;
                else if (progress[key] === 'unsure') unsure++;
                else if (progress[key] === 'wrong') wrong++;
            }
            
            // Calculate percentages
            const totalQuestions = questions.length;
            const studiedPercent = Math.round((studied / totalQuestions) * 100);
            const masteredPercent = studied > 0 ? Math.round((correct / studied) * 100) : 0;
            const readinessScore = studied > 0 ? Math.round(((correct * 1.0 + unsure * 0.5) / studied) * 100) : 0;
            
            // Determine readiness level
            let readinessLevel = '';
            let readinessColor = '';
            let readinessIcon = '';
            let readinessMessage = '';
            
            if (studied === 0) {
                readinessLevel = 'Not Started';
                readinessColor = '#94a3b8';
                readinessIcon = 'ðŸ“š';
                readinessMessage = "You haven't started studying yet. Begin with Study Mode to learn the material, then test yourself with Random Mode or Mock Checkride.";
            } else if (readinessScore >= 80 && studied >= 80) {
                readinessLevel = 'Checkride Ready';
                readinessColor = '#16a34a';
                readinessIcon = 'âœ…';
                readinessMessage = "Excellent! You're demonstrating strong knowledge across the material. You should feel confident going into your checkride. Consider taking a Mock Checkride to simulate exam conditions.";
            } else if (readinessScore >= 70 && studied >= 60) {
                readinessLevel = 'Almost Ready';
                readinessColor = '#d97706';
                readinessIcon = 'âš ï¸';
                readinessMessage = "You're close! Focus on the questions you got wrong or were unsure about. Review those areas and you'll be checkride ready.";
            } else if (studied >= 40) {
                readinessLevel = 'Making Progress';
                readinessColor = '#3b82f6';
                readinessIcon = 'ðŸ“ˆ';
                readinessMessage = "You're building your knowledge. Keep studying and make sure to review questions you get wrong. Aim to master at least 80% of questions before your checkride.";
            } else {
                readinessLevel = 'Just Getting Started';
                readinessColor = '#94a3b8';
                readinessIcon = 'ðŸŽ¯';
                readinessMessage = "Keep going! Study through more questions to get a better assessment of your readiness. Focus on understanding the concepts, not just memorizing answers.";
            }
            
            // Analyze categories by wrong/unsure answers
            const categoryAnalysis = {};
            for (const q of questions) {
                const category = (q.category || 'Uncategorized').toString();
                if (!categoryAnalysis[category]) {
                    categoryAnalysis[category] = { wrong: 0, unsure: 0, correct: 0, total: 0 };
                }
                categoryAnalysis[category].total++;
            }

            for (const [questionId, rating] of Object.entries(progress)) {
                const q = getQuestion(questionId);
                if (!q) continue;
                const category = (q.category || 'Uncategorized').toString();
                if (!categoryAnalysis[category]) {
                    categoryAnalysis[category] = { wrong: 0, unsure: 0, correct: 0, total: 0 };
                }
                if (rating === 'wrong') categoryAnalysis[category].wrong++;
                else if (rating === 'unsure') categoryAnalysis[category].unsure++;
                else if (rating === 'correct') categoryAnalysis[category].correct++;
            }

            const sortedCategories = Object.keys(categoryAnalysis).sort((a, b) => {
                const scoreA = categoryAnalysis[a].wrong * 2 + categoryAnalysis[a].unsure;
                const scoreB = categoryAnalysis[b].wrong * 2 + categoryAnalysis[b].unsure;
                return scoreB - scoreA;
            });

            let topicRecommendation = '';
            for (const category of sortedCategories) {
                const stats = categoryAnalysis[category];
                const problemCount = stats.wrong + stats.unsure;
                if (problemCount <= 0) continue;

                const bgColor = stats.wrong >= stats.unsure ? '#fef2f2' : '#fffbeb';
                const borderColor = stats.wrong >= stats.unsure ? '#ef4444' : '#f59e0b';
                const textColor = stats.wrong >= stats.unsure ? '#7f1d1d' : '#78350f';
                const icon = stats.wrong >= stats.unsure ? 'ðŸŽ¯' : 'âš ï¸';

                topicRecommendation = `
                    <div style="background: ${bgColor}; border-left: 4px solid ${borderColor}; padding: 24px; border-radius: 8px;">
                        <div style="font-weight: 700; color: ${textColor}; font-size: 16px; margin-bottom: 12px;">
                            ${icon} Focus on: ${category}
                        </div>
                        <div style="color: ${textColor}; font-size: 14px; line-height: 1.6;">
                            <strong>${stats.wrong} wrong</strong>, <strong>${stats.unsure} unsure</strong> out of <strong>${stats.total}</strong> questions in this category.
                        </div>
                    </div>
                `;
                break;
            }
            
            // If no problems, show encouragement
            if (topicRecommendation === '') {
                if (studied === totalQuestions) {
                    topicRecommendation = `
                        <div style="background: #f0fdf4; border-left: 4px solid #16a34a; padding: 24px; border-radius: 8px;">
                            <div style="font-weight: 700; color: #166534; font-size: 16px; margin-bottom: 12px;">
                                âœ… Excellent Performance Across All Topics!
                            </div>
                            <div style="color: #166534; font-size: 14px; line-height: 1.6;">
                                You're showing strong knowledge across all subject areas. Take a <strong>Mock Checkride</strong> to test yourself under pressure.
                            </div>
                        </div>
                    `;
                } else {
                    topicRecommendation = `
                        <div style="background: #eff6ff; border-left: 4px solid #3b82f6; padding: 24px; border-radius: 8px;">
                            <div style="font-weight: 700; color: #1e40af; font-size: 16px; margin-bottom: 12px;">
                                ðŸ“š Continue Studying
                            </div>
                            <div style="color: #1e40af; font-size: 14px; line-height: 1.6;">
                                You've completed ${studiedPercent}% (${studied}/${totalQuestions} questions). Continue with <strong>Study Mode</strong> to cover all the material.
                            </div>
                        </div>
                    `;
                }
            }
            
            // Build insights HTML
            const insightsHTML = `
                <div style="max-width: 900px; margin: 0 auto;">
                    <div style="margin-bottom: 20px;">
                        <button type="button" onclick="closeInsights()" style="padding: 12px 24px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3); border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; backdrop-filter: blur(10px);">
                            â† Back to Modes
                        </button>
                    </div>
                    <div style="background: rgba(255,255,255,0.95); border-radius: 20px; padding: 48px; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <h2 style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 800; color: #1e3a8a; margin-bottom: 8px;">
                            Performance Insights
                        </h2>
                        <p style="color: #64748b; font-size: 16px;">Your detailed study analytics and recommendations</p>
                    </div>
                    
                    <!-- Readiness Score -->
                    <div style="background: linear-gradient(135deg, ${readinessColor}15 0%, ${readinessColor}25 100%); border: 3px solid ${readinessColor}40; border-radius: 16px; padding: 32px; margin-bottom: 32px; text-align: center;">
                        <div style="font-size: 48px; margin-bottom: 12px;">${readinessIcon}</div>
                        <div style="font-size: 24px; font-weight: 800; color: ${readinessColor}; margin-bottom: 8px;">${readinessLevel}</div>
                        <div style="font-size: 48px; font-weight: 800; color: ${readinessColor}; margin-bottom: 16px;">${readinessScore}%</div>
                        <div style="color: #64748b; font-size: 14px; line-height: 1.6; max-width: 600px; margin: 0 auto;">
                            ${readinessMessage}
                        </div>
                    </div>
                    
                    <!-- Progress Overview -->
                    <div style="margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 16px;">ðŸ“Š Progress Overview</h3>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
                            <div style="background: #f8fafc; padding: 20px; border-radius: 12px; text-align: center; border: 2px solid #e2e8f0;">
                                <div style="font-size: 32px; font-weight: 800; color: #3b82f6;">${studied}</div>
                                <div style="font-size: 12px; color: #64748b; font-weight: 600;">QUESTIONS STUDIED</div>
                                <div style="font-size: 11px; color: #94a3b8; margin-top: 4px;">${studiedPercent}% complete</div>
                            </div>
                            <div style="background: #f0fdf4; padding: 20px; border-radius: 12px; text-align: center; border: 2px solid #bbf7d0;">
                                <div style="font-size: 32px; font-weight: 800; color: #16a34a;">${correct}</div>
                                <div style="font-size: 12px; color: #16a34a; font-weight: 600;">MASTERED</div>
                                <div style="font-size: 11px; color: #059669; margin-top: 4px;">${masteredPercent}% of studied</div>
                            </div>
                            <div style="background: #fffbeb; padding: 20px; border-radius: 12px; text-align: center; border: 2px solid #fde68a;">
                                <div style="font-size: 32px; font-weight: 800; color: #d97706;">${unsure}</div>
                                <div style="font-size: 12px; color: #d97706; font-weight: 600;">REVIEW NEEDED</div>
                                <div style="font-size: 11px; color: #b45309; margin-top: 4px;">Need more practice</div>
                            </div>
                            <div style="background: #fef2f2; padding: 20px; border-radius: 12px; text-align: center; border: 2px solid #fecaca;">
                                <div style="font-size: 32px; font-weight: 800; color: #dc2626;">${wrong}</div>
                                <div style="font-size: 12px; color: #dc2626; font-weight: 600;">NEED PRACTICE</div>
                                <div style="font-size: 11px; color: #b91c1c; margin-top: 4px;">Focus here first</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recommendations -->
                    <div style="margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 16px;">ðŸ’¡ Your #1 Priority</h3>
                        ${topicRecommendation}
                    </div>
                    
                    <!-- Study Tips -->
                    <div style="background: #f8fafc; border-radius: 12px; padding: 24px; margin-bottom: 32px;">
                        <h3 style="font-size: 18px; font-weight: 700; color: #1e293b; margin-bottom: 16px;">ðŸ“– Study Tips</h3>
                        <ul style="color: #64748b; font-size: 14px; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li><strong>Be honest with ratings:</strong> Rating yourself honestly is crucial. If you peeked at the answer before deciding, mark it "Unsure" or "Wrong".</li>
                            <li><strong>Read FAA references:</strong> Click the reference links to read the actual regulations. Understanding the source material helps retention.</li>
                            <li><strong>Practice regularly:</strong> Short, frequent study sessions (15-20 minutes daily) are more effective than cramming.</li>
                            <li><strong>Test yourself:</strong> Use Random Mode or Mock Checkride to test recall, not just recognition.</li>
                            <li><strong>Focus on weak areas:</strong> Spend more time on questions you got wrong rather than reviewing what you already know.</li>
                        </ul>
                    </div>
                </div>
            `;
            
            // Hide mode selection, show insights
            document.getElementById('mode-selection').classList.add('hidden');
            document.getElementById('main-reset-container').classList.add('hidden');
            document.getElementById('stats-dashboard').classList.add('hidden');
            
            const insightsEl = document.getElementById('insights-screen');
            insightsEl.innerHTML = insightsHTML;
            insightsEl.classList.remove('hidden');
            insightsEl.classList.add('active');
        }
        
        // Close insights screen
        function closeInsights() {
            document.getElementById('insights-screen').classList.remove('active');
            document.getElementById('insights-screen').classList.add('hidden');
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('main-reset-container').classList.remove('hidden');
            document.getElementById('stats-dashboard').classList.remove('hidden');
        }

        // ============================================
        // CLOUD SYNC - Progress + Mock History
        // ============================================

        function buildLocalProgressRows() {
            return Object.entries(progress).map(([questionId, rating]) => ({
                question_id: questionId,
                rating: rating,
                attempts: attempts[questionId] || 0,
                updated_at: updated[questionId] || new Date().toISOString()
            }));
        }

        function mergeCloudProgressRows(rows) {
            if (!Array.isArray(rows)) return;
            let changed = false;

            for (const row of rows) {
                if (!row) continue;
                const questionId = row.question_id || row.questionId;
                if (!questionId) continue;

                const cloudUpdated = row.updated_at || row.updatedAt || row.updated;
                const cloudTs = cloudUpdated ? Date.parse(cloudUpdated) : 0;
                const localTs = updated[questionId] ? Date.parse(updated[questionId]) : 0;

                if (!progress[questionId] || cloudTs > localTs) {
                    if (row.rating) progress[questionId] = row.rating;
                    if (typeof row.attempts === 'number') attempts[questionId] = row.attempts;
                    if (cloudUpdated) updated[questionId] = cloudUpdated;
                    changed = true;
                }
            }

            if (changed) saveProgress();
        }

        async function syncNow({ showAlerts = false, throwOnError = false } = {}) {
            if (!cloudSync.isReady()) {
                if (showAlerts) alert('Cloud Sync not enabled. Click â€œâ˜ï¸ Cloud Syncâ€ to connect.');
                return false;
            }

            try {
                const rows = buildLocalProgressRows();
                if (rows.length) await cloudSync.pushProgress(rows);
                const pulled = await cloudSync.pullProgress();
                mergeCloudProgressRows(pulled);
                if (showAlerts) alert('âœ… Progress synced.');
                return true;
            } catch (error) {
                console.error('[CloudSync] Sync failed:', error);
                if (showAlerts) {
                    const info = formatCloudSyncError(error);
                    alert(
                        `âŒ Sync failed.${info.status ? ` (HTTP ${info.status})` : ''}\n\n` +
                        `${info.reason}\n\n` +
                        `${info.base}\n` +
                        (info.hint ? `\nTip: ${info.hint}\n` : '\n')
                    );
                }
                if (throwOnError) throw error;
                return false;
            }
        }

        async function manualSyncNow() {
            await syncNow({ showAlerts: true });
        }

        async function saveMockCheckrideResult(score, totalQuestions, timeSpent, questionsAttempted) {
            if (!cloudSync.isReady()) return;

            const passed = score >= Math.ceil(totalQuestions * 0.8);
            try {
                await cloudSync.saveMockResult({
                    score,
                    total_questions: totalQuestions,
                    passed,
                    time_spent_seconds: timeSpent,
                    questions_attempted: questionsAttempted
                });
                console.log('[CloudSync] Mock checkride result saved');
            } catch (error) {
                console.error('[CloudSync] Failed to save mock result:', error);
            }
        }

        async function showMockHistory() {
            if (!cloudSync.isReady()) {
                alert('Cloud Sync not enabled. Click â€œâ˜ï¸ Cloud Syncâ€ to connect.');
                return;
            }

            try {
                const history = await cloudSync.getMockHistory(10);
                console.log('Mock Checkride History:', history);

                if (!history || history.length === 0) {
                    alert('No mock checkride history found');
                    return;
                }

                let message = 'Your Mock Checkride History:\\n\\n';
                history.forEach((result, idx) => {
                    const date = new Date(result.completed_at || result.completedAt || Date.now()).toLocaleDateString();
                    const passed = result.passed ? 'âœ… PASS' : 'âŒ FAIL';
                    message += `${idx + 1}. ${date}: ${result.score}/${result.total_questions} - ${passed}\\n`;
                });

                alert(message);
            } catch (error) {
                console.error('[CloudSync] Failed to get mock history:', error);
                alert('Failed to load history: ' + (error.message || String(error)));
            }
        }

        function checkSyncStatus() {
            if (!cloudSync.isReady()) {
                console.log('âŒ Cloud Sync not enabled');
                return;
            }
            console.log('âœ… Cloud Sync enabled');
            console.log('Project URL:', CLOUD.projectUrl);
            console.log('Functions base:', CLOUD.functionsBase);
            console.log('License hash:', cloudSync.licenseKeyHash);
            console.log('Last sync:', cloudSync.lastSyncTime ? new Date(cloudSync.lastSyncTime).toLocaleString() : 'Never');
        }

        async function forceSyncNow() {
            await syncNow({ showAlerts: false });
            console.log('âœ… Force sync complete');
        }

        // ============================================
        // PAGE LOAD / UNLOAD
        // ============================================
        window.addEventListener('DOMContentLoaded', async () => {
            console.log('[App] Initializing...');
            updateStats();

            if (cloudSync.isReady()) {
                await syncNow();
                cloudSync.startAutoSync(() => syncNow());
            }
        });

        window.addEventListener('beforeunload', () => {
            if (cloudSync && cloudSync.isReady()) {
                cloudSync.stopAutoSync();
                // best-effort final push
                cloudSync.pushProgress(buildLocalProgressRows()).catch(() => {});
            }
        });
    </script>
</body>
</html>
